(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sipSendDTMF=t.sipToggleMute=void 0,t.sipRegister=function(e,t){try{console.log("tyring to connect"),0!=(s=new p.Stack({realm:"ze-streaming-sse.ml:8089",impi:"sipML5",impu:"sip:sipML5@ze-streaming-sse.ml",password:"zemoso@321",display_name:"sipML5",ice_servers:"[]",websocket_proxy_url:"wss://ze-streaming-sse.ml:8089/ws",events_listener:{events:"*",listener:E}})).start()&&n.store.dispatch((0,r.toggleSipConnectionStatus)({connected:!1}))}catch(e){console.log(e,"error here"),n.store.dispatch((0,r.toggleSipConnectionStatus)({connected:!1}))}},t.initializeSip=function(){p.setDebugLevel("info"),f=document.getElementById("audio_remote"),p.init(y)},t.sipCall=b,t.sipUnregister=function(){s&&s.stop()},t.sipHangup=C,t.restartStack=function(){if(!s)return;c=null,null,0!=s.start()&&n.store.dispatch((0,r.toggleSipConnectionStatus)({connected:!1}));return};var n=a(71),o=a(47),r=a(5675),i=(a(63),a(246)),l=a(5683),s=void 0,c=void 0,u=void 0,d=void 0,m=!1,p=window.SIPml,f=void 0,h=!1,g=void 0,v=(document.getElementById("ringtone"),!1);a(5476);var y=function(){d={audio_remote:f,bandwidth:{audio:void 0,video:void 0},video_size:{minWidth:void 0,minHeight:void 0,maxWidth:void 0,maxHeight:void 0},events_listener:{events:"*",listener:S}}};function b(e,t){if(!1,s&&!c){g=(0,l.generateUID)(e),console.log("Calling",e),c=s.newSession("call-audio",d);for(var a=arguments.length,r=Array(a>2?a-2:0),u=2;u<a;u++)r[u-2]=arguments[u];console.log((0,l.generatePhraseHints)(r),"phrase hint"),c.call(e,{sip_headers:[{name:"Do-Record",value:"true",session:!1},{name:"UID",value:g,session:!1},{name:"Platform",value:"tovo",session:!1},{name:"agentId",value:t.id,session:!1},{name:"Phrase-Hints",value:(0,l.generatePhraseHints)(r),session:!1},{name:"Caller-ID",value:"abc",session:!1}]})}else c&&(c.accept(d),(0,l.stopRingTone)(),n.store.dispatch((0,o.changeCallState)({calling:!0,status:"Connected to"})),(0,l.startTranscription)(g),(0,i.setIncomingCall)(e))}t.sipToggleMute=function(){if(console.log("Trying to mute"),c){console.log("Muting");var e=!c.bMute;return 0!=c.mute("audio",e)?(console.log("Mute Failed"),"NOT OK"):(c.bMute=e,"OK")}return"OK"},t.sipSendDTMF=function(e){c&&e&&c.dtmf(e)};function C(){c&&(c.hangup({events_listener:{events:"*",listener:S}}),c=null)}function E(e){tsk_utils_log_info("==stack event = "+e.type),console.log("Stack Event",e),"i_new_message"==e.type&&(g=e.getContentString(),console.log("UID may be",g));e.getSipResponseCode();switch(e.type){case"started":m=!1,console.log("Stack Started");try{this.newSession("register",{expires:200,events_listener:{events:"*",listener:S}}).register()}catch(e){}break;case"stopping":case"stopped":case"failed_to_start":case"failed_to_stop":if(m=!0,n.store.dispatch((0,r.toggleSipConnectionStatus)({connected:!1})),!s)return;if(h)return h=!1,"Call Disconnected",w(),void(0,l.doCallEndThings)(e,g);"stopped"==e.type&&c&&(c=null,null),(0,l.stopRingbackTone)(),(0,l.stopRingTone)();break;case"i_new_call":if(c)console.log("Hanging up...Already in call"),e.newSession.hangup();else{(c=e.newSession).setConfiguration(d),(0,l.startRingTone)();var t=c.getRemoteFriendlyName()||"unknown";console.log("Incoming Call from",t),b(t)}break;case"m_permission_requested":break;case"m_permission_accepted":case"m_permission_refused":e.type}}var S=function(e){switch(tsk_utils_log_info("==session event = "+e.type),console.log("Sip Event Occured",e),e.type){case"connecting":case"connected":"Call in progress..."===e.description?(h=!0,n.store.dispatch((0,o.changeCallState)({calling:!0,status:"Trying to connect"}))):"In Call"===e.description?(h=!0,console.log("Now In Call"),(0,l.startTranscription)(g),n.store.dispatch((0,o.changeCallState)({calling:!0,status:"Connected to"}))):"Connecting..."===e.description||"Connected"===e.description&&(console.log("toggling stack status"),n.store.dispatch((0,r.toggleSipConnectionStatus)({connected:!0})));break;case"transport_error":v=!0;break;case"terminating":case"terminated":if(console.log("terminate"),console.log(e.getSipResponseCode()),v)return void("terminated"==e.type&&(v=!1,n.store.dispatch((0,r.toggleSipConnectionStatus)({connected:!1}))));if(m)return;"terminated"==e.type&&(h=!1,403!==e.getSipResponseCode()&&(w(),(0,l.doCallEndThings)(e,g))),n.store.dispatch((0,o.changeCallState)({calling:!1})),(0,l.stopRingTone)(),(0,l.stopRingbackTone)();break;case"i_ect_new_call":u=e.session;break;case"i_ao_request":var t=e.getSipResponseCode();180!=t&&183!=t||(0,l.startRingTone)(),t>=400&&!(0,l.isBusy)(t)&&(!0,484==t?n.store.dispatch((0,o.changeCallState)({calling:!1,status:"Wrong Number"})):n.store.dispatch((0,o.changeCallState)({calling:!1,status:"Call Failed"}))),302==t&&(console.log("Call Forwarding"),n.store.dispatch((0,o.changeCallState)({calling:!0,status:"Call Forwarded"})));break;case"m_early_media":(0,l.stopRingbackTone)(),(0,l.stopRingTone)();break;case"m_local_hold_ok":e.session==c&&(c.bTransfering&&(c.bTransfering=!1),c.bHeld=!0);break;case"m_local_hold_nok":e.session==c&&(c.bTransfering=!1);break;case"m_local_resume_ok":e.session==c&&(c.bTransfering=!1,p.isWebRtc4AllSupported());break;case"m_local_resume_nok":e.session==c&&(c.bTransfering=!1);break;case"m_remote_hold":case"m_remote_resume":case"m_bfcp_info":case"o_ect_trying":case"o_ect_accepted":e.session;break;case"o_ect_completed":case"i_ect_completed":e.session==c&&(u&&(c=u),u=null);break;case"o_ect_failed":case"i_ect_failed":e.session;break;case"o_ect_notify":case"i_ect_notify":e.session==c&&e.getSipResponseCode()>=300&&c.bHeld&&c.resume();break;case"i_ect_requested":if(e.session==c){var a="Do you accept call transfer to ["+e.getTransferDestinationFriendlyName()+"]?";if(confirm(a)){c.acceptTransfer();break}c.rejectTransfer()}}};var w=function(){c&&(c=null)};window.addEventListener("offline",function(e){h?(console.log("INCALL"),h=!1,"Call Disconnected",C(),s.stop()):m||(m=!0,s.stop())})},126:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CHANGE_PERSONAL_DETAILS_SUCCESS="CHANGE PERSONAL DETAILS SUCCESS",t.CHANGE_PERSONAL_DETAILS_FAILURE="CHANGE PERSONAL DETAILS FAILURE",t.TOGGLE_MODAL="TOGGLE MODAL",t.UPDATE_COMM_MODAL="UPDATE COMM MODAL",t.UPDATE_PAYMENTS_MODAL="UPDATE PAYMENTS MODAL"},127:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAAA3NCSVQICAjb4U/gAAAAX3pUWHRSYXcgcHJvZmlsZSB0eXBlIEFQUDEAAAiZ40pPzUstykxWKCjKT8vMSeVSAANjEy4TSxNLo0QDAwMLAwgwNDAwNgSSRkC2OVQo0QAFmJibpQGhuVmymSmIzwUAT7oVaBst2IwAAAZNSURBVFiFzZlNbNNmGMf/rxO3jVs3IWloE5WFpqilgChSqklIsAZNaDsUhnZg0jjAiXGYtE7iMu3Q9rITbByBHdbLxpB2gMJtAqUTEt3UaIBWlXZtSUbk0DVJY5Lmu3l3sNMkTurEKUj7n+znfe38/DzP+/WEDL7/Mf5P0mt9wMYmXPyaiw/Zmzb6DSKvzyo6xHLsQtIoZFq9sQ6PaI9vspreT+r30LBROGXxnzAFNf3AVNhxP/yON259k0AjZv9ntnl7c0ITSqmENHclcHhatNfsqetyDqg097VEv+n541znshyaXQ6kxAaAeH32A3PA1bbmjVnjebUgMiptI2b/rQMPh/gQANgGydkfdF/5mNE/0WJsgAnAEB+6NfBgxOxX6bOth8Yc3kv2eemanPpO98kksR8BQPgu0v8hffIzcukGmJqZ/AlT0NaU2C581YEuds2f61wCgBYj8/kMc+hMaSvhu4h1P316uwEgSf2cCIqqmV4FaMTsv7znGQDYBpkvnxDz3srHyO79SEbxz+8NMw3xISHNLSZNCrsyh4aNwsReLwC0GJlLHmJQPlBkOjmOXY6GgQBc7n7maltTA7KxiQlHXTQAiMFETo7vBIjXZ686Z9p0ZVNrGdCV3sfS8GbO35FSWF3M0IWGR9wW07hjtjrQiNm/nxMBkJNjpNdd7yvr77mNTpiCpYGTgdp02cvdzwBgl4PREoh6HFkmY3el7aJtXgn0qXVJDtbZSU3vJzYtQLZBYj+Cjj6FeYgPDRuFcqDdSwDgHNYQLAno0BkNaZRNAoC5B6xB0SIDSEDDRkF2z7FRTTQy08EztTtJCi3SjTDRsajw6xAfkoYbA8At7ShajORQ3a8uBTpe6zM6D6C5fYsJAGm1FC0FuY2CDDQkJXmj44XYj+DgR9s2d/QRsxOOo2D0AJAI040wAJh7lEAmAQBjYxPSRoc4GwSCNBS2yyTxJd3MEh0LayGXIysAiGmPomO/QQTA2Js3pHvNA7hExGBizt+p3pZNIvICAIwFgviqfMFZSjtKfmH6DIUN1w6AAJBeNzn2RfG+84AcIwCRFdlJbZ2SQY5aORCAvpYowxeWEvWVqy5tfVLPcWJ2gu+Sb/M5pF4DKIY1LQKoHPy8Pqv51FFV+dsX6Nwd5e6W74IYkK8TYbRaii7ZzAEAy1W+Sm0LW7+UNIkwADDaDkBvEkg5N1aiVERnO+ljhYMcjfiqbg5VRCO+/L1RzN1VNkjZI/lJBuIAIFvjIBXLscxispBo6z5NNACIeS9zdrJscElanaObWYgvi5aWdgByaqMwvkqJAQCLKRMjpFulGyo80QoEad/odCutYgAvfpOXUgCchehYAIi/ki1SBMsdJqQ5AEwwy8VyLAC64mkACED+0bUq1i0aRg/bIAAafSkbm9tJEweUOAwAsJA0Qkrq2XgHACw3CFRjx+I4Spo4upmVllUAMHUDoJkE0mVA3phVBvJE7QCQEulf20z/6kBOVSBp3QjMyu5h9PIaItlLJGEwADyFQ2TeO9kAEJ1T/QwxQJceFPPX7CQ6VpnygJDmglkOUn0ovslOhR2nLX7M3aXLnsoQ0GSUPrpGq8Z03Yd1tbM6UJJPze1EWvPXFpHPlXb56d990oW8dNwUBk5b/ADyv47rest+mCaj+etuBJ/W+NV61HkQAE2JWC+Ll5Dm7kXkM6c8Uwez3I+r+wBgZTo/O1kG9Ojam6EBsDpHMwkEZhXmG8GBrUJbcem4+WpAmgno1GjpnETL+Xak9GssPyxGEADwPGG8HykeyYtA8U123O8CgJSYv32BJqMAaKSOFNmBYjl2wucqtZQtrt649YYwAADBp/nrbpqMoqHpu35dCRxeTJXtw5TlGG/camtK9HMi4qt05jpNRbG28JZopsKO718pi0FV6kPTol1myqXfKs2E31Vpr15BmxbtQprTWgGuX2M+V6Vv1IAALCZNb4lpzOcqHVYKqe2p70ccwQx31TlTWa5vTM8Txm8Dh9WL6DXq1MFM6y8hZyavk4vDO9ANYeBr37vBTKt6txpAADJU541bPeu2JibfzzVSNZ8KOy7+/d7jWGc9nTX81wHAxibcJmHEItfa1DUb6/BE7fciDk3/v2gD2lKbLttviLraqsfRG+9YSJq0/g8k6T8EbFQDCn/8YwAAAABJRU5ErkJggg=="},135:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=N(o),i=a(13),l=N(a(205)),s=N(a(133)),c=N(a(132)),u=N(a(165)),d=N(a(227)),m=N(a(170)),p=N(a(235)),f=N(a(33)),h=N(a(6)),g=N(a(150)),v=a(30),y=N(a(21)),b=N(a(39)),C=N(a(38)),E=N(a(109)),S=a(104),w=a(35),x=N(a(28)),T=N(a(29));function N(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleDrawerOpen=function(e){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.toggleDrawer=function(e){return function(){a.setState({open:e})}},a.onLogout=function(){C.default.post(b.default.apiUrl+"/logout/").then(function(e){}),a.redirect()},a.redirect=function(){(0,S.sipUnregister)(),window.location.href=a.props.user.signInUrl},a.state={open:!1,logoutUrl:a.props.user.signInUrl},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e,t,a,n=this,o=this.props,i=o.classes,v=o.theme,b=this.props.user.firstName?this.props.user.firstName:"",C=this.props.user.lastName?this.props.user.lastName:"",S=r.default.createElement("div",{onClick:function(){n.setState({open:!n.state.open})},onTouchEnd:function(){n.setState({open:!n.state.open})},className:this.state.open?(0,h.default)(i.userLogo,i.centerFlexBox,i.userLogoExpandedDrawer):(0,h.default)(i.userLogo,i.centerFlexBox)},(0,w.getFirstCharFromName)(this.props.user.firstName,this.props.user.lastName)),x=r.default.createElement("div",{className:i.list},r.default.createElement("div",null,r.default.createElement(c.default,{style:{paddingTop:"0px",paddingBottom:"0px"}},r.default.createElement(s.default,{button:!0,onClick:function(){n.setState({open:!1})},style:{paddingLeft:"0.7rem",paddingTop:"0px",paddingBottom:"0px",height:"4.166vw"},classes:{button:i.actionListItemButton}},r.default.createElement(d.default,null," ",r.default.createElement(l.default,{className:i.menuIcon})," "),r.default.createElement(m.default,null,r.default.createElement("div",{className:i.menuExpandedText},"MENU")))),r.default.createElement(u.default,{style:{backgroundColor:v.palette.text.primary,opacity:.5}}),r.default.createElement(c.default,{style:{paddingTop:"0px"}},r.default.createElement(s.default,{button:!0,onClick:this.redirect,classes:{button:i.actionListItemButton},style:{paddingLeft:"0.7rem"}},r.default.createElement(d.default,null," ",r.default.createElement(g.default,{className:i.backIcon})," "),r.default.createElement(m.default,null,r.default.createElement("div",{className:i.menuOptionsText},"Switch Back to Enterprise UI"))))),r.default.createElement("div",{className:(0,h.default)(i.logoutRow,i.centerFlexBox)},r.default.createElement("div",{className:i.userLogoContainer},S,r.default.createElement(y.default,{noWrap:!0,className:(0,h.default)(i.accountName)},b+" "+C)),r.default.createElement(E.default,{variant:"extended","aria-label":"Add",onClick:this.onLogout,className:i.logoutButton},r.default.createElement("div",{className:i.buttonText},"Logout")))),T=r.default.createElement(p.default,{open:this.state.open,onClose:this.toggleDrawer(!1),onOpen:this.toggleDrawer(!0),transitionDuration:500,swipeAreaWidth:"4.166vw"},r.default.createElement("div",{tabIndex:0,role:"button",onKeyDown:this.toggleDrawer(!1)},x));return r.default.createElement("div",null,r.default.createElement("div",{className:i.leftBar},T,r.default.createElement("div",{style:{zIndex:"120000"}},r.default.createElement(f.default,{color:"inherit","aria-label":"Open drawer",onTouchEnd:this.handleDrawerOpen,onClick:this.handleDrawerOpen,className:(0,h.default)(i.menuButton,(e={},t=i.hide,a=this.state.open,t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e))},r.default.createElement(l.default,{className:i.menuIcon})),r.default.createElement(u.default,{style:{backgroundColor:v.palette.text.primary,opacity:.5}}),this.props.topItems),r.default.createElement("div",{style:{height:"8vh",zIndex:"120000"}},S)))}}]),t}();k.propTypes={},k.defaultProps={user:{}};var I=(0,x.default)(function(e){return{leftBar:{height:"100vh",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",backgroundColor:e.palette.primary.main,filter:"drop-shadow(3px 0px 6px rgba(0, 0, 0, 0.2))"},list:{backgroundColor:e.palette.primary.main,height:"100vh",width:"25vw",display:"flex",flexDirection:"column",justifyContent:"space-between",color:e.palette.text.primary},menuExpandedText:{fontSize:"1.4222rem",color:e.palette.text.primary},menuOptionsText:{fontSize:"1rem",color:e.palette.text.primary},menuIcon:{height:"2rem",fontSize:"2rem",color:e.palette.text.primary},menuButton:{height:"4.166vw",borderRadius:"0px",width:"4.166vw",color:e.palette.text.primary,"&:hover":{backgroundColor:"#86BFE7"}},backIcon:{height:"1.5rem",fontSize:"1.5rem",color:e.palette.text.primary},logoutRow:{justifyContent:"space-between !important",padding:"5px",paddingLeft:"0.7rem"},userLogoContainer:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"50%"},userLogo:{height:"2rem",width:"2rem",margin:" 0.6111111111111112em ",cursor:"pointer",fontWeight:"bold",backgroundColor:e.palette.text.primary,color:e.palette.background.paper,borderRadius:"50%"},userLogoExpandedDrawer:{height:"2.15rem",width:"2.15rem"},logoutButton:{margin:e.spacing.unit,backgroundColor:e.palette.background.paper,height:"4vh",width:"6.25vw",boxShadow:"none","&:hover":{opacity:1,backgroundColor:e.palette.background.paper}},buttonText:{color:e.palette.text.primary,fontSize:"0.88rem",fontFamily:"Roboto, Regular"},actionListItemButton:{"&:hover":{opacity:1,backgroundColor:"#86BFE7"}},accountName:{fontSize:"1.15555555556rem",fontFamily:"Roboto",color:e.palette.text.primary}}},T.default);t.default=(0,v.connect)(function(e){return{user:e.personalDetails}},{})((0,i.withStyles)(I,{withTheme:!0})(k))},136:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=c(o),i=a(13),l=(c(a(24)),c(a(3))),s=a(26);function c(e){return e&&e.__esModule?e:{default:e}}var u={children:l.default.array},d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.classes;e.theme;return r.default.createElement("div",{className:t.footer},r.default.createElement("div",null,this.props.children),r.default.createElement("div",null,s.copyRightText))}}]),t}();d.defaultProps={children:null},d.propTypes=u,t.default=(0,i.withStyles)(function(e){return{footer:{position:"fixed",bottom:"0.648vh",color:e.palette.text.primary,fontSize:"0.9rem",opacity:.6,paddingLeft:"5.4vw",paddingRight:"1.1979vw",left:"0",width:"93.75vw",display:"flex",justifyContent:"space-between"}}},{withTheme:!0})(d)},137:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=d(o),i=d(a(3)),l=a(13),s=d(a(108)),c=d(a(88)),u=d(a(97));a(27);function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={open:a.props.open},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props.classes;return r.default.createElement(c.default,{onClose:this.props.onClose,"aria-labelledby":"simple-dialog-title",fullScreen:this.props.fullScreen,classes:{paperScrollPaper:e.dialogPaper},open:this.state.open},this.props.title&&r.default.createElement(s.default,{id:"simple-dialog-title",className:e.dialog},r.default.createElement("div",{className:e.dialog},this.props.title)),this.props.actions&&r.default.createElement(u.default,{className:e.dialog,style:{margin:"0px"}},this.props.actions.map(function(e,t){return r.default.createElement(r.default.Fragment,{key:t},e)})))}}]),t}();m.defaultProps={open:!1},m.propTypes={classes:i.default.object.isRequired},t.default=(0,l.withStyles)(function(e){return{dialog:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary},dialogPaper:{border:"2px solid white"}}},{withTheme:!0})(m)},147:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCustomerUrl=t.redirectionDataReset=t.redirectionObjReset=t.checkIfCallPrepPopOverOpen=t.handleCallPrepPopUp=t.onAudioEnded=t.play=t.constructChatObjForApiResponse=t.checkIfChatHeadOpen=t.stopRecording=t.startRecording=t.getNLPChatObjSpeaking_MultipleEntity=t.getNLPChatObjSpeaking_SingleEntity=t.getNLPChatObjProcessing=t.getNLPChatObj_MultipleEntity=t.getNLPChatObj_SingleEntity=t.getSTTChatObj=t.getStopRecordingAnimation=t.getRecordingAnimation=t.getNLPApiInputObj=t.getUserApiInputObj=t.greetingMsg=t.makeApiCall=t.checkIfUserGreeted=void 0;var n=d(a(0)),o=a(71),r=d(a(38)),i=a(5659),l=d(a(5662)),s=a(44),c=a(148),u=d(a(197));function d(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.getChatBot)(),p=(t.checkIfUserGreeted=function(){return console.log("checking if user greeted"),console.log(o.store.getState().freedaRootReducer),o.store.getState().freedaRootReducer.chatMessages.chatObjs.length>0},t.makeApiCall=function(e,t){var a=new FormData;return a.set("data",JSON.stringify(e)),(0,r.default)({method:"post",url:t,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}})},t.greetingMsg=function(){var e=o.store.getState().personalDetails,t=void 0;return e.firstName&&""!==e.firstName&&(t=e.firstName),{data:t,chatbotName:"TOVO_Chatbot",processType:"tts"}},t.getUserApiInputObj=function(e){return{data:e,chatbotName:"TOVO_Chatbot",processType:"speech"}},t.getNLPApiInputObj=function(e){return{data:e,chatbotName:"TOVO_Chatbot",processType:"nlp"}},t.getRecordingAnimation=function(){return{icon:"User",status:"Listening",content:null,choices:null,gif:n.default.createElement(u.default,{style:{height:"4.44444444444vh",width:"2.5vw"},gif:"/tovo/static/Ripple.gif",still:a(198),autoplay:!0})}},t.getStopRecordingAnimation=function(){return{icon:"User",status:"Processing",content:n.default.createElement(l.default,null),choices:null,gif:n.default.createElement(u.default,{style:{height:"4.44444444444vh",width:"2.5vw"},gif:null,still:a(198)})}},t.getSTTChatObj=function(e){return{icon:"User",status:"Response",content:e,choices:null,gif:n.default.createElement(u.default,{style:{height:"4.44444444444vh",width:"2.5vw"},gif:null,still:a(198)})}}),f=(t.getNLPChatObj_SingleEntity=function(e){return{icon:"Freeda",status:"Completed",content:e,choices:null,gif:n.default.createElement(u.default,{style:{height:"4.44444444444vh",width:"2.5vw"},gif:null,still:a(127)})}},t.getNLPChatObj_MultipleEntity=function(e,t){return{icon:"Freeda",status:"Completed",content:e,choices:t,gif:n.default.createElement(u.default,{style:{height:"4.44444444444vh",width:"2.5vw"},gif:null,still:a(127)})}},t.getNLPChatObjProcessing=function(){return{icon:"Freeda",status:"Completed",content:n.default.createElement(l.default,null),choices:null,gif:n.default.createElement(u.default,{style:{height:"4.44444444444vh",width:"2.5vw"},gif:null,still:a(127)})}},t.getNLPChatObjSpeaking_SingleEntity=function(e){return{icon:"Freeda",status:"Speaking",content:e,choices:null,gif:n.default.createElement(u.default,{style:{height:"4.44444444444vh",width:"2.5vw"},gif:"/tovo/static/FreedaChatAnim.gif",still:a(127),autoplay:!0})}}),h=t.getNLPChatObjSpeaking_MultipleEntity=function(e,t){return{icon:"Freeda",status:"Speaking",content:e,choices:t,gif:n.default.createElement(u.default,{style:{height:"4.44444444444vh",width:"2.5vw"},gif:"/tovo/static/FreedaChatAnim.gif",still:a(127),autoplay:!0})}},g=(t.startRecording=function(){m.speechRecognitionApi.initializeRecordAudio()},t.stopRecording=function(){m.speechRecognitionApi.recorder.stopRecording(m.speechRecognitionApi.onStop)},t.checkIfChatHeadOpen=function(){console.log("Checking if chathead is open")},t.constructChatObjForApiResponse=function(e){if(e.data.results.audioContent&&e.data.results.textContent){var t=new Audio("data:audio/wav;base64,"+e.data.results.audioContent),a=e.data.results.textContent,n=f(a);o.store.dispatch((0,s.handleSingleEntityApiResponse)(n)),o.store.dispatch((0,s.playAudio)(t))}else if(e.data.text&&e.data.confidence)if(""===e.data.text);else{var r=p(e.data.text);o.store.dispatch((0,s.handleSingleEntityApiResponse)(r))}else if(e.data.messageType&&e.data.responseList&&e.data.params&&e.data.intentName)if("Customer:Analysis"===e.data.intentName)if(e.data.params.customerId){if("text"===e.data.responseList[0].type&&"audio"===e.data.responseList[1].type){var i=e.data.responseList[0].response,l=new Audio("data:audio/wav;base64,"+e.data.responseList[1].audioContent),c=f(i);o.store.dispatch((0,s.handleSingleEntityApiResponse)(c)),o.store.dispatch((0,s.callPrepNav)(e.data.params.customerId)),o.store.dispatch((0,s.playAudio)(l))}}else if(e.data.params.customerId||"entity_choice"!==e.data.responseList[0].type){if(!e.data.params.customerId){var u=e.data.responseList[0].response,d=e.data.responseList[1].audioContent,m=f(u);o.store.dispatch((0,s.handleSingleEntityApiResponse)(m)),o.store.dispatch((0,s.playAudio)(d))}}else{var v=e.data.responseList[0].title,y=new Audio("data:audio/wav;base64,"+e.data.responseList[0].audioTitle),b=e.data.responseList[0].choiceList,C=h(v,b);o.store.dispatch((0,s.handleMultipleEntityApiResponse)(C)),o.store.dispatch((0,s.playAudio)(y))}else if("Communication_History"===e.data.intentName){if("text"===e.data.responseList[0].type&&"audio"===e.data.responseList[1].type){var E=e.data.responseList[0].response,S=e.data.responseList[1].audioContent,w=f(E);o.store.dispatch((0,s.handleSingleEntityApiResponse)(w)),o.store.dispatch((0,s.callPrepNav)()),o.store.dispatch((0,s.commHistoryPullUp)()),o.store.dispatch((0,s.playAudio)(S))}else if(!e.data.params.customerId&&"entity_choice"===e.data.responseList[0].type){var x=e.data.responseList[0].title,T=new Audio("data:audio/wav;base64,"+e.data.responseList[0].audioTitle),N=e.data.responseList[0].choiceList,k=h(x,N);o.store.dispatch((0,s.handleMultipleEntityApiResponse)(k)),o.store.dispatch((0,s.playAudio)(T))}}else if("Payments_History"===e.data.intentName){if("text"===e.data.responseList[0].type&&"audio"===e.data.responseList[1].type){var I=e.data.responseList[0].response,A=e.data.responseList[1].audioContent,O=f(I);o.store.dispatch((0,s.handleSingleEntityApiResponse)(O)),o.store.dispatch((0,s.callPrepNav)()),o.store.dispatch((0,s.paymentHistoryPullUp)()),o.store.dispatch((0,s.playAudio)(A))}else if(!e.data.params.customerId&&"entity_choice"===e.data.responseList[0].type){var P=e.data.responseList[0].title,R=new Audio("data:audio/wav;base64,"+e.data.responseList[0].audioTitle),D=e.data.responseList[0].choiceList,_=h(P,D);o.store.dispatch((0,s.handleMultipleEntityApiResponse)(_)),o.store.dispatch((0,s.playAudio)(R))}}else if("FollowUp-PaymentsHistory"===e.data.intentName){if("text"===e.data.responseList[0].type&&"audio"===e.data.responseList[1].type){var M=e.data.responseList[0].response,L=e.data.responseList[1].audioContent,F=f(M);o.store.dispatch((0,s.handleSingleEntityApiResponse)(F)),o.store.dispatch((0,s.paymentHistoryPullUp)()),o.store.dispatch((0,s.playAudio)(L))}}else if("FollowUp-CommunicationHistory"===e.data.intentName){if("text"===e.data.responseList[0].type&&"audio"===e.data.responseList[1].type){var B=e.data.responseList[0].response,j=e.data.responseList[1].audioContent,U=f(B);o.store.dispatch((0,s.handleSingleEntityApiResponse)(U)),o.store.dispatch((0,s.commHistoryPullUp)()),o.store.dispatch((0,s.playAudio)(j))}}else if("Call_Now"!==e.data.intentName||e.data.params.customerId){if("Call_Customer"===e.data.intentName&&e.data.params.customerId){if("text"===e.data.responseList[0].type&&"audio"===e.data.responseList[1].type){var H=e.data.responseList[0].response,z=e.data.responseList[1].audioContent,W=f(H);o.store.dispatch((0,s.handleSingleEntityApiResponse)(W)),o.store.dispatch((0,s.callPrepNav)(e.data.params.customerId)),o.store.dispatch((0,s.playAudio)(z))}}else if("text"===e.data.responseList[0].type&&"audio"===e.data.responseList[1].type){var G=e.data.responseList[0].response,V=e.data.responseList[1].audioContent,Y=f(G);o.store.dispatch((0,s.handleSingleEntityApiResponse)(Y)),o.store.dispatch((0,s.playAudio)(V))}}else if("text"===e.data.responseList[0].type&&"audio"===e.data.responseList[1].type){var q=e.data.responseList[0].response,K=e.data.responseList[1].audioContent,X=f(q);o.store.dispatch((0,s.reqCallPrepCurrentState)({getSnapshot:!0}));var Q=o.store.getState().callPrepState;Q.nextCustomerUrl=g().nextCustomerUrl,Q.toCallCustomers=g().toCallCustomers,o.store.dispatch((0,s.handleSingleEntityApiResponse)(X)),o.store.dispatch((0,s.inCallNav)(Q)),o.store.dispatch((0,s.reqCallPrepCurrentState)({getSnapshot:!1})),o.store.dispatch((0,s.playAudio)(K))}},t.play=function(e){e.addEventListener("ended",function(){o.store.dispatch((0,s.audioEnded)())}),e.play()},t.onAudioEnded=function(){o.store.dispatch((0,s.apiSuccess)({icon:"Freeda",status:"Completed"}))},t.handleCallPrepPopUp=function(e,t){o.store.dispatch((0,c.toggleModal)({open:e,type:t}))},t.checkIfCallPrepPopOverOpen=function(){var e=o.store.getState().freedaRootReducer.redirect.paymentHist,t=o.store.getState().freedaRootReducer.redirect.commHist;return e?"PAYMENT_HISTORY":t?"COMM_HISTORY":void 0},t.redirectionObjReset={callPrep:!1,inCall:!0,paymentHist:!1,commHist:!1},t.redirectionDataReset={callPrepData:null,inCallData:null},t.getNextCustomerUrl=function(){var e=null,t=o.store.getState().personalDetails.workBookList,a=o.store.getState().freedaRootReducer.callPrepState,n={nextCustomerUrl:nextCustomerUrl,toCallCustomers:toCallCustomers};if(t){if(a.customer.id&&(console.log("Searching for customer "+a.customer.id),workBookList.includes(a.customer.id))){e=workBookList.indexOf(a.customer.id)+1;var r=void 0;console.log("Index of found customer:::"+e),e>=workBookList.length?(console.log("Next customer is out of bound"),n.nextCustomerUrl=null,n.toCallCustomers=0):(r=workBookList.length-e,console.log("remainingCustomers::::"+r),n.nextCustomerUrl="/callprep/"+workBookList[e],n.toCallCustomers=r,console.log("Next customer is within in workbookList"+workBookList[e]+"To call customers:::"+(workBookList.length-e)))}}else n.nextCustomerUrl=a.nextCustomerUrl,n.toCallCustomers=a.toCallCustomers;return n})},148:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCommModalData=t.updatePaymentsModalData=t.toggleModal=void 0;var n=a(126);t.toggleModal=function(e){return{type:n.TOGGLE_MODAL,data:e}},t.updatePaymentsModalData=function(e){return{type:n.UPDATE_PAYMENTS_MODAL,data:e}},t.updateCommModalData=function(e){return{type:n.UPDATE_COMM_MODAL,data:e}}},171:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=c(a(106)),r=c(a(161)),i=c(a(0)),l=a(13),s=c(a(3));function c(e){return e&&e.__esModule?e:{default:e}}var u={customCard:s.default.string,header:s.default.string,icon:s.default.object,customTitle:s.default.string},d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),n(t,[{key:"render",value:function(){var e=this.props.classes;return i.default.createElement(o.default,{className:this.props.customCard?this.props.customCard:e.root},i.default.createElement(r.default,{className:e.cardContent},this.props.title&&i.default.createElement("div",{style:{zIndex:"1"},className:this.props.header?this.props.header:e.header},this.props.icon&&this.props.icon,i.default.createElement("div",{style:{zIndex:"0"},className:this.props.customTitle?this.props.customTitle:e.title},this.props.title)),this.props.children))}}]),t}();d.propTypes=u,d.defaultProps={},t.default=(0,l.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.default,width:"100%",height:"43.47vh",paddingTop:"0",boxShadow:"none"},header:{display:"flex",flexDirection:"row",padding:"0.8888rem 0 0 0.8888rem",height:"1.06666666667rem",alignItems:"center",opacity:.65},title:{color:e.palette.cardBackground.color,fontFamily:e.typography.fontFamily,fontSize:"1.05rem"},cardContent:{padding:0,display:"flex",flexDirection:"column",height:"100%"}}},{withTheme:!0})(d)},198:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAAA3NCSVQICAjb4U/gAAAAX3pUWHRSYXcgcHJvZmlsZSB0eXBlIEFQUDEAAAiZ40pPzUstykxWKCjKT8vMSeVSAANjEy4TSxNLo0QDAwMLAwgwNDAwNgSSRkC2OVQo0QAFmJibpQGhuVmymSmIzwUAT7oVaBst2IwAAAYCSURBVFiFzZhZc9s2EIAXF0FSpiTLTpxkpulM3/rUH9F/0P8/0zqTTBxfkk3xwLFAH0hClEgdznha7/iBhkDsh72wIPnjz7/gLQn9vwF25c0B8Z9/lTLKOKFs+IuzxqEl4P8LIMIEkwllgtAj1nVonVFWVS8iOxXIA2EiYnJC2YhJRoUyThnn8cSqGnUJDl8PiLIonW2hMM6ihIqIcjlgd04rNLXTVatDxlzGVlVYr18BiAop0umGJMl4kjEZH3iFxakA8OhsnZviCdACAJcJ5UKvV4c9eASIxRnvdFOZyuySiFO9TBgVk5mYzGyZ6+cH8I4yLrOFLlYH3HcoMJlMWxpC5fmHePHhEM3+bfM0S959pjIFAEJpNJl7IHsn7yUVkscTAKBcysVHwrbRCROTOU/OWBTvpJuzBo2yZW7LVW86jRcfbJnrpztCaXQ23+e7cSDCozZuCJXzqz4NYZGcXYrJbO9OuKBciOTMn1+Z/FE9322UpZnT2lZPlPHobG7Wy9OACBVJ1jzKxce+m8TZRXz+fh/KYBkazS5Ftqjuv6IqmsFofuGccaqkjLP4bJh3IzHEk2njBTG9YNEmq+PFp9Np+ljp+888nYcROXsPjAMAlwlh4ggQFZIJAQA0Svp+4en8gJuOSnx+RUWbrYRROWs3xjtX7AVictLuY/puQ5NkycXHn6aB1k6/EhZ1WmKWZABAGaNiq7RuxRDhUVOOWZJtQoewePFpnyYWJUwm4V/v0BQ5gBtlihcfq7vr5t9ocl5VOQAwmTqjxoFY1FqV90pzfH41eo6KZCqm57TbdBA5e2/KJ/289M7s/MTjlKfzphwQwalMm+gGykKp3NLEGusxHmKZsGg0dKJsIc+vhjQtazpLr34ZzRg5u+zxTbb07gCFgOfRZKN4jIZFSZRdjKJsViMsuRwJO8pFCNPwQHobo/2p7bx4ExNskAUAIE9LfhalIpkOx0NmEUabZqHJ610gIF130WsC+3WoHZGTfZ4a0X02YuCttAotDaG7QKEZDRDBpFs6kpHBfcJETOhu6eNxupnQtVNB+4ub/ODZk+e/rEt+c7eONw3UlleP7YOzu5UNAFBVL1KAend+f1nvOqXe7QJ5tN0LuhvRQwWmyE+nMeXTcLAP5IKKYaX23ZCzm5PFVLv9incGdXkikC1H6G1vzeYUc7hpsTdAAbzvFKxHdFf3370/fsnS+cPQXwAQmjXUCryDbZv1Ysi7htTpOoSRKTZ9cU9cdfftgJ28R50/6PxxhEYrZ+p2lW63/djY6c91QxY2AR710/0IkVXV/TedPwxNhbqs7r6N0gCAWv0Iz6ZuHYpmA7RVtVCVXCYAoNdLnrYnjsofRbYY7UB0/qjzR8pl+BW1Gm2GGrF1GbZqy7y5QFpV968f22q8Q2MAANCaoksQj9X91306AMBZhbpq/g7QeOfCOh6d7q4cwYNjQAC2M6PJlyGSUBXVw/cDTEfFO1feXkPnX9vdr9Eoj1vVbuAIh7YumjX6/rblqrz9EurYiwS1Km7+DpZAVZti2VCaQV0YiQyrKocWAJyu1GpzzUNVlLfXqNXwlQNiqnV5ex3yCLVSy5tWUb0eXl7Zh99+3xkiAM4aJiQhxFuNRrEoJZQAgHfWFEsChEYxIXvv533d+vku3PuxLtXyR1N7rKrdWOEYAQIA8B6tbpnQOFWx+KxhAgBUpV6vnNFACGV8h8xZY6u1Wt3qp9twCgGALXO9um3grKqxHj+C9jcrDnWxEumUMu6sqh6+yuklC72VR1uu+p8TDohHp/MHrFoCWxeo9hbVg+2HQ71eNfEEaNXypn68Cal3omBdVndfAo0pnw/QwNEPVgS8Xq9EmjU3FafK6vYflmQ8nQ7b7b54dKgKvV5C10R450yVezvSQbwAqGGy5bMTMnzxxCrHKgdCWTyhdGQFVGW/ZYAmaFQB/rh1T214nVFoNJcJi5L2oPAOq/zooY/GoCp2qt8rAAEAAY+qRFUSHrEoPvypuvlIjbo+xSo/CRTEW22bUCB09Ev+6fZ4HaCeZvfSpDsqb+7W8S9VqCFLOF9FigAAAABJRU5ErkJggg=="},240:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=c(o),i=c(a(5534)),l=c(a(3)),s=c(a(5875));function c(e){return e&&e.__esModule?e:{default:e}}var u=0,d=-1,m=[],p=0,f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.computeValues=function(){m=a.props.pastDueBucketDocumentCountArray,u=0,d=-1;var e=0;if(a.props.data){for(var t=0;t<a.props.data.length;t++)e+=a.props.data[t];u=e}},a.state={data:a.props.data,pastDueBucketDocumentCountArray:a.props.pastDueBucketDocumentCountArray},a.updateDimensions=a.updateDimensions.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this.computeValues(),this.highChartsRender(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillReceiveProps",value:function(e){this.state.data!==e.data&&(this.setState({data:e.data}),this.setState({pastDueBucketDocumentCountArray:e.pastDueBucketDocumentCountArray}),this.computeValues(),this.highChartsRender())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"highChartsRender",value:function(){var e=this.props,t=e.enableCredits,a=e.chartType,n=e.backgroundColor,o=e.legendVerticalAlign,r=e.titleText,l=e.XAxisTickWidth,c=e.YAxisVisible,f=e.enableToolTip,h=e.datalabelsColor,g=e.legendHorizontalAlign,v=e.xAxisOverflow,y=e.pointWidthUnit;p=y*parseInt((0,s.default)("#parent").css("height"));var b=this.props.formatter,C=this.props.data;this.chart=i.default.chart({credits:{enabled:t},legend:{enabled:!1,symbolRadius:0,verticalAlign:o,align:g},xAxis:{lineWidth:.5,lineColor:"#395C73",tickWidth:l,max:this.props.max,categories:this.props.xdata,labels:{style:this.props.xAxisLabelStyles,rotation:this.props.xAxisRotation,overflow:v,y:.08*parseInt((0,s.default)("#parent").css("height"))}},yAxis:{visible:c},chart:{type:a,height:1.2*parseInt((0,s.default)("#parent").css("height")),spacingTop:.25*parseInt((0,s.default)("#parent").css("height")),renderTo:this.props.div,backgroundColor:n},title:{text:r},tooltip:{enabled:f},plotOptions:{column:{stacking:this.props.stacking,borderWidth:0,pointPadding:0,groupPadding:0,pointWidth:p,dataLabels:{enabled:this.props.enableDataLabels,style:{fontWeight:0,fontFamily:"Roboto",opacity:.8,lineHeight:this.props.lineHeight},useHTML:!0,formatter:function(){return d+=1,b(this.point,u,d,m)},color:h,x:this.props.dataLabelsX,align:this.props.dataLabelAlign,crop:this.props.dataLabelsCrop,overflow:this.props.dataLabelsOverflow,verticalAlign:null,allowOverlap:!0}},series:{minPointLength:2,colorByPoint:!0}},colors:this.props.chartColors,series:[{data:C}]})}},{key:"updateDimensions",value:function(){this.computeValues(),this.highChartsRender(),window.addEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.props,t=e.chartHeight,a=e.marginBottom,n=e.marginTop;return r.default.createElement("div",{id:"parent",style:{height:t,fontSize:"1em",marginTop:n,marginBottom:a}},r.default.createElement("div",{id:this.props.div}))}}]),t}();f.defaultProps={enableCredits:!1,chartType:"column",chartHeight:"100%",legendVisible:!0,backgroundColor:"",legendX:0,legendY:5,legendAlign:"center",legendVerticalAlign:"top",legendFontSize:"5px",titleText:"",XAxisLineWidth:1,XAxisTickWidth:0,XAxisLabelColor:"#CCCCCC",YAxisVisible:!1,enableToolTip:!1,enableDataLabels:!0,datalabelsColor:"red",legendHorizontalAlign:"right",xAxisOverflow:"justify"},f.PropType={id:l.default.string,xdata:l.default.object,enableCredits:!1,chartType:l.default.string,chartHeight:l.default.string,legendVisible:l.default.bool,backgroundColor:l.default.string,legendX:l.default.number,legendY:l.default.number,legendAlign:l.default.string,legendVerticalAlign:l.default.string,legendFontSize:l.default.string,titleText:l.default.string,XAxisLineWidth:l.default.number,XAxisTickWidth:l.default.number,XAxisLabelColor:l.default.string,YAxisVisible:l.default.bool,enableToolTip:l.default.bool,enableDataLabels:l.default.bool,datalabelsColor:l.default.string,legendHorizontalAlign:l.default.string,xAxisOverflow:l.default.string,formatter:l.default.func.isRequired},t.default=f},241:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.reOrderContacts=function(e){if(e){for(var t=e,a=0,o=void 0,r=0;r<t.length;r++)n(t[r])&&(o=t[r],t.splice(r,1),t.splice(a++,0,o));return t}};var n=t.isPrimary=function(e){return!!e&&e.isPrimary};t.getDefaultContact=function(e){var t=0;if(e&&e.length>0){for(var a=0;a<e.length;a++)if(n(e[a])){t=a;break}return{defaultContact:e[t],defaultIndex:t}}return{}},t.isStatusNegative=function(e){return"Call Failed"===e||"Wrong Number"===e||"User Busy"===e}},242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonService=void 0;var n=i(a(38)),o=i(a(39)),r=a(82);function i(e){return e&&e.__esModule?e:{default:e}}var l=""+o.default.apiUrl,s=o.default.apiUrl+"/customer";t.commonService={getDisputeCodes:function(){return n.default.get(l+"/disputecodes").then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})},getTaskTypes:function(){return n.default.get(l+"/tasktypes").then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})},saveDispute:function(e,t){return n.default.post(s+"/"+e+"/dispute",t).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},saveTask:function(e,t){return n.default.post(s+"/"+e+"/task",t).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})}}},246:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=T(o),i=a(13),l=T(a(5614)),s=a(56),c=a(104),u=T(a(207)),d=a(30),m=a(5684),p=a(148),f=T(a(24)),h=T(a(21)),g=a(5688),v=T(a(5689)),y=T(a(55)),b=T(a(5865)),C=T(a(5867)),E=T(a(5872)),S=T(a(5879)),w=T(a(5884)),x=T(a(5546));function T(e){return e&&e.__esModule?e:{default:e}}var N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.preProcessUser=function(){(0,c.initializeSip)(),a.getProfile()},a.getProfile=function(){g.profileService.getProfile().then(function(e){a.props.changePersonalDetailsSuccess(e),a.setState({profileCallFailed:!1}),(0,c.sipRegister)(e.virtualNumber,e.asteriskConfig)}).catch(function(e){a.props.changePersonalDetailsFailure(e),a.setState({profileCallFailed:!0})})},a.autonomuosTovoIcon=function(e){return r.default.createElement("div",{className:e.centerLabel},r.default.createElement("div",{className:e.label},r.default.createElement("img",{className:e.labelIcon,src:"/tovo/static/autonomousLeft.svg"}),r.default.createElement("span",{className:e.labelText},"AUTONOMOUS RECEIVABLES"),r.default.createElement("img",{className:e.labelIcon,src:"/tovo/static/autonomousRight.svg"})))},a.loader=function(e){return r.default.createElement("div",{stlye:{height:"100%"}},r.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"100vh"}},r.default.createElement(y.default,null)))},a.state={profileCallFailed:!1},a.preProcessUser(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e,"next props here")}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.default.createElement(i.MuiThemeProvider,{theme:l.default},!this.state.profileCallFailed&&r.default.createElement("div",null,this.autonomuosTovoIcon(t),r.default.createElement(b.default,{sipState:this.props.sipState}),r.default.createElement(x.default,{closePopTimeline:function(){e.props.toggleModal({open:!1})},popTimeline:this.props.drawerModalState.open,popType:this.props.drawerModalState.type}),r.default.createElement(s.BrowserRouter,{basename:"/tovo/app"},r.default.createElement("div",null,r.default.createElement("div",{style:{zIndex:10,position:"fixed",right:"1.04vw",top:"1.12vh",width:"7.2922vw",height:"4.4444vh"}},r.default.createElement(v.default,null)),r.default.createElement(s.Route,{exact:!0,path:"/",component:C.default}),r.default.createElement(s.Route,{exact:!0,path:"/call-workboard",component:S.default}),r.default.createElement(s.Route,{path:"/callprep/:id",component:E.default}),r.default.createElement(s.Route,{path:"/in-call",component:w.default})))),this.state.profileCallFailed&&r.default.createElement(f.default,{container:!0},r.default.createElement(f.default,{item:!0,xs:12},r.default.createElement("div",{className:t.retryParent,onClick:this.getProfile},r.default.createElement(u.default,{className:t.retryButton}),r.default.createElement(h.default,{className:t.retryMsg},"Something Went Wrong."),r.default.createElement(h.default,{className:t.retryMsg},"Please retry")))))}}]),t}();t.default=(0,d.connect)(function(e){return{user:e.personalDetails,chatWindow:e.chatWindow,chatHead:e.chatHead,sipState:e.sipReducer,drawerModalState:e.drawer}},function(e){return{changePersonalDetailsSuccess:function(t){return e((0,m.changePersonalDetailsSuccess)(t))},changePersonalDetailsFailure:function(t){return e((0,m.changePersonalDetailsFailure)(t))},toggleModal:function(t){return e((0,p.toggleModal)(t))}}})((0,i.withStyles)(function(e){return{root:{padding:"5%",background:e.palette.background.main},label:{display:"flex",alignItems:"center",zIndex:"5",fontSize:".3rem",padding:"0rem 0 0rem 0",marginLeft:"4.166vw",backgroundColor:"#FC7500",color:"#FFFFFF",boxShadow:"0px 1px 3px 0px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12)",borderBottomLeftRadius:".6rem",borderBottomRightRadius:".6rem"},centerLabel:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%"},labelIcon:{height:"1.2rem"},labelText:{fontSize:".65rem",padding:"0 .4rem 0 .4rem"},progressBarDiv:{backgroundImage:"radial-gradient(#58687E, #39495E)",width:"100%",height:"100%",left:"0",right:"0",bottom:"0",top:"0",zIndex:"9999",position:"fixed"},customProgressBar:{color:"green",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"fixed"},retryButton:{color:"white",height:"5rem",width:"5rem",cursor:"pointer"},retryMsg:{color:"white",fontFamily:"Roboto",fontSize:"1rem",cursor:"pointer"},retryParent:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"100vh"}}},{withTheme:!0})(N))},26:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TRANSCRIPT_DELIMETERS=Object.freeze({CUSTOMER:"Customer: ",COLLECTOR:"Collector: ",DETECTING_SPEAKERS:"Detecting Speakers: "}),t.HIGHLIGHTER_REGEX=["[[1-9]{1,2}[a-zA-Z]{1,2}[ ][o]{0,1}[f]{0,1}[ ]{0,1}[a-zA-Z]{3,9}[ ][1-9]{4}]*?","tomorrow","Tomorrow","today","Today","month","Month","Year","year","([$]{0,1}(([1-9][0-9]{0,})|([,]{0,1}[0-9]{3})))|([.][0-9]{1,})","([0-9]{1,2}(st|rd|nd|th))","((mon|tues|wed(nes)?|thur(s)?|fri|sat(ur)?|sun)(day)?)"],t.INTENT_TYPES=Object.freeze({P2P:"will_pay",DISPUTE:"dispute",FOLLOW_UP:"follow_up"}),t.ACTION_TYPES=Object.freeze({P2P:"P2P",DISPUTE:"Dispute",FOLLOW_UP:"Followup"}),t.emptyFunction=function(){},t.VOICEMAIL_AUTO_CLOSE_TIMEMOUT=4e3,t.CUSTOMER_MOCK_DATA={reasons:["At least one invoice predicted to be delinquent","At least one invoice predicted to be in 90 day bucket","Current Due vs Total past Due is 30%","Payment term is 30 days","Overdue invoice open amount $5000 since 30days"],accountDetails:{actualCreditLimit:100,bucketNames:["0-30","30-60","60-90","90-120","120-150",">150"],creditUtilized:50,id:0,pastDueBucketDocumentAmount:[35e4,13e6,12e6,4e6,3e6],pastDueBucketDocumentCount:[25,90,10,13,12],totalActualOpenAmount:1e5,totalCurrentInvoiceCount:10,totalCurrentOpenAmount:12e4,totalDisputedAmount:0,totalPastDueAmount:0,totalPastDuePercent:0},calls:[{callSummary:"string",callingNumber:"string",communicationReason:"string",contact:{address:"string",city:"string",country:"string",email:"adam@gilchrist.com",extensions:["string"],faxNumber:"string",firstName:"string",id:0,lastName:"string",phoneNumber:"2143299664",isPrimary:!0,role:"string",state:"string",title:"string",type:"string",zip:"string"},duration:0,endTime:"2018-12-04T06:41:26.614Z",extension:"string",id:0,note:{createdTime:"2018-12-04T06:41:26.614Z",createdUser:"string",customerId:0,documentIds:[0],id:0,noteContent:"string",subject:"string"},startTime:"2018-12-04T06:41:26.614Z",status:"string",totalOpenAmount:0,totalPastDueAmount:0}],companyCode:"string",contacts:[{address:"string",city:"string",country:"string",email:"adam@gilchrist.com",extensions:["string"],faxNumber:"string",firstName:"Adam",id:0,lastName:"Gilchrist",phoneNumber:"2143299664",mobile:"2143299664",isPrimary:!1,role:"string",state:"string",title:"string",type:"string",zip:"string"},{address:"string",city:"string",country:"string",email:"richard@parker.com",extensions:["string"],faxNumber:null,firstName:"Richard",id:1,lastName:"Parker",phoneNumber:"8325361512",mobile:"2819684416",isPrimary:!1,role:"string",state:"string",title:"string",type:"string",zip:"string"}],currency:"string",customerName:"Customer Ajdbnajkbasdjbnjlsndklasklnmklsdnmklasnklnasdklndas asdnmbjkbasdjkbasdjk sj,adbjkhasdkhuasd",customerNumber:"324632",disputes:[{actualDisputeAmount:"string",currentDisputeAmount:"string",customerId:0,deductionOwner:"string",deductionStatus:"string",deductionType:"string",documentId:"string",documentNumber:"string",dueDate:"2018-12-04",id:0,invoiceNumber:"string",processor:"string",reasonCode:"string"}],id:0,notes:[{createdTime:"2018-12-04T06:41:26.614Z",createdUser:"string",customerId:0,documentIds:[0],id:0,noteContent:"string",subject:"string"}],paymentCommitments:[{committedAmount:13e6,committedBy:{address:"string",city:"string",country:"string",email:"adam@gilchrist.com",extensions:["string"],faxNumber:"string",firstName:"string",id:0,lastName:"string",phoneNumber:"2143299664",isPrimary:!0,role:"string",state:"string",title:"string",type:"string",zip:"string"},committedDate:"2018-12-04",committedOn:"2018-12-04",currency:"string",customerId:0,documentId:0,id:0,type:"Broken"},{committedAmount:0,committedBy:{address:"string",city:"string",country:"string",email:"adam@gilchrist.com",extensions:["string"],faxNumber:"string",firstName:"string",id:0,lastName:"string",phoneNumber:"2143299664",isPrimary:!0,role:"string",state:"string",title:"string",type:"string",zip:"string"},committedDate:"2018-12-04",committedOn:"2018-12-04",currency:"string",customerId:0,documentId:0,id:0,type:"Upcoming"},{committedAmount:0,committedBy:{address:"string",city:"string",country:"string",email:"adam@gilchrist.com",extensions:["string"],faxNumber:"string",firstName:"string",id:0,lastName:"string",phoneNumber:"2143299664",isPrimary:!0,role:"string",state:"string",title:"string",type:"string",zip:"string"},committedDate:"2018-12-04",committedOn:"2018-12-04",currency:"string",customerId:0,documentId:0,id:0,type:"Open"}],payments:[{currency:"$",customerId:"245",documentNumber:"123",id:0,paymentAmount:13e6,paymentDate:"2018-12-30"}],predictedAccountDetails:{actualCreditLimit:100,bucketNames:["Total Current Due","30 days past due","60 days past due","90 days past due","120 days past due"],creditUtilized:80,id:0,pastDueBucketDocumentAmount:[11e4,234e3,1e6,23e3,25e4],pastDueBucketDocumentCount:[90,25,10,13,12],totalActualOpenAmount:0,totalCurrentInvoiceCount:0,totalCurrentOpenAmount:0,totalDisputedAmount:0,totalPastDueAmount:0,totalPastDuePercent:0},paymentBehaviour:"Good",riskClass:"MEDIUM",suggestedActions:[{active:!0,category:"string",customerId:0,description:"string",id:0,performedDate:"2018-12-04T06:41:26.615Z",performedUser:"string",shortName:"string",status:"string",suggestedEndTime:"2018-12-04T06:41:26.615Z",suggestedStartTime:"2018-12-04T06:41:26.615Z",type:"string"}],tasks:[{assignedToUser:"string",comments:"string",documentIds:[0],dueDate:"2018-12-04",id:0,priority:"string",reminderDate:"2018-12-04",reminderFlag:"string",status:"string",subject:"string",type:"string"}],userActionHistory:[{actionPerformed:"string",actionPerformedBy:"string",call:{callSummary:"string",callingNumber:"string",communicationReason:"string",contact:{address:"string",city:"string",country:"string",email:"adam@gilchrist.com",extensions:["string"],faxNumber:"string",firstName:"string",id:0,lastName:"string",phoneNumber:"2143299664",isPrimary:!0,role:"string",state:"string",title:"string",type:"string",zip:"string"},duration:0,endTime:"2018-12-04T06:41:26.615Z",extension:"string",id:0,note:{createdTime:"2018-12-04T06:41:26.615Z",createdUser:"string",customerId:0,documentIds:[0],id:0,noteContent:"string",subject:"string"},startTime:"2018-12-04T06:41:26.615Z",status:"string",totalOpenAmount:0,totalPastDueAmount:0},commitment:{committedAmount:0,committedBy:{address:"string",city:"string",country:"string",email:"adam@gilchrist.com",extensions:["string"],faxNumber:"string",firstName:"string",id:0,lastName:"string",phoneNumber:"2143299664",isPrimary:!0,role:"string",state:"string",title:"string",type:"string",zip:"string"},committedDate:"2018-12-04",committedOn:"2018-12-04",currency:"string",customerId:0,documentId:0,id:0,type:"string"},committedFor:"2018-12-04T06:41:26.615Z",committedOn:"2018-12-04T06:41:26.615Z",correspondence:{accountId:0,customerName:"string",filePath:"string",id:0,packageName:"string",productId:"string",transmisionMode:"string"},createdTime:"2018-12-04T06:41:26.615Z",id:0,note:{createdTime:"2018-12-04T06:41:26.615Z",createdUser:"string",customerId:0,documentIds:[0],id:0,noteContent:"string",subject:"string"},type:"Medium"}]},t.SAMPLE_TRANSCRIPTION="Customer: Hi. Hello. Hey, Collector: I wanted to make sure you received my note. The payment was due yesterday. Customer: get it under the sender. I'm Collector: I didn't a tell you forgot. It's invoice number 347-400-4000. I will email you right now does a person at m.com email address works best for you? Customer: Yeah, that's fine. Collector: Big Bend Olivia going to me to me that check for this invoice. Customer: I actually don't have the cash for debate right now. Collector: Okay, I see when we will be getting your next payment. Customer: Northern Tool in the 21st at you send me a check or Thursday the 22nd? I won't Collector: 7 see can be able to pay the whole thing done. Collector: But if you send me have to register and then up at the end of the month. Customer: That actually might work. Collector: Okay, sounds good. I'll Malcolm X amazing me $2,000 on Thursday the 22nd and I will follow up with you testing",t.REVIEW_WARNING="You have unsaved actions. Please review before proceeding.",t.BASE_ENTITY_TEMPLATE={invoice:[]},t.BASE_SUMMARY_TEMPLATE={confidence:0,intent:"",summary:""},t.SNACK_MESSAGES=Object.freeze({SUCCESS:"Saved successfully",ERROR:"Failed to save. Please retry",CONTACT_SAVE_SUCCESS:"Contact created"}),t.NEW_ACTION_SUMMARY_TEMPLATES=Object.freeze({P2P_SUMMARY_TEMPLATE:"Create Promise to pay for <amount-of-money> to be paid by <Date-Time> for <X invoices>",DISPUTE_SUMMARY_TEMPLATE:"Create Dispute for <X invoices> because of <DISPUTE-REASON>",FOLLOWUP_SUMMARY_TEMPLATE:"Create Folllow up event for <Date-Time>"}),t.copyRightText="© Copyright 2019 HighRadius. All Rights Reserved.",t.PFAMessage="Please find the mentioned invoices attached.",t.defaultEmailSubject="Summary notes as per our conversation.",t.COMMON_ACTION_INFO_MESSAGES={DISCARD_MESSAGE:"This will be removed permanently from the suggested actions. This action cannot be undone.",RESOLVE_MESSAGE:"Unable to complete the action. Please resolve the errors to approve."},t.INTENT_REGEX=Object.freeze({P2P_REGEX:/(Promise to pay for \d*)|([0-9]{4}[-][0-9]{2}[-][0-9]{2})|(\d* invoice)/g,DISPUTE_REGEX:/(\d* invoice)|(because of .*)/g,FOLLOW_UP_REGEX:/(\d{4}-\d{2}-\d{2}T[\d{2}:]*.\d{3}[-|+]\d{2}:\d{2})|(reason: .*)/g}),t.INVOICE_BUCKETS=Object.freeze({ALL:"All",Dispute:"Dispute",PREDICTED_DELINQUENT:"Predicted Delinquent",UPCOMING_P2P:"Upcoming P2P",BROKEN_P2P:"Broken P2P"}),t.EMPTY_INVOICE_SELECT_MESSAGE="Please select some invoices.",t.P2P_TEMPLATES={P2P_FINAL_GEN_Template:"Payment commitment received for <Amount> to be paid by <Date> <Invoices>.",P2P_ORIG_TEMPLATE:"Create Promise to pay for <Amount> to be paid by <Date> for <Invoices>"},t.DISPUTE_TEMPLATES={DISPUTE_FINAL_GEN_Template:"Dispute raised for <Invoices> because of : <DISPUTE-REASON>",DISPUTE_ORIG_TEMPLATE:"Create Dispute for <Invoices> because of <ReasonCode>"},t.FOLLOW_UP_TEMPLATES={FOLLOW_UP_FINAL_GEN_Template:"Follow up  <Contact Name> <Followup Date> <Followup Text>",FOLLOW_UP_ORIG_TEMPLATE:"Create Followup event for <Followup Date> reason: <Followup Text>"},t.NO_INVOICE_SELECTED="No invoice selected. Please add at least an invoice to save the dispute.",t.INVALID_DATE_MESSAGE="Found invalid date. Please correct the date to proceed.",t.SELECT_REASON_MESSAGE="Please select appropriate <intent> reason.",t.MIN_DATE_MESSAGE="Previous date not acceptable",t.EMAIL_REGEX=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t.ADD_CONTACT_DIALOG_TEXTS={TITLE:"Add Dialed Contact",SUB_TITLE:"Please enter mandatory contact details"}},266:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wakeWordRecognized=t.abortSpeechRecog=t.stopSpeechRecog=t.startSpeechRecog=t.initSpeechRecog=void 0;var n=a(46);t.initSpeechRecog=function(){return console.log("Init speech recog"),{type:n.SPEECHRECOGNITION.INITIALIZE}},t.startSpeechRecog=function(){return{type:n.SPEECHRECOGNITION.START}},t.stopSpeechRecog=function(){return{type:n.SPEECHRECOGNITION.STOP}},t.abortSpeechRecog=function(){return{type:n.SPEECHRECOGNITION.ABORT}},t.wakeWordRecognized=function(){return{type:n.SPEECHRECOGNITION.WAKE}}},28:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.map(function(t){return"function"==typeof t?t(e):t}).reduce(function(e,t){return Object.assign(e,t)})}}},29:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.baseStyle=function(e){return{customerIconCircle:{display:"flex",alignItems:"center",justifyContent:"center",height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)",backgroundColor:e.palette.primary.main,color:e.palette.text.primary,borderRadius:"50%"},callGrid:{height:"calc(1.6vh + 1.6vw)",border:"1px solid"+e.palette.primary.main,borderRadius:"1.5em",marginRight:"1rem",boxSizing:"content-box"},centerFlexBox:{display:"flex",alignItems:"center",justifyContent:"center"},arrowIcon:{color:e.palette.text.primary,opacity:1,height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)"},disabledArrowicon:{color:e.palette.text.primary,height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)",opacity:.25},fabButtons:{top:"51.4%",height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)",position:"absolute",zIndex:"2",opacity:1,boxShadow:"none",backgroundColor:"transparent","&:hover":{opacity:1,backgroundColor:e.palette.primary.main}},disabledFab:{boxShadow:"none",backgroundColor:"transparent !important"},backButton:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)",cursor:"pointer",color:e.palette.text.primary},noItemText:{fontWeight:500,color:e.palette.text.primary,fontSize:".8em",opacity:"0.65",marginLeft:".6em",fontFamily:e.typography.fontFamily},titleNameText:{fontSize:"1.6rem",color:e.palette.primary.main,display:"inline-block"},PhoneForwarded:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)",zIndex:"20"},baseIconSize:{height:"calc(1.6vh + 1.6vw)",width:"calc(1.6vh + 1.6vw)"},invoiceSample:{display:"flex",flexWrap:"no-wrap",alignItems:"center",justify:"space-between",width:"100%"},inputFieldText:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.text.primary,opacity:.6},borderSecond:{"&:before":{borderBottom:e.palette.primary.main+"1px solid"},"&:after":{borderBottom:e.palette.primary.main+"2px solid"}},borderFirst:{"&:before":{borderBottom:"1px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},disableDoneBtn:{opacity:.4,cursor:"default"},actionProgressBar:{color:e.palette.text.primary,alignItems:"center",width:"1.5rem !important",padding:"0 .5rem",height:"1.5rem !important"},errorFlag:{color:"#FF4444",marginLeft:".5rem"},menuPaper:{backgroundColor:e.palette.background.paper,maxHeight:"20rem !important",overflowY:"auto",border:"2px solid white"},menuItemRoot:{color:e.palette.text.primary,fontSize:".9rem",padding:"1.5vh 1.09vw"},cardIcon:{color:e.palette.primary.main,height:"1.6rem",width:"1.6rem"},selectMenuClass:{fontSize:"0.875rem",opacity:.6,color:e.palette.text.primary}}};t.default=n},35:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidMobileNumber=t.countSelectedInvoices=t.isActionIntent=t.generateFinalInvoiceList=t.createAction=t.formatCallDuration=t.getRepeatedCharacters=t.formatDateWithTimezone=t.isDate=t.formatCurrencyToUSFormat=t.isValidDate=t.formatMessage=t.splitLiveTranscript=t.extractNumbers=t.formatNumber=t.getFormmatedNumber=t.getDanglingMins=t.getHoursFromMins=t.getFirstCharFromName=t.splitTranscript=t.getInitialsFromName=void 0,t.setCaretPosition=function(e,t){var a=document.getElementById(e);if(null!=a)if(a.createTextRange){var n=a.createTextRange();n.move("character",t),n.select()}else a.selectionStart||0==a.selectionStart?(a.focus(),a.setSelectionRange(t,t)):a.focus()};var n=a(26),o=(t.getInitialsFromName=function(e){if(!e||!o(e))return"";var t=e.trim().split(" ");return t.length>1?t[0].charAt(0)+t[1].charAt(0):t[0].charAt(0)},function(e){return"string"==typeof e||e instanceof String}),r=(t.splitTranscript=function(e){if(!e)return[];var t=[],a=l(e,n.TRANSCRIPT_DELIMETERS.CUSTOMER,"\n"+n.TRANSCRIPT_DELIMETERS.CUSTOMER);return a=l(a,n.TRANSCRIPT_DELIMETERS.COLLECTOR,"\n"+n.TRANSCRIPT_DELIMETERS.COLLECTOR),t=l(a,n.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS,"\n"+n.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS).split("\n"),t},t.getFirstCharFromName=function(e,t){return e&&t?e.charAt(0)+""+t.charAt(0):"?"},t.getHoursFromMins=function(e){return Math.floor(e/60)},t.getDanglingMins=function(e){return Math.floor(e%60)},t.getFormmatedNumber=function(e){if(!function(e){var t=e.keyCode;return!0===e.shiftKey||35===t||36===t||8===t||9===t||13===t||46===t||t>36&&t<41||(!0===e.ctrlKey||!0===e.metaKey)&&(65===t||67===t||86===t||88===t||90===t)}(e)){var t=e.target.value;return r(t)}},t.formatNumber=function(e){var t=i(e).substring(0,10),a=t.substring(0,3),n=t.substring(3,6),o=t.substring(6,10),r="";return t.length>6?r="("+a+") "+n+" - "+o:t.length>3?r="("+a+") "+n:t.length>0&&(r="("+a),r}),i=t.extractNumbers=function(e){return e?e.replace(/\D/g,""):""},l=(t.splitLiveTranscript=function(e){if(!e)return"";var t=l(e,n.TRANSCRIPT_DELIMETERS.CUSTOMER,"\n"+n.TRANSCRIPT_DELIMETERS.CUSTOMER);t=l(t,n.TRANSCRIPT_DELIMETERS.COLLECTOR,"\nYou: ");var a=l(t,n.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS,"\n"+n.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS).split("\n");!function(e){if(!e||0===e.length)return[];for(var t=0;t<e.length;t++){var a=e[t];a.includes(n.TRANSCRIPT_DELIMETERS.CUSTOMER)||a.includes(n.TRANSCRIPT_DELIMETERS.COLLECTOR)}}(a);return a},function(e,t,a){var n=new RegExp(t,"g");return e.replace(n,a)}),s=function(e,t){var a=[],n=e.substring(0,t),o=e.substring(t);return a.push(n),a.push(o),a},c=(t.formatMessage=function(e){if(!e)return[];var t=[];return e.includes(n.TRANSCRIPT_DELIMETERS.CUSTOMER)?t=s(e,n.TRANSCRIPT_DELIMETERS.CUSTOMER.length):e.includes("You: ")?t=s(e,5):e.includes(n.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS)&&(t=s(e,n.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS.length)),t},t.isValidDate=function(e){var t=new Date;return e instanceof Date&&!isNaN(e)&&(e.getDate()>=t.getDate()||e.getMonth()>t.getMonth())&&e.getMonth()>=t.getMonth()&&e.getFullYear()>=t.getFullYear()},t.formatCurrencyToUSFormat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:",";if(0===e)return""+t+e;try{a=Math.abs(a),a=isNaN(a)?2:a;var r=e<0?"-":"",i=parseInt(e=Math.abs(Number(e)||0).toFixed(a)).toString(),l=i.length>3?i.length%3:0;return""+r+t+(l?i.substr(0,l)+o:"")+i.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?n+Math.abs(e-i).toFixed(a).slice(2):"")}catch(e){console.log(e)}},t.isDate=function(e){return e instanceof Date&&!isNaN(e)}),u=t.formatDateWithTimezone=function(e,t){return c(e)&&t?e.toISOString().replace("Z",t):""};t.getRepeatedCharacters=function(e,t){if(!t)return t;for(var a="",n=0;n<e;n++)a+=t;return a};t.formatCallDuration=function(e){e||(e=0);var t=e,a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),o=Math.floor(t-3600*a-60*n);return n<10&&(n="0"+n),o<10&&(o="0"+o),n+" min "+o+" sec"};var d=function(e,t){var a=Object.create(n.BASE_SUMMARY_TEMPLATE),o=Object.create(n.BASE_ENTITY_TEMPLATE);return a.intent=e,a.entities=o,e===n.INTENT_TYPES.P2P||e===n.INTENT_TYPES.FOLLOW_UP?a.summary=t.replace("<Date-Time>",u(new Date,"+00:00")):a.summary=t,a};t.createAction=function(e){switch(e){case n.ACTION_TYPES.P2P:return d(n.INTENT_TYPES.P2P,n.NEW_ACTION_SUMMARY_TEMPLATES.P2P_SUMMARY_TEMPLATE);case n.ACTION_TYPES.DISPUTE:return d(n.INTENT_TYPES.DISPUTE,n.NEW_ACTION_SUMMARY_TEMPLATES.DISPUTE_SUMMARY_TEMPLATE);case n.ACTION_TYPES.FOLLOW_UP:return d(n.INTENT_TYPES.FOLLOW_UP,n.NEW_ACTION_SUMMARY_TEMPLATES.FOLLOWUP_SUMMARY_TEMPLATE);default:return null}},t.generateFinalInvoiceList=function(e,t){var a=[],n=[];for(var o in e){var r=e[o].entities.invoice;for(var i in r)n.indexOf(r[i])<0&&n.push(r[i])}for(var l in n){var s=!1;for(var c in t){if(s)break;for(var u in t[c])if(n[l]==t[c][u].documentNumber){a.push(t[c][u]),s=!0;break}}}return a},t.isActionIntent=function(e){return e===n.INTENT_TYPES.P2P||e===n.INTENT_TYPES.DISPUTE||e===n.INTENT_TYPES.FOLLOW_UP},t.countSelectedInvoices=function(e){if(!e)return 0;var t=e,a=0;for(var n in t)!0===t[n]&&a++;return a},t.isValidMobileNumber=function(e){return/^\d{10}$/.test(e)}},39:function(e,t){e.exports={apiUrl:"https://heroku-json-server.herokuapp.com",streamUrl:"https://ze-streaming-sse.ml:5000/events?"}},44:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCallPrepState=t.reqCallPrepCurrentState=t.handleMultipleEntityButtonClick=t.handleMultipleEntityApiResponse=t.handleSingleEntityApiResponse=t.redirectionData=t.redirect=t.commHistoryPullUp=t.paymentHistoryPullUp=t.inCallNav=t.callPrepNav=t.audioEnded=t.stopAudio=t.playAudio=t.maxChatHead=t.closeChatHead=t.openChatHead=t.minChatWindow=t.closeChatWindow=t.openChatWindow=t.stopAnimation=t.startAnimation=t.processAudioData=t.harkPauseDetected=t.stopRecording=t.startRecording=t.apiFailure=t.apiSuccess=t.requestingApiCall=t.toggleButtonStatus=t.handlefredaBtnClick=void 0;var n=a(46);t.handlefredaBtnClick=function(){return{type:n.CALLFREEDA.CLICK}},t.toggleButtonStatus=function(){return{type:n.CALLFREEDA.TOGGLE}},t.requestingApiCall=function(e){return console.log("requestingApiCall:::"+e.icon),{type:n.CALLFREEDA.API_INIT,chatObj:e}},t.apiSuccess=function(e){return{type:n.CALLFREEDA.API_SUCCESS,apiResponse:e}},t.apiFailure=function(e){return{type:n.CALLFREEDA.API_FAILURE,chatObj:e}},t.startRecording=function(){return{type:n.RECORDRTC.START}},t.stopRecording=function(){return{type:n.RECORDRTC.STOP}},t.harkPauseDetected=function(){return{type:n.RECORDRTC.PAUSE}},t.processAudioData=function(e){return{type:n.RECORDRTC.PROCESS_AUDIO,audioStream:e}},t.startAnimation=function(e){return{type:n.ANIMATION.START,payload:e.chatObj}},t.stopAnimation=function(e){return{type:n.ANIMATION.STOP,payload:e.chatObj}},t.openChatWindow=function(e){return console.log("Status:::"+e),{type:n.CHATWINDOW.OPEN,chatWindow:e}},t.closeChatWindow=function(){return{type:n.CHATWINDOW.CLOSE}},t.minChatWindow=function(){return console.log("Min ChatWindow"),{type:n.CHATWINDOW.MIN}},t.openChatHead=function(e){return{type:n.CHATHEAD.OPEN,chatHead:e}},t.closeChatHead=function(){return{type:n.CHATHEAD.CLOSE}},t.maxChatHead=function(){return{type:n.CHATHEAD.MAX}},t.playAudio=function(e){return{type:n.AUDIO.PLAY,audioContent:e}},t.stopAudio=function(){return{type:n.AUDIO.STOP}},t.audioEnded=function(){return{type:n.AUDIO.ENDED}},t.callPrepNav=function(e){return{type:n.SIDE_EFFECTS.CALLPREP,customerId:e}},t.inCallNav=function(e){return{type:n.SIDE_EFFECTS.INCALL,callPrepState:e}},t.paymentHistoryPullUp=function(){return{type:n.SIDE_EFFECTS.PAYMENT_HIST}},t.commHistoryPullUp=function(){return{type:n.SIDE_EFFECTS.COMM_HIST}},t.redirect=function(e){return{type:n.REDIRECT,redirectionObj:e}},t.redirectionData=function(e){return e.callPrepData?{type:n.SIDE_EFFECTS.CALLPREP_DATA,redirectionData:e}:e.inCallData?{type:n.SIDE_EFFECTS.CALLPREP_DATA,redirectionData:e}:void 0},t.handleSingleEntityApiResponse=function(e){return{type:n.API_SUCCESS.SINGLE_ENTITY,response:e}},t.handleMultipleEntityApiResponse=function(e){return{type:n.API_SUCCESS.MULTIPLE_ENTITY,response:e}},t.handleMultipleEntityButtonClick=function(e){return{type:n.SIDE_EFFECTS.BUTTON_CLICK,buttonData:e}},t.reqCallPrepCurrentState=function(e){return{type:n.CALLPREP.REQ_STATE,data:e}},t.getCallPrepState=function(e){return{type:n.CALLPREP.GET_STATE,data:e}}},46:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPEECHRECOGNITION={INITIALIZE:"SPEECH_RECOGNITION_INIT",START:"SPEECH_RECOGNITION_START",STOP:"SPEECH_RECOGNITION_STOP",ABORT:"SPEECH_RECOGNITION_ABORT",WAKE:"WAKE_WORD_RECOGNIZED"},t.CALLFREEDA={CLICK:"FREEDA_BTN_CLICK",TOGGLE:"TOGGLE_FREEDA_BUTTON",GREETING:"CHECK_IF_GREETED",API_INIT:"CALLFREEDA_API_INIT",API_SUCCESS:"CALLFREEDA_API_SUCCESS",API_FAILURE:"CALLFREEDA_API_FAILURE"},t.CHATWINDOW={OPEN:"OPEN_CHAT_WINDOW",CLOSE:"CLOSE_CHAT_WINDOW",MIN:"MINIMIZE_CHAT_WINDOW"},t.CHATHEAD={OPEN:"OPEN_CHAT_HEAD",CLOSE:"CLOSE_CHAT_HEAD",MAX:"MAXIMIZE_CHAT_HEAD"},t.RECORDRTC={START:"START_RECORDING",STOP:"STOP_RECORDING",PAUSE:"HARK_PAUSE_DETECTED",PROCESS_AUDIO:"PROCESS_AUDIO"},t.ANIMATION={START:"START_GIF_ANIMATION",STOP:"STOP_GIF_ANIMATION"},t.EVENT={OPEN_CHAT_WINDOW:"OPEN_CHAT_WINDOW_EVENT_REQ",OPEN_CHAT_HEAD:"OPEN_CHAT_HEAD_EVENT_REQ",MIN_CHAT_WINDOW:"MIN_CHAT_WINDOW_EVENT_REQ",MAX_CHAT_HEAD:"MAX_CHAT_HEAD_EVENT_REQ",CLOSE_CHAT_WINDOW:"CLOSE_CHAT_WINDOW_EVENT_REQ",CLOSE_CHAT_HEAD:"CLOSE_CHAT_HEAD_EVENT_REQ"},t.AUDIO={PLAY:"PLAY_AUDIO",PAUSE:"PAUSE_AUDIO",ENDED:"AUDIO_ENDED",STOP:"STOP_AUDIO"},t.SIDE_EFFECTS={CALLPREP:"CALL_PREP_NAV",INCALL:"IN_CALL_NAV",PAYMENT_HIST:"PAYMENT_HIST_PULL_UP",COMM_HIST:"COMM_HIST_PULL_UP",BUTTON_CLICK:"ON_CLICK_MULTIPLE_ENTITY",CALLPREP_DATA:"REDIRECTION_DATA_CALL_PREP",INCALL_DATA:"REDIRECTION_DATA_INCALL"},t.REDIRECT="REDIRECT",t.SLIDER={CHATWINDOW:"REVEAL_CHAT_WINDOW",CHATHEAD:"REVEAL_CHAT_HEAD"},t.API_SUCCESS={SINGLE_ENTITY:"SINGLE_ENTITY_RESPONSE",MULTIPLE_ENTITY:"MULTIPLE_ENTITY_RESPONSE"},t.CALLPREP={REQ_STATE:"REQ_CALL_PREP_STATE",GET_STATE:"CALL_PREP_STATE"}},47:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetSavedContact=t.saveContact=t.resetPageNumber=t.resetCustomers=t.addBuckets=t.callLog=t.nextPage=t.prevPage=t.resetCustomerNumber=t.addCustomers=t.changeSummary=t.changeTranscription=t.CHANGE_CALLING=t.changeStatus=t.changeCaller=t.changeCallState=void 0;a(126),t.changeCallState=function(e){return{type:"CHANGE_CALL_STATE",data:e}},t.changeCaller=function(e){return{type:"CHANGE_CALLER",data:e}},t.changeStatus=function(e){return{type:"CHANGE_STATUS",data:e}},t.CHANGE_CALLING=function(e){return{type:"CHANGE_CALLING",data:e}},t.changeTranscription=function(e){return{type:"CHANGE_TRANSCRIPTION",data:e}},t.changeSummary=function(e){return{type:"CHANGE_SUMMARY",data:e}},t.addCustomers=function(e){return{type:"ADD_CUSTOMERS",data:e}},t.resetCustomerNumber=function(e){return{type:"RESET_CUSTOMER_NUMBER",data:e}},t.prevPage=function(e){return{type:"PREV_PAGE",data:e}},t.nextPage=function(e){return{type:"NEXT_PAGE",data:e}},t.callLog=function(e){return{type:"ADD_CALL_LOG",data:e}},t.addBuckets=function(e){return{type:"ADD_BUCKETS",data:e}},t.resetCustomers=function(e){return{type:"RESET_CUSTOMERS",data:e}},t.resetPageNumber=function(e){return{type:"RESET_PAGENUMBER",data:e}},t.saveContact=function(e){return{type:"POST_CONTACT_REQUEST",payload:e}},t.resetSavedContact=function(e){return{type:"RESET_CONTACT_REDUCER",data:e}}},48:function(e,t,a){"use strict";function n(e,t,a){return e?e>999&&e<=999999?e%1e3==0?(e/1e3).toFixed(0)+"K":e/1e3>=10&&e/1e3<100?(e/1e3).toFixed(1)+"K":e/1e3>=100?Math.round(e/1e3)+"K":(e/1e3).toFixed(2)+"K":e>999999&&e<=999999999?e%1e6==0?(e/1e6).toFixed(0)+"M":e/1e6>=10&&e/1e6<100?(e/1e6).toFixed(1)+"M":e/1e6>=100?Math.round(e/1e6)+"M":(e/1e6).toFixed(2)+"M":e>999999999?e%1e9==0?(e/1e9).toFixed(0)+"B":e/1e9>=10&&e/1e9<100?(e/1e9).toFixed(1)+"B":e/1e9>=100?Math.round(e/1e9)+"B":(e/1e9).toFixed(2)+"B":Number.isInteger(e)?e.toString():e>=10&&e<100?e.toFixed(1):e>=100?Math.round(e).toString():e.toFixed(2):"0"}Object.defineProperty(t,"__esModule",{value:!0}),t.formatter=n,t.formatPayments=function(e){var t=[];return e>999&&e<=999999?e%1e3==0?(t.push((e/1e3).toFixed(0)),t.push("K"),t):e/1e3>=10&&e/1e3<100?(t.push((e/1e3).toFixed(1)),t.push("K"),t):e/1e3>=100?(t.push(Math.round(e/1e3).toString()),t.push("K"),t):(t.push((e/1e3).toFixed(2)),t.push("K"),t):e>999999?e%1e6==0?(t.push((e/1e6).toFixed(0)),t.push("M"),t):e/1e6>=10&&e/1e6<100?(t.push((e/1e6).toFixed(1)),t.push("M"),t):e/1e6>=100?(t.push(Math.round(e/1e6).toString()),t.push("M"),t):(t.push((e/1e6).toFixed(2)),t.push("M"),t):Number.isInteger(e)?(t.push(e.toString()),t.push(""),t):e>=10&&e<100?(t.push(e.toFixed(1)),t.push(""),t):e>=100?(t.push(Math.round(e).toString()),t.push(""),t):(t.push(e.toFixed(2)),t.push(""),t)},t.callWorkboardHistogramFormatter=function(e,t){var a=void 0;a=t>0?1*e.y/t*100:0;a=Number.isInteger(a)?a.toFixed(0):a>=10?a.toFixed(1):a.toFixed(2);return"<span style = 'font-size:0.7rem;font-family : Roboto; opacity : 0.8;'>"+a+"%</span><br><span style = 'font-size:0.7rem;font-family : Roboto; opacity : 0.8;'>$"+n(e.y)+"</span>"},t.callPrepHistogramFormatter=function(e,t,a,o){var r=void 0;r=t>0?1*e.y/t*100:0;var i=o[a];if(0===a){a+=1}else{a+=1}r=Number.isInteger(r)?r.toFixed(0):r>=10?r.toFixed(1):r.toFixed(2);0===r&&(r="~ 0.00");return"<span style = 'font-size:.9rem;color: #CCCCCC;font-family : Roboto;'>"+r+"%</span><br><span style = 'font-size:.9rem; color: #CCCCCC;'; font-family : Roboto; padding-top : '0.1rem', padding-bottom : '1rem'>$"+n(e.y)+"</span><br><span style = 'font-size:.9rem; color: #A7A7A7; font-family : Roboto;'>"+i+" Invoices</span>"},t.zeroCheck=function(e){var t=!0;if(e&&e.length>0)for(var a=0;a<e.length;a++)if(0!==e[a]){t=!1;break}return t};t.customCurrencyFormatter=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];console.log("Args Received in Custom Currency Formatter",t);var o=t[0],r=t[1],i=t.slice(2);return o?(r||(r=""),console.log("Amount received",o,r,i),r+n(Number(o))):""}},5475:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callService=void 0;var n=i(a(38)),o=i(a(39)),r=a(82);function i(e){return e&&e.__esModule?e:{default:e}}t.callService={addCallLog:function(e){return n.default.post(o.default.apiUrl+"/call",e,{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})},editCallLog:function(e){return n.default.put(o.default.apiUrl+"/call",e).then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})}}},5476:function(e){e.exports=[{text:["It's on right now."],confidence:.9960042834281921,summary:"Customer suggested the payment has already been made",intent:"already_paid",entities:{}},{text:["I am facing and County Commission with my financial issues."],confidence:.8180489838123322,summary:"Create dispute for <1 invoices> because of DISPUTE-REASON",intent:"dispute",entities:{invoice:["123"]}},{text:["I will be calling you back."],confidence:.8909519134461878,summary:"Create Followup event for 2018-12-12T03:49:24.000-08:00",intent:"follow_up",entities:{}},{entities:{"amount-of-money":["4000"],invoice:["216812"],time:["2018-12-21T00:00:00.000-08:00"]},confidence:.5548482139905294,intent:"will_pay",summary:"Create Promise to pay for <> to be paid by 2018-12-12T03:49:24.000-08:00 for 1 invoice"}]},5535:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.overviewService=void 0;var n=i(a(38)),o=i(a(39)),r=a(82);function i(e){return e&&e.__esModule?e:{default:e}}t.overviewService={getSummary:function(){return n.default.get(o.default.apiUrl+"/overview/").then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})},getUpcoming:function(e){return n.default.get(o.default.apiUrl+"/upcoming",{params:e}).then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})}}},5536:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customerService=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=l(a(38)),r=l(a(39)),i=a(82);function l(e){return e&&e.__esModule?e:{default:e}}var s="/customer";t.customerService={getCustomerResponse:function(e){var t=""+r.default.apiUrl+s+"/"+e;return o.default.get(t).then(function(e){return(0,i.handleApiResponse)(e)}).catch(function(e){return(0,i.handleApiResponse)(e)})},getCommunication:function(e){var t=""+r.default.apiUrl+s+"/"+e+"/communication";return o.default.get(t).then(function(e){return(0,i.handleApiResponse)(e)}).catch(function(e){return(0,i.handleApiResponse)(e)})},fetchInvoices:function(e,t,a){var i=""+r.default.apiUrl+s+"/"+t+"/invoices";return o.default.get(i,{params:n({bucketNumber:e},a)})}}},5537:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=w(r),l=w(a(76)),s=w(a(32)),c=w(a(156)),u=a(27),d=a(104),m=a(56),p=a(47),f=a(30),h=w(a(24)),g=w(a(3)),v=w(a(28)),y=w(a(29)),b=w(a(6)),C=a(35),E=w(a(106)),S=w(a(161));w(a(238)),w(a(77));function w(e){return e&&e.__esModule?e:{default:e}}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var T={customer:g.default.object.isRequired,communication:g.default.object.isRequired,toggleDisableCallDialog:g.default.func.isRequired,bucketNames:g.default.array.isRequired,nextCustomerUrl:g.default.string,toCallCustomers:g.default.number},N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleExtension=function(){a.setState({displayNumber:a.props.extension});for(var e=0;e<a.props.extension;e++)(0,d.sipSendDTMF)(a.state.ext.charAt(e))},a.handleOpen=function(){a.setState({open:!0})},a.handleChange=function(e){a.setState({phoneNumber:e.target.value})},a.handleClose=function(){a.setState({open:!1})},a.handleKeyPadButton=function(e){var t=document.getElementById(a.props.customer.id),n=a.state.displayNumber,o=a.state.phoneNumber;if((3!=o.length||1!=a.props.callState.calling)&&10!==o.length)if(1!=a.props.callState.calling){var r,i=t.selectionStart;0==i?r=2:i>0&&i<4?r=i+1:i>=4&&i<7?r=7:i>=7&&i<9?r=i+1:i>=9&&i<13?r=13:i>=13&&(r=i+1),n=n.substring(0,i)+e+n.substring(i,n.length),o=(0,C.extractNumbers)(n),n=(0,C.formatNumber)(o),a.setState({displayNumber:n,phoneNumber:o},function(){(0,C.setCaretPosition)(a.props.customer.id,r)}),a.props.callState.calling&&(0,d.sipSendDTMF)(e)}else a.setState({displayNumber:o+e,phoneNumber:o+e})},a.onKeyDown=function(e){a.state.displayNumber;var t=a.state.phoneNumber;if(8===e.keyCode)e.preventDefault(),a.onBackSpace();else{if(10===t.length)return;if(e.keyCode>47&&e.keyCode<59)e.preventDefault(),a.handleKeyPadButton(String.fromCharCode(e.keyCode));else if(e.keyCode>95&&e.keyCode<106){e.preventDefault();var n=e.keyCode-96;a.handleKeyPadButton(n)}}},a.onBackSpace=function(){console.log("backspace is running");var e=a.state.displayNumber,t=a.state.phoneNumber,n=document.getElementById(a.props.customer.id).selectionStart;if(1==a.props.callState.calling)return t=t.slice(0,n-1)+t.slice(n),void a.setState({displayNumber:t,phoneNumber:t});var o,r=-1;console.log("cursor position is",n),o=n-1,1!=n&&0!=n&&(n>1&&n<5?r=n-2:5==n||6==n?o=4:n>6&&n<10?r=n-4:10==n||11==n||12==n?o=9:n>12&&(r=n-7),console.log(r),-1!=r&&(t=t.slice(0,r)+t.slice(r+1),e=(0,C.formatNumber)(t),console.log("Phone number",t)),a.setState({phoneNumber:t,displayNumber:e},function(){(0,C.setCaretPosition)(a.props.customer.id,o)}))},a.makeCall=function(){a.setState({dialled:!0}),a.props.changeCaller({caller:a.state.phoneNumber})},a.getButton=function(e,t,n){return i.default.createElement(s.default,{variant:"outlined",className:e.rounded,onClick:function(){return a.handleKeyPadButton(t)}},i.default.createElement("div",{className:e.flexColumn},i.default.createElement("span",{className:e.numbers},t),i.default.createElement("span",{className:e.letters},n)))},a.getContact=function(){var e="",t="",n="",o=null,r=null;if(a.props.customer&&a.props.customer.contacts){for(var i=0;i<a.props.customer.contacts.length;i++)if(a.props.customer.contacts[i].phoneNumber==a.state.phoneNumber||a.props.customer.contacts[i].mobileNumber==a.state.phoneNumber){e=a.props.customer.contacts[i].firstName,t=a.props.customer.contacts[i].lastName,o=a.props.customer.contacts[i].id,n=a.props.customer.contacts[i].email,r=i;break}""==e&&(e="Unknown")}return{calledToFirstName:e,calledToLastName:t,contactIndex:r,contactId:o,emailOfCalled:n}},a.state={open:!1,phoneNumber:"",displayNumber:"",dialled:!1,focus:!0,touch:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){"ontouchstart"in document.documentElement&&this.setState({touch:!0})}},{key:"render",value:function(){var e,t=this,a=this.props,o=a.classes;a.theme;return i.default.createElement("div",{className:o.App},i.default.createElement("img",{onClick:this.handleOpen,className:(0,b.default)(o.dialpadIconImg,o.baseIconSize),src:"/tovo/static/keyPad.svg"}),i.default.createElement(l.default,(x(e={id:"simple-popper",open:this.state.open,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:this.handleClose,anchorReference:"anchorPosition",anchorPosition:{top:80},classes:{paper:o.popoverPaper}},"anchorOrigin",{vertical:20,horizontal:20}),x(e,"transformOrigin",{vertical:20,horizontal:20}),e),i.default.createElement("div",{className:o.popOver},i.default.createElement("span",{className:o.head},"DIAL PAD"),i.default.createElement("br",null),i.default.createElement("div",{className:o.inputDiv},i.default.createElement("input",{className:o.input,value:this.state.displayNumber,onKeyDown:this.onKeyDown,autoFocus:this.state.focus,id:this.props.customer.id,readOnly:this.state.touch}),i.default.createElement("img",{className:o.backSpace,onClick:this.onBackSpace,src:"/tovo/static/dialpad_erase.svg"})),i.default.createElement("div",{className:o.flexColumn,align:"center"},i.default.createElement("div",{className:o.inn},i.default.createElement(s.default,{variant:"outlined",className:o.rounded,onClick:function(){return t.handleKeyPadButton("1")}},i.default.createElement("div",{className:o.flexColumn},i.default.createElement("span",{className:o.numbers},"1"),i.default.createElement(c.default,{className:o.voiceMailIcon}))),this.getButton(o,"2","ABC"),this.getButton(o,"3","DEF")),i.default.createElement("div",null,this.getButton(o,"4","GHI"),this.getButton(o,"5","JKL"),this.getButton(o,"6","MNO")),i.default.createElement("div",null,this.getButton(o,"7","PQRS"),this.getButton(o,"8","TUV"),this.getButton(o,"9","WXYZ")),i.default.createElement("div",null,this.getButton(o,"*"),this.getButton(o,"0","+"),this.getButton(o,"#"))),i.default.createElement("div",{align:"center"},!this.props.callState.calling&&this.props.sipState.connected&&i.default.createElement("img",{className:o.keypadCall,src:"/tovo/static/call.svg",onClick:this.makeCall}),!this.props.callState.calling&&!this.props.sipState.connected&&i.default.createElement("img",{className:o.keypadCall,src:"/tovo/static/call.svg",onClick:this.props.toggleDisableCallDialog}),this.props.callState.calling&&i.default.createElement(h.default,{container:!0,xs:12,justify:"center",className:o.extensionBoard},i.default.createElement(h.default,{item:!0,xs:11},i.default.createElement(E.default,{className:o.card},i.default.createElement(S.default,{className:o.cardContent},i.default.createElement(h.default,{container:!0,xs:11},i.default.createElement(h.default,{xs:12,container:!0,item:!0,alignItems:"center",justify:"center"},i.default.createElement(h.default,{xs:8,item:!0,align:"left"},i.default.createElement(u.Typography,{className:o.extensionTitle},"Phone Extension")),i.default.createElement(h.default,{xs:2,item:!0},i.default.createElement("img",{className:o.extIcon,src:"/tovo/static/edit_icon.svg"})),i.default.createElement(h.default,{xs:2,item:!0},i.default.createElement("img",{className:o.extIcon,src:"/tovo/static/delete_icon.svg"}))),i.default.createElement(h.default,{item:!0,container:!0,xs:12,alignItems:"center",justify:"center",className:o.extIconGrid},i.default.createElement(h.default,{item:!0,xs:10,align:"left"},i.default.createElement(u.Typography,{className:o.extensionNumber},"Ext"),i.default.createElement(u.Typography,{className:o.extensionNumber},this.props.extension)),i.default.createElement(h.default,{item:!0,xs:2},i.default.createElement("img",{className:o.PhoneForwarded,onClick:this.handleExtension,src:"/tovo/static/call.svg"}))))))))))),this.state.dialled&&i.default.createElement(m.Redirect,{to:{pathname:"/in-call",state:n({calledToNumber:"+1"+this.state.phoneNumber,customer:this.props.customer,bucketNames:this.props.bucketNames,nextCustomerUrl:this.props.nextCustomerUrl,toCallCustomers:this.props.toCallCustomers,communication:this.props.communication},this.getContact())}}))}}]),t}();N.defaultProps={communication:{},toggleDisableCallDialog:function(){},bucketNames:[],nextCustomerUrl:"",toCallCustomers:null,customer:{},callState:{},changeCaller:function(){},sipState:{}},N.propTypes=T;var k=(0,v.default)(function(e){return{App:{textAlign:"center",height:"calc(1.6vh + 1.6vw)"},dialpadIconImg:{cursor:"pointer"},popOver:{width:"calc(15.86vh + 15.86vw)"},flexColumn:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},head:{position:"absolute",fontSize:"1em",opacity:.65,paddingTop:"3%",paddingLeft:"5%",color:e.palette.text.primary},rounded:{margin:".85rem",borderRadius:"50%",padding:"0 !important",width:"4.577rem",height:"4.577rem",backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:"#86BFE7"}},numbers:{fontSize:"1.5em",color:e.palette.text.primary},letters:x({fontSize:".5em",paddingLeft:"1%",color:"#666666",opacity:.65},"color",e.palette.text.primary),input:{fontSize:"1.875em",textAlign:"left",borderStyle:"none",paddingLeft:"1rem",maxWidth:"7.850em","&:focus":{outline:"none !important"},color:e.palette.text.primary,backgroundColor:e.palette.background.default},inputDiv:{paddingTop:"10%",display:"flex",flexDirection:"row"},keypadCall:{paddingTop:"5%",width:"4.577rem",height:"4.577rem",cursor:"pointer",color:"none"},backSpace:{width:"3.645vw",height:"3.796vh",color:e.palette.text.primary,opacity:.5,cursor:"pointer"},voiceMailIcon:{fontSize:".8em",color:e.palette.text.primary,opacity:.65},extensionBoard:{marginTop:"2em"},card:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,border:e.palette.primary.main+"1px solid"},cardContent:{padding:".7em 0 .7em 0 !important",backgroundColor:e.palette.background.paper,color:e.palette.text.primary+" !important"},popoverPaper:{height:"100%",marginTop:"5.5vh",right:"0",backgroundColor:"#273D49",borderLeft:"0.104vw solid white",boxShadow:"-3px -3px 6px rgba(0, 0, 0, .20)"},extensionTitle:{fontSize:"1.067rem",color:e.palette.text.primary,opacity:".65"},extensionNumber:{color:e.palette.text.primary,fontSize:".89rem"},extIcon:{height:"calc(1.066vh + 1.066vw)",width:"calc(1.066vh + 1.066vw)"},extIconGrid:{marginTop:"1.94vh"}}},y.default),I=(0,u.withStyles)(k)(N);t.default=(0,f.connect)(function(e){return{sipState:e.sipReducer,callState:e.callState}},function(e){return{changeCaller:function(t){return e((0,p.changeCaller)(t))}}})((0,u.withStyles)(k,{withTheme:!0})(I))},5538:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=g(o),i=g(a(171)),l=a(13),s=g(a(24)),c=g(a(6)),u=g(a(240)),d=a(48),m=g(a(28)),p=g(a(29)),f=g(a(93)),h=g(a(3));a(63);function g(e){return e&&e.__esModule?e:{default:e}}var v={color:"white",fontSize:".83rem",fontFamily:"Roboto",opacity:.6},y={customer:h.default.object.isRequired,claases:h.default.object.isRequired},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return C.call(a),a.state={loading:!1,redirect:!1,callPrepPage:!1,customer:a.props.customer,callDuration:0,callDurationInFormat:"",paymentCommitmentArray:[]},a.pastDueBucketDocumentAmountAccountBalSummary=[],a.pastDueBucketDocumentCountAccountBalSummary=[],a.xdataAccountBalSummary=[],a.pastDueBucketDocumentAmountPredictedBalSummary=[],a.pastDueBucketDocumentCountPredictedBalSummary=[],a.xdataPredictedBalSummary=[],a.chartColors=[],a.bucketNames=[],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentWillMount",value:function(){this.fetchPaymentCommitment(),this.getChartParams()}},{key:"componentWillReceiveProps",value:function(e){this.setState({customer:e.customer})}},{key:"render",value:function(){var e=this.props,t=e.classes;e.theme;return r.default.createElement(s.default,{container:!0},r.default.createElement(s.default,{item:!0,xs:12,style:{height:"2.22vh",marginBottom:"1.85vh"}}),r.default.createElement(s.default,{item:!0,xs:5},r.default.createElement(s.default,{container:!0},r.default.createElement(s.default,{item:!0,xs:12,className:(0,c.default)(t.paddingBottomOnCard,t.paddingRightOnCard)},r.default.createElement(i.default,{customCard:t.reasonsCard,title:"Reasons to be On Call List",header:t.cardHeader,customTitle:t.cardTitle},this.state.customer.reasons&&0===this.state.customer.reasons.length&&r.default.createElement("div",{className:(0,c.default)(t.noItem,t.centerFlexBox,t.noItemText)},r.default.createElement(f.default,{className:t.icon}),"There are no Reasons."),r.default.createElement("ul",{className:t.reasons},this.state.customer.reasons&&this.state.customer.reasons.map(function(e,t){if(e&&e.length>0)return r.default.createElement("li",{key:t},e)})))),r.default.createElement(s.default,{item:!0,xs:12,className:(0,c.default)(t.paddingBottomOnCard,t.paddingRightOnCard)},r.default.createElement(i.default,{customCard:t.p2pCard,title:"Payment Commitment",header:t.cardHeader,customTitle:t.cardTitle},3!==this.state.paymentCommitmentArray.length||0===this.state.paymentCommitmentArray[0].count&&0===this.state.paymentCommitmentArray[1].count&&0==this.state.paymentCommitmentArray[2].count&&r.default.createElement("div",{className:(0,c.default)(t.noItem,t.centerFlexBox,t.noItemText)},r.default.createElement(f.default,{className:t.icon}),"No payment commitments."),3===this.state.paymentCommitmentArray.length&&!(0===this.state.paymentCommitmentArray[0].count&&0===this.state.paymentCommitmentArray[1].count&&0==this.state.paymentCommitmentArray[2].count)&&r.default.createElement(s.default,{container:!0,className:t.stretchedGrid,alignItems:"center"},r.default.createElement(s.default,{item:!0,container:!0},r.default.createElement(s.default,{item:!0,xs:4,align:"center",className:(0,c.default)(t.gridText)},r.default.createElement("div",{className:(0,c.default)(t.paymentCommitmentsCount,t.paymentCommitmentsText)},this.state.paymentCommitmentArray[0].count),r.default.createElement("div",{className:(0,c.default)(t.paymentCommitmentsAmount,t.paymentCommitmentsText)},"$",(0,d.formatPayments)(this.state.paymentCommitmentArray[0].committedAmount)[0],r.default.createElement("span",{className:t.paymentSubscript},(0,d.formatPayments)(this.state.paymentCommitmentArray[0].committedAmount)[1])),r.default.createElement("div",{className:t.paymentCommitmentsType},this.state.paymentCommitmentArray[0].type)),r.default.createElement(s.default,{item:!0,xs:4,align:"center",className:(0,c.default)(t.gridText,t.borderGrid)},r.default.createElement("div",{className:(0,c.default)(t.paymentCommitmentsCount,t.paymentCommitmentsText)},this.state.paymentCommitmentArray[1].count),r.default.createElement("div",{className:(0,c.default)(t.paymentCommitmentsAmount,t.paymentCommitmentsText)},"$",(0,d.formatPayments)(this.state.paymentCommitmentArray[1].committedAmount)[0],r.default.createElement("span",{className:t.paymentSubscript},(0,d.formatPayments)(this.state.paymentCommitmentArray[1].committedAmount)[1])),r.default.createElement("div",{className:t.paymentCommitmentsType},this.state.paymentCommitmentArray[1].type)),r.default.createElement(s.default,{item:!0,xs:4,align:"center",className:(0,c.default)(t.gridText)},r.default.createElement("div",{className:(0,c.default)(t.paymentCommitmentsCount,t.paymentCommitmentsText)},this.state.paymentCommitmentArray[2].count),r.default.createElement("div",{className:(0,c.default)(t.paymentCommitmentsAmount,t.paymentCommitmentsText)},"$",(0,d.formatPayments)(this.state.paymentCommitmentArray[2].committedAmount)[0],r.default.createElement("span",{className:t.paymentSubscript},(0,d.formatPayments)(this.state.paymentCommitmentArray[2].committedAmount)[1])),r.default.createElement("div",{className:t.paymentCommitmentsType},this.state.paymentCommitmentArray[2].type)))))),r.default.createElement(s.default,{item:!0,xs:12,className:t.paddingRightOnCard},r.default.createElement(i.default,{customCard:t.creditAndRiskCard,title:"Credit Risk Summary",header:t.cardHeader,customTitle:t.cardTitle},r.default.createElement(s.default,{container:!0,item:!0,xs:12,alignItems:"center",justify:"center"},null!==this.state.customer.accountDetails&&this.state.customer.accountDetails.actualCreditLimit>0&&r.default.createElement(s.default,{item:!0,container:!0,xs:9},r.default.createElement(s.default,{item:!0,xs:10,align:"center"},r.default.createElement("div",{className:t.creditUtilization}," ","Credit Utilization"),r.default.createElement(this.CustomProgressBar,{progressBar:t.progressBar,filler:t.filler,value:this.state.customer.accountDetails.creditUtilized/this.state.customer.accountDetails.actualCreditLimit*100})),r.default.createElement(s.default,{item:!0,xs:1,style:{display:"flex",alignItems:"center",marginTop:"3.5%"}},r.default.createElement("div",{className:t.progressValue}," ",(this.state.customer.accountDetails.creditUtilized/this.state.customer.accountDetails.actualCreditLimit*100).toString().substring(0,4),"%"," "))),null!==this.state.customer.accountDetails&&(0===this.state.customer.accountDetails.actualCreditLimit||null===this.state.customer.accountDetails.actualCreditLimit)&&r.default.createElement("div",null,r.default.createElement(s.default,{item:!0,xs:12},r.default.createElement("div",{className:(0,c.default)(t.noItem,t.centerFlexBox,t.noItemText)},r.default.createElement(f.default,{className:t.icon}),"No credit utilization data."))),r.default.createElement(s.default,{item:!0,xs:3,align:"center"},r.default.createElement("div",{className:(0,c.default)(t.riskHeading,t.padding)},"Risk Class"),r.default.createElement("div",{className:(0,c.default)(t.risk,t.centerFlexBox)},this.state.customer.riskClass))))))),r.default.createElement(s.default,{item:!0,xs:7},r.default.createElement(s.default,{container:!0},r.default.createElement(s.default,{item:!0,xs:12,className:t.paddingBottomOnCard},r.default.createElement(i.default,{customCard:t.chartsCard,title:"Current Account Balance Summary",header:t.cardHeader,customTitle:t.cardTitle},(0,d.zeroCheck)(this.pastDueBucketDocumentAmountAccountBalSummary)&&r.default.createElement("div",{className:(0,c.default)(t.noItem,t.centerFlexBox,t.noItemText)},r.default.createElement(f.default,{className:t.icon}),"No recent payments."),!(0,d.zeroCheck)(this.pastDueBucketDocumentAmountAccountBalSummary)&&r.default.createElement(u.default,{dataLabelsX:-8,lineHeight:"1.2rem",dataLabelAlign:"left",pointWidth:50,spacingTop:35,marginTop:"2.5%",data:this.pastDueBucketDocumentAmountAccountBalSummary,chartHeight:"29vh",xdata:this.xdataAccountBalSummary,enableDataLabels:!0,pastDueBucketDocumentCountArray:this.pastDueBucketDocumentCountAccountBalSummary,div:"current-summary",pointWidthUnit:.25,datalabelsColor:"#CCCCCC",pageName:"Call Prep",xAxisLabelStyles:v,dataLabelsCrop:!1,dataLabelsOverflow:"true",chartColors:this.chartColors,formatter:d.callPrepHistogramFormatter}))),r.default.createElement(s.default,{item:!0,xs:12},r.default.createElement(i.default,{customCard:t.chartsCard,title:"Predicted Account Balance Summary in Next 30 Days",header:t.cardHeader,customTitle:t.cardTitle},(0,d.zeroCheck)(this.pastDueBucketDocumentAmountPredictedBalSummary)&&r.default.createElement("div",{className:(0,c.default)(t.noItem,t.centerFlexBox,t.noItemText)},r.default.createElement(f.default,{className:t.icon}),"Prediction data is unavailable at the moment."),!(0,d.zeroCheck)(this.pastDueBucketDocumentAmountPredictedBalSummary)&&r.default.createElement(u.default,{formatter:d.callPrepHistogramFormatter,pointWidthUnit:.25,dataLabelsX:-8,lineHeight:"1.2rem",dataLabelAlign:"left",pointWidth:50,spacingTop:35,data:this.pastDueBucketDocumentAmountPredictedBalSummary,marginTop:"2.5%",chartHeight:"29vh",xdata:this.xdataPredictedBalSummary,enableDataLabels:!0,pastDueBucketDocumentCountArray:this.pastDueBucketDocumentCountPredictedBalSummary,div:"predicted-summary",datalabelsColor:"#CCCCCC",pageName:"Call Prep",xAxisLabelStyles:v,dataLabelsCrop:!1,dataLabelsOverflow:"none",chartColors:this.chartColors}))))))}}]),t}(),C=function(){var e=this;this.getChartParams=function(){var t=e.props.theme;e.state.customer.accountDetails.pastDueBucketDocumentAmount&&(e.pastDueBucketDocumentAmountAccountBalSummary=e.state.customer.accountDetails.pastDueBucketDocumentAmount.slice(0,5),e.pastDueBucketDocumentCountAccountBalSummary=e.state.customer.accountDetails.pastDueBucketDocumentCount.slice(0,5),e.xdataAccountBalSummary=e.state.customer.accountDetails.bucketNames.reverse().slice(0,5)),e.pastDueBucketDocumentAmountAccountBalSummary.unshift(e.state.customer.accountDetails.totalCurrentOpenAmount),e.pastDueBucketDocumentCountAccountBalSummary.unshift(e.state.customer.accountDetails.totalCurrentInvoiceCount),e.xdataAccountBalSummary.unshift("Current Due"),e.state.customer.predictedAccountDetails.pastDueBucketDocumentAmount&&(e.pastDueBucketDocumentAmountPredictedBalSummary=e.state.customer.predictedAccountDetails.pastDueBucketDocumentAmount.slice(0,5),e.pastDueBucketDocumentCountPredictedBalSummary=e.state.customer.predictedAccountDetails.pastDueBucketDocumentCount.slice(0,5),e.xdataPredictedBalSummary=e.state.customer.predictedAccountDetails.bucketNames.slice(0,5)),e.pastDueBucketDocumentAmountPredictedBalSummary.unshift(e.state.customer.predictedAccountDetails.totalCurrentOpenAmount),e.pastDueBucketDocumentCountPredictedBalSummary.unshift(e.state.customer.predictedAccountDetails.totalCurrentInvoiceCount),e.xdataPredictedBalSummary.unshift("Current Due"),e.chartColors=[t.palette.primary.main],e.bucketNames=e.state.customer.accountDetails.bucketNames.reverse()},this.CustomProgressBar=function(t){return r.default.createElement("div",{className:t.progressBar},r.default.createElement(e.Filler,{value:t.value,filler:t.filler}))},this.Filler=function(e){return r.default.createElement("div",{className:e.filler,style:{width:e.value+"%"}})},this.fetchPaymentCommitment=function(){var t={count:0,committedAmount:0,type:""};t.type="Broken P2P";var a={count:0,committedAmount:0,type:""};a.type="Upcoming P2P";var n={count:0,committedAmount:0,type:""};n.type="Open P2P";for(var o=0;o<e.state.customer.paymentCommitments.length;o++){var r=e.state.customer.paymentCommitments[o];switch(r.type){case"Broken":t.count++,t.committedAmount+=r.committedAmount;break;case"Upcoming":a.count++,a.committedAmount+=r.committedAmount;break;case"Open":n.count++,n.committedAmount+=r.committedAmount}}e.setState({paymentCommitmentArray:[t,a,n]})}};b.propTypes=y,b.defaultProps={customer:{paymentCommitments:[],accountDetails:{bucketNames:[]},predictedAccountDetails:{}},classes:{}};var E=(0,m.default)(function(e){return{progressValue:{color:e.palette.text.primary,fontFamily:e.typography.fontFamily,opacity:.6,fontSize:"1.070rem",marginLeft:"-0.9375vw"},stretchedGrid:{height:"100%"},chartsCard:{backgroundColor:e.palette.background.default,width:"100%",height:"41.29vh",paddingTop:"0",boxShadow:"none"},reasonsCard:{backgroundColor:e.palette.background.default,width:"100%",height:"32.407vh",borderRadius:"4px",paddingTop:"0",boxShadow:"none"},p2pCard:{backgroundColor:e.palette.background.default,width:"100%",height:"25.92vh",paddingTop:"0",borderRadius:"4px",boxShadow:"none"},creditAndRiskCard:{backgroundColor:e.palette.background.default,width:"100%",height:"22.5vh",paddingTop:"0",borderRadius:"4px",boxShadow:"none"},cardHeader:{paddingLeft:"0.5rem",alignItems:"center",paddingTop:"1.2%",borderRadius:"4px"},cardTitle:{fontFamily:e.typography.fontFamily,fontSize:"1.34rem",color:e.palette.text.primary,opacity:.5},gridText:{color:e.palette.text.primary,fontFamily:e.typography.fontFamily},reasons:{fontSize:"1rem",lineHeight:"2rem",opacity:.9,color:e.palette.text.primary,fontFamily:e.typography.fontFamily},progressBar:{position:"relative",height:"2.87vh",width:"19.517vw",border:"calc(0.033vh + 0.033vw) solid"+e.palette.primary.main,borderRadius:"2em"},filler:{backgroundImage:"linear-gradient(to right, #6CC6FD,#129EFD)",height:"100%",borderRadius:"inherit",transition:"width .2s ease-in",float:"left"},risk:{height:"6.648vh",width:"4.808vw",marginBottom:".6vh",color:e.palette.text.primary,fontSize:"0.72rem",fontFamily:e.typography.fontFamily,flexDirection:"column",backgroundColor:e.palette.primary.main},creditUtilization:{fontSize:".8em",color:e.palette.text.primary,paddingBottom:"1%",fontFamily:e.typography.fontFamily,opacity:.8,width:"19.517vw",display:"flex"},noItem:{height:"100%"},paymentCommitmentsText:{fontSize:"2.22rem",color:e.palette.text.primary},paymentCommitmentsCount:{opacity:.65},paymentCommitmentsAmount:{padding:"3%"},paymentCommitmentsType:{color:e.palette.text.primary,fontSize:"0.88rem",opacity:.6,marginTop:"2vh"},riskHeading:{color:e.palette.text.primary,fontFamily:e.typography.fontFamily,opacity:".8",fontSize:".9rem",marginBottom:".55vh"},paddingBottomOnCard:{paddingBottom:"calc(0.66vh + 0.66vw)"},paddingRightOnCard:{paddingRight:"calc(0.66vh + 0.66vw)"}}},p.default);t.default=(0,l.withStyles)(E,{withTheme:!0})(b)},5539:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMenuItems=void 0;var n=c(a(0)),o=c(a(96)),r=c(a(33)),i=c(a(204)),l=c(a(165)),s=c(a(199));function c(e){return e&&e.__esModule?e:{default:e}}t.getMenuItems=function(e,t,a,c){return n.default.createElement("div",null,n.default.createElement(o.default,{title:"Communication History",disableFocusListener:!0},n.default.createElement(r.default,{onClick:function(){return a("COMM_HISTORY")},onTouchEnd:function(){return a("COMM_HISTORY")},className:e.actionButton},n.default.createElement(i.default,{className:e.actionIcon}))),n.default.createElement(l.default,{style:{backgroundColor:t.palette.text.primary,opacity:.5}}),n.default.createElement(o.default,{title:"Payment History",disableFocusListener:!0},n.default.createElement(r.default,{onClick:function(){return a("PAYMENT_HISTORY")},onTouchEnd:function(){return a("PAYMENT_HISTORY")},className:e.actionButton},n.default.createElement(s.default,{className:e.actionIcon}))),n.default.createElement(l.default,{style:{backgroundColor:t.palette.text.primary,opacity:.5}}))}},5540:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=d(o),i=a(13),l=d(a(5541)),s=d(a(76)),c=d(a(41)),u=(d(a(5542)),d(a(21)));function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClose=function(){a.props.closeContactPopover()},a.state={open:a.props.contactPopoverState,contacts:a.props.contacts},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){!0===this.props.openDefault&&this.setState({open:!0})}},{key:"componentWillReceiveProps",value:function(e){e.contactPopoverState===this.props.contactPopoverState&&e.contacts===this.props.contacts||this.setState({open:e.contactPopoverState,contacts:this.props.contacts})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.theme;return r.default.createElement("div",{className:a.App},r.default.createElement(s.default,{id:"simple-popper",open:this.state.open,onClose:this.handleClose,classes:{paper:a.popoverPaper},anchorReference:"anchorPosition",anchorPosition:{top:0},anchorOrigin:{vertical:20,horizontal:20},transformOrigin:{vertical:20,horizontal:20},classeName:a.popOver},r.default.createElement(u.default,{variant:"h5",className:a.popOverTitle},"ALL CONTACTS"),r.default.createElement("div",{style:{flexDirection:"row",justifyContent:"flex-end",display:"flex",flexGrow:1}},r.default.createElement(c.default,{classes:{root:a.closeStyle},onClick:this.handleClose})),r.default.createElement("div",{className:a.paper},this.state.contacts&&this.state.contacts.map(function(t,n){return"Unnamed"!==t.firstName&&"Unnamed"!==t.lastName&&r.default.createElement("div",{key:n,className:a.rowStyle},r.default.createElement(l.default,{toggleDisableCallDialog:e.props.toggleDisableCallDialog,index:n,contact:t,customer:e.props.customer,bucketNames:e.props.bucketNames,nextCustomerUrl:e.props.nextCustomerUrl,communication:e.props.communication,toCallCustomers:e.props.toCallCustomers,closeEmailPopover:e.closeEmailPopover,openEmailPopover:e.openEmailPopover,setEmailIdChips:e.setEmailIdChips}))}))))}}]),t}();m.defaultProps={openDefault:!1,openContacts:!1,contacts:[]},t.default=(0,i.withStyles)(function(e){return{paper:{width:"24.79vw",BoxShadow:e.palette.text.secondary,margin:"3.14vh 0 6vh 0"},popOver:{backgroundColor:e.palette.background.paper},rowStyle:{paddingTop:"1%",paddingBottom:"1%",borderBottom:"2px solid #707070"},popOverTitle:{margin:"2.037vh 0 0 1.042vw",color:e.palette.grey[100],position:"absolute"},popoverPaper:{height:"100%",marginTop:"5.5vh",right:"0",backgroundColor:"#273D49",borderLeft:"0.104vw solid white",boxShadow:"-3px -3px 6px rgba(0, 0, 0, .20)"},closeStyle:{marginTop:"4%",marginRight:"4%",color:e.palette.text.primary,fontSize:"1.5319rem",cursor:"pointer",opacity:.65}}},{withTheme:!0})(m)},5541:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=C(o),i=C(a(6)),l=a(27),s=a(56),c=C(a(130)),u=C(a(131)),d=a(30),m=a(47),p=C(a(211)),f=C(a(21)),h=C(a(28)),g=C(a(29)),v=C(a(5542)),y=a(35),b=a(241);function C(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setEmailIdChips=function(e){a.setState({emailIdChips:e})},a.setEmailbody=function(e){a.setState({emailBody:e})},a.setEmailSubject=function(e){a.setState({emailSubject:e})},a.closeEmailPopover=function(e){a.setState({openEmailPopover:!1})},a.openEmailPopover=function(e){a.setState({openEmailPopover:!0}),0==a.state.emailIdChips.length&&a.setDefaultEmailIdChips()},a.setDefaultEmailIdChips=function(){var e=[];if(a.props.contact.email){var t=a.props.contact.firstName,n=a.props.contact.lastName,o=(t?t+" ":"")+(n||"");e.push({key:0,label:o,emailId:a.props.contact.email,isValidEmail:!0,isEditing:!1})}a.setEmailIdChips(e)},a.onDial=function(e){a.props.changeCaller({caller:e,calling:!0})},a.calculateStatusClass=function(e,t,a,n){return(0,b.isStatusNegative)(e)&&n==t?a.redFont:a.greenFont},a.receiveEmailField=function(e,t,n){a.setState({emailSubject:e,emailBody:t,emailIdChips:n})},a.handleChange=function(e){if(-1!=e.target.id.indexOf("email"))return!1;a.setState(function(e){return{expanded:!e.expanded}})},a.state={expanded:!1,openEmailPopover:!1,emailIdChips:[],emailSubject:"",emailBody:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this.setDefaultEmailIdChips()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.contact,o=t.theme,d=n.firstName,m=n.lastName,h=n.phoneNumber,g=(n.timeZone,n.mobileNumber),C=n.email,E=n.extension;C=C||"",h=h||"",g=g||"",E=E||"";var S=this.props.callState.status,w=this.props.callState.caller,x=(d?d+" ":"")+(m||"");return console.log("expanded status",this.state.expanded),r.default.createElement("div",{id:"contact-row-"+this.props.index},r.default.createElement("div",{id:"email-popover"},r.default.createElement(v.default,{emailIdChips:this.state.emailIdChips,open:this.state.openEmailPopover,closeEmailPopover:this.closeEmailPopover,receiveEmailField:this.receiveEmailField,emailBody:this.state.emailBody,emailSubject:this.state.emailSubject})),r.default.createElement("div",null,r.default.createElement(c.default,{onClick:this.handleChange,expanded:this.state.expanded,style:{boxShadow:"none",backgroundColor:o.palette.background.default},classes:{root:a.expansionPanelRoot}},r.default.createElement(u.default,{classes:{root:a.expansionPanelSummaryRoot,expanded:a.summaryExpanded,content:a.summaryContent}},r.default.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",padding:"0"}},r.default.createElement("div",{className:(0,i.default)(a.marginStatus,a.flex)},(0,b.isPrimary)(n)&&r.default.createElement(f.default,{variant:"body1",className:this.calculateStatusClass(S,h,a,w)},"DEFAULT"),(0,b.isPrimary)(n)&&(w===h||w==g)&&S&&r.default.createElement(f.default,{variant:"body1",className:this.calculateStatusClass(S,h,a,w)},"  |  "),(w===h||w==g)&&""!==h&&r.default.createElement(f.default,{variant:"body1",className:this.calculateStatusClass(S,h,a,w)},S?S.toUpperCase():"")),!this.state.expanded&&r.default.createElement("div",{style:{display:"flex",alignItems:"center"}},r.default.createElement("div",{className:a.customerIconCircle},!(0,b.isStatusNegative)(S)||w!==h&&w!=g?r.default.createElement("span",null,(0,y.getFirstCharFromName)(d,m)):r.default.createElement(p.default,{className:a.badge,color:"error",badgeContent:"!"},r.default.createElement("span",null,(0,y.getFirstCharFromName)(d,m)))),r.default.createElement("div",{style:{marginLeft:"1.041vw"}},r.default.createElement(f.default,{variant:"body1"},x),r.default.createElement(f.default,{variant:"body1"},h)),r.default.createElement("div",{style:{display:"flex",justifyContent:"flex-end",flexGrow:1}},!this.props.callState.calling&&h&&r.default.createElement(s.Link,{onClick:function(){return e.onDial(h)},to:{pathname:"/in-call",state:{calledToFirstName:d,bucketNames:this.props.bucketNames,calledToLastName:m,calledToNumber:"+1"+h,customer:this.props.customer,nextCustomerUrl:this.props.nextCustomerUrl,toCallCustomers:this.props.toCallCustomers,communication:this.props.communication,extension:E}}},r.default.createElement("img",{className:a.PhoneForwarded,src:"/tovo/static/call.svg"})),!this.props.callState.calling&&r.default.createElement("img",{id:"email "+this.props.index,className:(0,i.default)(a.PhoneForwarded,a.margin20),onClick:function(){e.openEmailPopover(),event.stopPropagation()},src:"/tovo/static/Email.svg"}))),this.state.expanded&&r.default.createElement("div",{style:{display:"flex",alignItems:"center"}},r.default.createElement("div",{className:a.customerIconCircle},!(0,b.isStatusNegative)(S)||w!==h&&w!=g?r.default.createElement("span",null,(0,y.getFirstCharFromName)(d,m)):r.default.createElement(p.default,{className:a.badge,color:"error",badgeContent:"!"},r.default.createElement("span",null,(0,y.getFirstCharFromName)(d,m)))),r.default.createElement("div",{style:{marginLeft:"1.041vw"}},r.default.createElement(f.default,{variant:"h3",textPrimary:!0},x))))),r.default.createElement(l.ExpansionPanelDetails,{classes:{root:a.expansionPanelDetailRoot}},r.default.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",padding:"0"}},r.default.createElement("div",{className:a.contactBlock},r.default.createElement("div",null,r.default.createElement(f.default,{variant:"subtitle1"},"Phone Number"),r.default.createElement(f.default,{variant:"body1"},h)),!this.props.callState.calling&&h&&r.default.createElement(s.Link,{onClick:function(){return e.onDial(h)},to:{pathname:"/in-call",state:{calledToFirstName:d,bucketNames:this.props.bucketNames,calledToLastName:m,calledToNumber:"+1"+h,customer:this.props.customer,nextCustomerUrl:this.props.nextCustomerUrl,toCallCustomers:this.props.toCallCustomers,communication:this.props.communication,extension:E}}},r.default.createElement("img",{className:a.PhoneForwarded,src:"/tovo/static/call.svg"}))),r.default.createElement("div",{className:a.contactBlock},r.default.createElement("div",null,r.default.createElement(f.default,{variant:"subtitle1"},"Ext"),r.default.createElement(f.default,{variant:"body1"},E))),r.default.createElement("div",{className:a.contactBlock},r.default.createElement("div",null,r.default.createElement(f.default,{variant:"subtitle1"},"Mobile Number"),r.default.createElement(f.default,{variant:"body1"},g)),!this.props.callState.calling&&g&&r.default.createElement(s.Link,{onClick:function(){return e.onDial(g)},to:{pathname:"/in-call",state:{calledToFirstName:d,bucketNames:this.props.bucketNames,calledToLastName:m,calledToNumber:"+1"+g,customer:this.props.customer,nextCustomerUrl:this.props.nextCustomerUrl,toCallCustomers:this.props.toCallCustomers,communication:this.props.communication,extension:E}}},r.default.createElement("img",{className:a.PhoneForwarded,src:"/tovo/static/call.svg"}))),r.default.createElement("div",{className:a.contactBlock},r.default.createElement("div",null,r.default.createElement(f.default,{variant:"subtitle1"},"Email"),r.default.createElement(f.default,{variant:"body1"},C)),!this.props.callState.calling&&r.default.createElement("img",{className:a.PhoneForwarded,onClick:this.openEmailPopover,src:"/tovo/static/Email.svg",id:"email2 "+this.props.index})))))))}}]),t}(),S=(0,h.default)(function(e){return{greenFont:{color:e.status.safe},marginStatus:{marginLeft:"3.541vw"},redFont:{color:e.palette.error.main},badge:{},expansionPanelSummaryRoot:{padding:"0"},expansionPanelDetailRoot:{padding:"0",cursor:"pointer"},contactBlock:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1.203vh",marginLeft:"3.541vw"},summaryExpanded:{margin:"0 !important",minHeight:"0 !important"},editIcon:{width:"calc(1.066vh + 1.066vw)",height:"calc(1.066vh + 1.066vw)",color:e.palette.primary.main},iconPosition:{marginTop:"2.9vh"},summaryContent:{margin:0},margin20:{marginLeft:"1.041vw"},flex:{display:"flex"},expansionPanelRoot:{padding:"2vh  3vw  2vh  1.041vw !important"}}},g.default),w=(0,l.withStyles)(S,{withTheme:!0})(E);w.defaultProps={changeCaller:function(){},callState:{},sipState:{},contact:{}},t.default=(0,d.connect)(function(e){return{callState:e.callState,sipState:e.sipReducer}},function(e){return{changeCaller:function(t){return e((0,m.changeCaller)(t))}}})((0,l.withStyles)(S,{withTheme:!0})(w))},5542:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=m(o),i=a(13),l=(m(a(5541)),m(a(76))),s=(a(241),m(a(41))),c=m(a(5543)),u=m(a(74)),d=m(a(33));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.openSnackBarWithMessage=function(e){a.setState({snackBarMessage:e}),a.setState({snackBarOpen:!0})},a.closeSnackbar=function(){a.setState({snackBarOpen:!1},function(){"Email sent"==a.state.snackBarMessage&&a.handleClose()})},a.handleClose=function(){a.props.closeEmailPopover()},a.state={open:a.props.open,snackBarOpen:!1,snackBarMessage:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this.props,t=e.classes;e.theme;return r.default.createElement("div",{className:t.App},r.default.createElement(l.default,{id:"simple-popper",open:this.state.open,onClose:this.handleClose,classes:{paper:t.popoverPaper},anchorReference:"anchorPosition",anchorPosition:{top:0},anchorOrigin:{vertical:20,horizontal:20},transformOrigin:{vertical:20,horizontal:20},classeName:t.popOver},r.default.createElement(c.default,{openSnackBarWithMessage:this.openSnackBarWithMessage,closeEmailPopover:this.handleClose,beforeCall:!0,sendEmailField:this.props.receiveEmailField,noTitle:!0,emailIdChips:this.props.emailIdChips,emailBody:this.props.emailBody,emailSubject:this.props.emailSubject}),r.default.createElement(u.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},classes:{root:t.snackbarRoot},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:r.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[r.default.createElement(d.default,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.closeSnackbar},r.default.createElement(s.default,null))]})))}}]),t}();p.defaultProps={},t.default=(0,i.withStyles)(function(e){return{paper:{width:"30vw",BoxShadow:e.palette.text.secondary},popOver:{backgroundColor:e.palette.background.paper},rowStyle:{paddingTop:"1%",paddingBottom:"1%",borderBottom:"2px solid #707070"},popOverTitle:{margin:"2.037vh 0 0 1.042vw",color:e.palette.text.primary,opacity:.65,position:"absolute",fontSize:"1.07rem"},popoverPaper:{height:"100%",width:"56.56vw",marginTop:"5.5vh",right:"0",backgroundColor:"#273D49",borderLeft:"0.104vw solid white",boxShadow:"-3px -3px 6px rgba(0, 0, 0, .20)"},closeStyle:{marginTop:"4%",marginRight:"4%",color:"#fff",fontSize:"1.5319rem",cursor:"pointer",opacity:.65},snackbarRoot:{zIndex:"1000000"}}},{withTheme:!0})(p)},5543:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=y(o),i=y(a(3)),l=a(13),s=a(27),c=y(a(114)),u=a(5877),d=y(a(41)),m=y(a(112)),p=y(a(113)),f=y(a(216)),h=a(5544),g=y(a(6)),v=a(26);function y(e){return e&&e.__esModule?e:{default:e}}var b={summaryNotes:i.default.string,collector:i.default.object.isRequired,nonActionIncluded:i.default.bool,emailIdChips:i.default.array,customer:i.default.object.isRequired,emailAttachements:i.default.array},C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleTemplateChange=function(e){a.setState({emailTemplateName:e.target.value});for(var t=a.state.emailTemplates,n=0;n<t.length;n++)if(t[n].name==e.target.value){a.setState({emailTemplateSubject:t[n].subject}),a.setState({emailTemplateBody:t[n].body}),a.setState({templateId:t[n].id});break}},a.handleEmailEnter=function(e){if(("blur"===e.type||"Enter"===e.key)&&e.target.value.trim()){e.target.value&&(e.target.value=e.target.value.trim());var t=(0,h.validateEmail)(e.target.value),n=a.state.emailIdChips,o={key:a.maxKey,label:e.target.value,emailId:e.target.value,isValidEmail:t,isEditing:!1};n.push(o),a.maxKey=a.maxKey+1,a.setState({toAddr:n}),e.target.value=""}},a.handleEmailIdDelete=function(e){return function(){a.emailAdd.current?a.emailAdd.current.focus():document.getElementById("input-edit-email").focus(),a.setState(function(t){var a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(t.emailIdChips)),n=a.indexOf(e);return a.splice(n,1),{emailIdChips:a}})}},a.handleSubjectChange=function(e){a.setState({emailTemplateSubject:e.target.value})},a.handleEmailBodyChange=function(e){var t=Math.round(document.getElementById("emailBody").scrollHeight);t<=12&&(t=12),a.setState({emailTemplateBody:e.target.value,emailBodyHeight:t})},a.removeAttachement=function(e){for(var t=a.state.emailAttachements,n=0;n<t.length;n++)if(t[n].id==e){t.splice(n,1),a.setState({emailAttachements:t});break}},a.toggleToEdit=function(e){a.setState({editChipKey:e})},a.handleInputClick=function(){a.setState({editChipKey:-1},function(){document.getElementById("input-field-email").focus()})},a.handleEditEmail=function(e,t){if(("blur"===t.type||"Enter"===t.key)&&t.target.value){t.target.value&&(t.target.value=t.target.value.trim());var n=(0,h.validateEmail)(t.target.value),o=a.state.emailIdChips;o[e].value=t.target.value,o[e].label=t.target.value,o[e].isValidEmail=n,a.setState({toAddr:o,editChipKey:-1}),a.emailAdd.current.focus()}},a.handleChange=function(e,t){var n=a.state.emailIdChips;n[e].emailId=t.target.value,a.setState({emailIdChips:n})},a.handleKeyDown=function(e){if(8===e.keyCode&&""==e.target.value){var t=a.state.emailIdChips;t.splice(t.length-1,1),a.setState({emailIdChipsInput:t})}},a.sendSummaryEmail=function(){a.setState({inputReadOnly:!0});for(var e=[],t=0;t<a.state.emailAttachements.length;t++)e.push(a.state.emailAttachements[t].id);if(0!=a.state.emailIdChips.length){var n="";for(t=0;t<a.state.emailIdChips.length;t++)a.state.emailIdChips[t].isValidEmail&&(n+=a.state.emailIdChips[t].emailId+",");var o=n.lastIndexOf(",");n=n.slice(0,o);var r=a.state.emailTemplateBody,i={body:r=r.replace(/\n/g,"<br />"),subject:a.state.emailTemplateSubject,customerId:a.props.customer.id,documentIds:e,from:a.props.collector.emailId,to:n};a.setState({emailSent:!0}),u.correspondenceService.sendCallSummary(i).then(function(e){a.props.openSnackBarWithMessage("Email sent")}).catch(function(e){a.setState({emailSent:!1,inputReadOnly:!1}),a.props.openSnackBarWithMessage("Error in sending email"),console.log(e)})}else a.props.openSnackBarWithMessage("Please specify at least one recipient.")},a.setDefaultBody=function(){var e=a.props,t=e.collector,n=e.summaryNotes,o=e.nonActionIncluded,r=a.state.emailAttachements.length>0?v.PFAMessage:"",i="",l=t.firstName?a.props.collector.firstName:"",s=t.lastName?a.props.collector.lastName:"";for(var c in n){if(c==n.length-1&&o)break;i+=n[c].trim()?"\n• "+n[c]:""}var u=(i=i?"\nPlease find below the summary of our conversation:\n"+i+"\n\n"+r+"\n":"")?"Greetings,\n"+i+"\nRegards,\n"+l+" "+s:"",d=(u.match(/\n/g)||[]).length;a.setState({emailTemplateBody:u,emailBodyHeight:d+1})},a.emailAdd=r.default.createRef(),a.maxKey=a.props.emailIdChips.length,a.state={emailIdChips:a.props.emailIdChips,templateId:-1,emailTemplateSubject:a.props.emailSubject||"",emailSent:!1,emailBodyHeight:12,emailAttachements:a.props.emailAttachements,emailTemplateName:"",emailTemplateBody:"",emailTemplates:[],editChipKey:-1,inputReadOnly:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this.setDefaultBody()}},{key:"componentWillReceiveProps",value:function(e){this.setState({emailIdChips:e.emailIdChips}),this.maxKey=e.emailIdChips.length}},{key:"componentWillUnmount",value:function(){if(console.log("hello"),this.props.beforeCall)if(this.state.emailSent){this.props.sendEmailField(" "," ",[])}else{var e=this.state.emailTemplateSubject,t=document.getElementById("emailBody").value;this.props.sendEmailField(e,t,this.state.emailIdChips)}}},{key:"render",value:function(){var e=this;console.log("edit chip key",this.state.editChipKey),console.log("Max Key",this.maxKey,this.state.emailIdChips);var t=this.props,a=t.classes,n=t.theme;return r.default.createElement(r.default.Fragment,null,!this.props.noTitle&&r.default.createElement("div",{className:a.summaryEmailHeader},r.default.createElement(s.Typography,{style:{fontSize:"1.06666rem",fontWeight:"normal",color:"#ffffff",opacity:.65,paddingBottom:"0.2em"}},"SEND SUMMARY MAIL")),r.default.createElement("div",{className:this.props.beforeCall?(0,g.default)(a.popoverHeight,a.summaryEmail):(0,g.default)(a.boxHeight,a.summaryEmail)},r.default.createElement("div",{className:a.summaryEmailForm},r.default.createElement("div",{className:a.emailIdChipsInput},r.default.createElement(s.Typography,{className:(0,g.default)(a.emailAddLabel,a.marginBottom)},"To "),this.state.emailIdChips.map(function(t,n){return e.state.editChipKey==t.key?r.default.createElement(c.default,{style:{width:.55*t.emailId.length+"vw"},onKeyPress:function(t){return e.handleEditEmail(n,t)},onChange:function(t){e.handleChange(n,t)},value:t.emailId,autoFocus:!0,id:"input-edit-email",readOnly:e.state.inputReadOnly,className:n==e.state.emailIdChips.length-1?(0,g.default)(a.emailIdInput,a.marginBottom):(0,g.default)(a.emailFieldSmall,a.marginBottom),disableUnderline:!0}):r.default.createElement(f.default,{key:t.key,label:t.label.length>25?t.label.slice(0,6)+"...":t.label,className:t.isValidEmail?(0,g.default)(a.emailIdChips,a.marginBottom):(0,g.default)(a.invalidEmailIdChips,a.marginBottom),deleteIcon:r.default.createElement(d.default,{className:e.state.emailSent?a.disableIcon:a.removeEmailId}),clickable:!0,onClick:function(a){return e.toggleToEdit(t.key)},onDelete:e.handleEmailIdDelete(t),classes:{clickable:t.isValidEmail?a.emailIdChips:a.invalidEmailIdChips}})}),r.default.createElement(c.default,{autoFocus:!0,id:"input-field-email",onKeyPress:this.handleEmailEnter,s:!0,onKeyDown:this.handleKeyDown,readOnly:this.state.inputReadOnly,onClick:this.handleInputClick,className:(0,g.default)(a.emailIdInput,a.marginBottom),disableUnderline:!0,disabled:this.state.emailSent||-1!=this.state.editChipKey,inputRef:this.emailAdd})),r.default.createElement(c.default,{fullWidth:!0,style:{marginTop:"1%"},placeholder:"Subject",readOnly:this.state.inputReadOnly,classes:{disabled:a.disabledSubjectInput},className:a.emailSubject,value:this.state.emailTemplateSubject,onChange:this.handleSubjectChange,disableUnderline:!0,disabled:this.state.emailSent}),r.default.createElement("div",{className:a.summaryEmailBody},r.default.createElement(s.TextField,{id:"emailBody",fullWidth:!0,defaultValue:this.props.emailBody,multiline:!0,readOnly:this.state.inputReadOnly,onChange:this.handleEmailBodyChange,style:{color:"white"},className:a.emailBodyText,classes:{},InputProps:{className:a.inputClass,disableUnderline:!0,style:{color:"white"},classes:{input:a.hideOverflow}},disabled:this.state.emailSent}),!this.props.beforeCall&&r.default.createElement("div",{className:a.invoiceAttachements},this.state.emailAttachements.length>0&&r.default.createElement("div",{className:a.invoiceCount},r.default.createElement(s.Typography,{style:{color:n.palette.primary.main,fontSize:"0.9777"}},"Invoice Attachements (",this.state.emailAttachements.length,")")),r.default.createElement(m.default,{cellHeight:"auto",className:a.gridList},this.state.emailAttachements.map(function(e){return r.default.createElement(p.default,{cols:1,key:e.id,style:{height:"auto",width:"12.5rem",padding:"0.25rem"}},r.default.createElement("div",{className:a.gridListDiv},r.default.createElement("div",{style:{display:"block",marginLeft:"0.375rem"}},r.default.createElement(s.Typography,{style:{padding:"0.25rem",fontSize:"0.888rem",opacity:.65,color:n.palette.text.primary}},e.documentNumber),r.default.createElement(s.Typography,{style:{padding:"0.25rem",fontSize:"1rem",color:n.palette.text.primary}},"$ ",e.currentOpenAmount))))}))))),r.default.createElement("div",{className:a.summaryEmailFooter},r.default.createElement(s.Button,{color:"primary",className:a.sendSummaryEmailBtn,variant:"contained",onClick:this.sendSummaryEmail,disabled:this.state.emailSent||0==this.state.emailIdChips.length||this.state.inputReadOnly},"SEND"),this.props.beforeCall&&r.default.createElement(s.Button,{color:"primary",className:a.sendSummaryEmailBtn,disabled:this.state.inputReadOnly,onClick:this.props.closeEmailPopover},"CANCEL"))))}}]),t}();C.defaultProps={summaryNotes:"",collector:{},nonActionIncluded:!1,emailIdChips:[],customer:{},emailAttachements:[]},C.propTypes=b,t.default=(0,l.withStyles)(function(e){return{summaryEmailHeader:{alignItems:"center",display:"flex",height:"4.166vh"},summaryEmail:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:".125rem",marginBottom:"1.3rem",height:"81.94vh",borderRadius:"4px",backgroundColor:e.palette.background.default},boxHeight:{height:"81.94vh"},popoverHeight:{height:"96%"},summaryEmailForm:{display:"flex",flexDirection:"column",padding:"0.5rem 0.5rem 0 0.5rem",flexGrow:1},emailIdChipsInput:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)",display:"flex",alignItems:"center",flexWrap:"wrap"},emailAddLabel:{fontSize:"0.888rem",marginRight:"0.3em",opacity:.5,color:e.palette.primary.main},emailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em",backgroundColor:e.palette.primary.main,color:e.palette.text.primary,"&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},"&:hover, &:focus":{backgroundColor:e.palette.primary.main},"&:active":{backgroundColor:e.palette.primary.main}},invalidEmailIdChips:{height:"1.4em",fontSize:"0.888rem",paddingLeft:"0.1777rem",paddingRight:"0.1777rem",marginRight:"0.2em","&> span":{fontSize:"0.9rem",marginRight:"0.3rem"},backgroundColor:"#ff4444",color:e.palette.text.primary,"&:hover, &:focus":{backgroundColor:"#f73838"},"&:active":{backgroundColor:"#f73838"}},removeEmailId:{fontSize:"0.8em",color:e.palette.text.primary},emailIdInput:{marginRight:"0.3125rem",padding:"0",color:e.palette.text.primary,fontSize:"0.9rem",flexGrow:"1"},emailFieldSmall:{marginRight:"0.3125rem",padding:"0",minWidth:"2px",color:e.palette.text.primary,fontSize:"0.9rem"},emailSubject:{borderBottom:"0.0625rem solid rgba(93, 170, 224, 0.5)",fontSize:"0.888rem",color:e.palette.text.primary,"&::placeholder":{color:"#a7a7a7"}},disabledSubjectInput:{fontSize:"0.888rem",color:e.palette.text.primary},summaryEmailBody:{height:"62vh",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",overflowY:"auto",overflowX:"hidden",position:"relative"},emailBodyText:{marginTop:"0.9rem",color:e.palette.text.primary+" !important"},invoiceCount:{marginBottom:"0.8rem"},invoiceAttachements:{},gridListDiv:{display:"flex",border:e.palette.primary.main+" solid 0.0625rem",padding:"0.25rem",borderRadius:"0.25rem"},summaryEmailFooter:{height:"7.4vh",width:"100%",display:"flex",flexDirection:"row-reverse",alignItems:"center",backgroundColor:" #2c414f;"},sendSummaryEmailBtn:{height:"4.44vh",width:"6.614vw",marginRight:"1.2rem",fontSize:"smaller",alignSelf:"center",color:e.palette.text.primary},disableIcon:{display:"none"},notesList:{color:e.palette.text.primary,paddingLeft:"0",marginLeft:"1.7rem"},emptySummaryText:{color:e.palette.text.primary},emptySummaryGrid:{height:"15vh",whiteSpace:"pre-line",wordBreak:"break-word"},warningLine:{display:"flex",alignItems:"center",fontWeight:500,color:e.palette.text.primary,fontSize:".8em",opacity:"0.65"},icon:{marginRight:".5vw"},hideOverflow:{overflow:"hidden"},marginBottom:{marginBottom:".5rem"},inputClass:{minHeight:"35vh",display:"block !important"}}},{withTheme:!0})(C)},5544:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateEmail=void 0;var n=a(26);t.validateEmail=function(e){return!(!e||!n.EMAIL_REGEX)&&n.EMAIL_REGEX.test(e)}},5545:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addInitialCallLog=function(e){return{type:"ADD_INITAL_CALL_LOG",data:e}},t.changeCallLog=function(e){return{type:"CHANGE_CALL_LOG",data:e}}},5546:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=m(o),i=a(13),l=m(a(85)),s=m(a(41)),c=m(a(5885)),u=m(a(3)),d=a(30);function m(e){return e&&e.__esModule?e:{default:e}}var p={classes:u.default.object.isRequired,popTimeline:u.default.bool,closePopTimeline:u.default.func},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getTimeline=function(e){var t=[],n="",o="";if("PAYMENT_HISTORY"===e&&(t=a.props.drawerModalState.paymentsData,n="RECENT PAYMENTS",o="No Recent Payments"),"COMM_HISTORY"===e)for(var i in console.log(a.props.drawerModalState),t=a.props.drawerModalState.commData,console.log(t,"in comm history"),n="COMMUNICATION HISTORY",o="No Communication History",t){var l=t[i].type.toUpperCase();if("CALL"==l){var s=t[i].call.status;t[i].commType="-100"==s?"VOICEMAIL":"CALL"}else"CORRESPONDENCE"==l&&(t[i].commType="MAIL",t[i].customerName=a.state.customer?a.state.customer.customerName:"")}return r.default.createElement("div",null,r.default.createElement(c.default,{popType:e,events:t,mainHeader:n,noEventMsg:o}))},a.state={popTimeline:a.props.popTimeline,popType:a.props.popType},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({popTimeline:e.popTimeline}),this.setState({customer:e.customer}),this.setState({popType:e.popType})}},{key:"render",value:function(){var e=this.props.classes;return r.default.createElement(l.default,{open:this.state.popTimeline,disableAutoFocus:!0,onClose:this.props.closePopTimeline,classes:{root:e.modal},BackdropProps:{classes:{root:e.backDropRoot}}},r.default.createElement("div",null,r.default.createElement("div",{className:e.customerHistoryModal},this.getTimeline(this.state.popType)),r.default.createElement(s.default,{classes:{root:e.closeStyle},onClick:this.props.closePopTimeline})))}}]),t}();f.defaultProps={popTimeline:!1,customer:{},popType:"RANDOM",drawerModalState:{},closePopTimeline:function(){}},f.propTypes=p;t.default=(0,d.connect)(function(e){return{user:e.personalDetails,chatWindow:e.chatWindow,chatHead:e.chatHead,sipState:e.sipReducer,drawerModalState:e.drawer}},function(e){return{changePersonalDetailsSuccess:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(changePersonalDetailsSuccess(t))}),changePersonalDetailsFailure:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(changePersonalDetailsFailure(t))}),toggleModal:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(toggleModal(t))})}})((0,i.withStyles)(function(e){return{closeStyle:{position:"fixed",top:"1%",left:"50%",color:e.palette.common.white,fontSize:48,cursor:"pointer",opacity:.65},customerHistoryModal:{position:"absolute",width:"45%",height:"100%",bottom:"0",overflowWrap:"break-word",overflowY:"auto",boxShadow:e.shadows[5],paddingLeft:"1%",backgroundColor:e.palette.background.paper,color:e.palette.text.primary},modal:{left:"4.2%"},backDropRoot:{left:"4.2%"}}},{withTheme:!0})(f))},5548:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=T(a(0)),r=a(13),i=T(a(6)),l=T(a(42)),s=T(a(21)),c=T(a(107)),u=T(a(24)),d=T(a(73)),m=T(a(86)),p=T(a(5549)),f=T(a(39)),h=T(a(38)),g=T(a(3)),v=T(a(74)),y=T(a(33)),b=T(a(41)),C=T(a(152)),E=T(a(28)),S=T(a(29)),w=a(26),x=a(30);function T(e){return e&&e.__esModule?e:{default:e}}function N(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var k={invoices:[],filterInvoices:w.emptyFunction,bucketNames:[],setSelectedInvoices:w.emptyFunction},I=function(e){function t(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));A.call(n),n.totalRows=0;for(var o={},r=0;r<e.invoices.length;r++){n.totalRows=n.totalRows+e.invoices[r].length;for(var i=0;i<e.invoices[r].length;i++)e.correctInvoicesMap&&e.invoices[r][i].id in e.correctInvoicesMap?o[e.invoices[r][i].id]=!0:o[e.invoices[r][i].id]=!1}return n.props.postCall&&n.props.setSelectedInvoices(o),n.state={invoices:e.invoices,invoiceType:"All",selectedInvoices:o,allInvoices:(a=[]).concat.apply(a,N(e.invoices)),globalCheck:!1,isBulkEmail:!0,collector:n.props.collector,customer:n.props.customer,snackBarOpen:!1,snackBarMessage:"",emailOfCalled:n.props.emailOfCalled,startEmailSendProcess:!1},n.props.filterInvoices("All"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){var t,a=this;this.setState({invoices:e.invoices,allInvoices:(t=[]).concat.apply(t,N(e.invoices))},function(){a.setCheck(e.invoices,a.state.selectedInvoices)}),e.addContactStatus!==this.props.addContactStatus&&!1===e.addContactStatus.loading&&!0===e.addContactStatus.success&&this.setState({emailOfCalled:e.addContactStatus.email},function(){a.state.startEmailSendProcess&&!a.state.isBulkEmail&&a.sendBulkEmail()})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=(t.theme,this.props.bucketNames);return o.default.createElement(l.default,{className:this.props.postCall?a.postCallDueDetailsRoot:a.dueDetailsRoot,elevation:0},o.default.createElement(u.default,{container:!0,alignItems:"center",className:this.props.postCall?a.selectLinePostCall:a.selectLineInCall},o.default.createElement(u.default,{item:!0,className:a.invoiceBucketCheckbox,align:"center"},o.default.createElement(c.default,{classes:{root:a.checkBoxRoot},icon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.globalCheck,onClick:this.handleChange})),o.default.createElement(u.default,{item:!0,xs:1},o.default.createElement(s.default,{variant:"body1"},"Select All")),o.default.createElement(u.default,{item:!0,xs:1,align:"right"},o.default.createElement(s.default,{variant:"body1"},"View  :")),o.default.createElement(u.default,{item:!0,xs:4},o.default.createElement(d.default,{className:(0,i.default)(a.selectFilter),value:this.state.invoiceType,onChange:this.handleFilterChange,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},MenuProps:{classes:{paper:a.menuPaper}},inputProps:{name:"invoiceType",disableUnderline:!0,className:a.borderBottomSelect}},o.default.createElement(m.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),o.default.createElement(m.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),o.default.createElement(m.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),o.default.createElement(m.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),o.default.createElement(m.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),this.props.postCall&&o.default.createElement(u.default,{item:!0,xs:5,align:"right",className:(0,i.default)(a.clearSelectionGrid,a.centerFlexBox)},o.default.createElement("div",{onClick:this.clearSelections,className:a.clearSelectionsParent},o.default.createElement(C.default,{style:{fontSize:"1.1rem",opacity:.65}})," ",o.default.createElement("span",{className:a.clearSelections},"Clear Selections ",this.selectedInvoicesLength()))),!this.props.postCall&&o.default.createElement(u.default,{item:!0,xs:5,align:"right",style:{paddingRight:"0vw"}},!this.state.isBulkEmail&&o.default.createElement("img",{className:(0,i.default)(a.emailIcon,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.state.isBulkEmail&&o.default.createElement("img",{className:(0,i.default)(a.emailIcon,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),!this.props.postCall&&o.default.createElement(p.default,{emailOfCalled:this.state.emailOfCalled,postCall:this.props.postCall,collector:this.props.collector,customer:this.props.customer,selectedInvoices:this.state.selectedInvoices,invoices:this.state.allInvoices,individual:!1,invoiceType:this.state.invoiceType,updateGlobalMap:this.updateGlobalMap,expandAddContactDialog:this.props.expandAddContactDialog}),this.props.postCall&&this.state.invoices.map(function(t,a){return o.default.createElement(p.default,{emailOfCalled:e.state.emailOfCalled,postCall:e.props.postCall,collector:e.props.collector,customer:e.props.customer,selectedInvoices:e.state.selectedInvoices,invoices:t,individual:!1,days:n[a],invoiceType:e.state.invoiceType,updateGlobalMap:e.updateGlobalMap,expandAddContactDialog:e.props.expandAddContactDialog})}),o.default.createElement(v.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:o.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[o.default.createElement(y.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},o.default.createElement(b.default,null))]}))}}]),t}(),A=function(){var e=this;this.isEmptyObject=function(e){for(var t in e)return!1;return!0},this.setCheck=function(t,a){for(var n=!1,o=t,r=!1,i=0,l=0;l<o.length;l++){i+=o[l].length;for(var s=0;s<o[l].length;s++)if(0==e.state.selectedInvoices[o[l][s].id]){r=!0;break}}for(l=0;l<o.length;l++)for(s=0;s<o[l].length;s++)if(1==e.state.selectedInvoices[o[l][s].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0}),0==i&&(r=!0),1==r||e.isEmptyObject(e.state.selectedInvoices)?e.setState({globalCheck:!1}):e.setState({globalCheck:!0})},this.updateGlobalMap=function(t,a,n){var o;switch(a){case"add":(o=e.state.selectedInvoices)[t]=!0,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"remove":(o=e.state.selectedInvoices)[t]=!1,e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"addArray":if(1==n){o=e.state.selectedInvoices;for(var r=0;r<t.length;r++)o[t[r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(var i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)o[t[i][r].id]=!0;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break;case"removeArray":if(1==n){o=e.state.selectedInvoices;for(r=0;r<t.length;r++)o[t[r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o);break}o=e.state.selectedInvoices;for(i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)o[t[i][r].id]=!1;e.setState({selectedInvoices:o}),e.setCheck(e.state.invoices,o)}e.props.postCall&&e.props.setSelectedInvoices(o)},this.handleChange=function(){1==e.state.globalCheck?e.updateGlobalMap(e.state.invoices,"removeArray",!1):e.updateGlobalMap(e.state.invoices,"addArray",!1)},this.clearSelections=function(){e.updateGlobalMap(e.state.invoices,"removeArray",!1)},this.findType=function(e){return e.p2pDelinquent?"Predicted Delinqment":e.p2pUpcoming?"Upcoming P2P":e.p2pBroken?"Broken P2P":"Dispute"},this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.preventDefault=function(e){e.preventDefault()},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendBulkEmail=function(){if(e.state.emailOfCalled){for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)1==e.state.selectedInvoices[t[n][o].id]&&a.push(t[n][o].id);var r={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.state.emailOfCalled};h.default.post(f.default.apiUrl+"/correspondence/invoicecopy",r).then(function(t){e.openSnackBarWithMessage("Email sent"),e.state.startEmailSendProcess&&e.setState({startEmailSendProcess:!1})}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),e.state.startEmailSendProcess&&e.setState({startEmailSendProcess:!1})})}else e.setState({startEmailSendProcess:!0},function(){e.props.expandAddContactDialog()})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0;for(var n in t)1==t[n]&&a++;if(0!=a)return"("+a+")"}};I.propTypes={classes:g.default.object.isRequired,invoices:g.default.array,filterInvoices:g.default.func},I.defaultProps=k;var O=(0,E.default)(function(e){return{dueDetailsRoot:{borderRadius:"0",background:"transparent"},postCallDueDetailsRoot:{borderRadius:"0",height:"60vh",overflowY:"auto",backgroundColor:e.palette.background.paper},checkedIcon:{color:e.palette.primary.main,width:"calc(1.2vh + 1.2vw)",height:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,color:e.palette.text.primary,fontSize:".9rem !important",marginLeft:"1.718vw"},emailIcon:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},selectMenu:{fontSize:".9rem !important",color:e.palette.text.primary,borderBottom:e.palette.primary.dark+"2px solid"},clearSelections:{marginLeft:".5rem",opacity:.65,fontSize:"0.888rem",color:e.palette.text.primary},clearSelectionsParent:{display:"flex",alignItems:"center",color:e.palette.text.primary,fontSize:"1rem",cursor:"pointer",paddingRight:".45rem"},selectIcon:{color:e.palette.primary.main,opacity:.6},selectLinePostCall:{boxShadow:"none",borderBottom:e.palette.primary.dark+" .7px solid !important",padding:".7vh 0"},selectLineInCall:{boxShadow:"none",marginTop:"2.037vh"},invoiceBucketCheckbox:{width:"3.125vw"},checkBoxRoot:{padding:"0"},clearSelectionGrid:{justifyContent:"flex-end"},borderBottomSelect:{"&:before":{borderBottom:e.palette.primary.dark+" 2px solid"},"&:after":{borderBottom:e.palette.primary.dark+"2px solid"},"&:hover":{borderBottom:e.palette.primary.dark+"2px solid"}}}},S.default);t.default=(0,x.connect)(function(e){return{addContactStatus:e.contactReducer}})((0,r.withStyles)(O,{withTheme:!0})(I))},5549:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=O(a(0)),r=a(13),i=O(a(130)),l=O(a(131)),s=O(a(167)),c=O(a(6)),u=a(48),d=O(a(21)),m=O(a(153)),p=O(a(107)),f=O(a(24)),h=O(a(41)),g=O(a(201)),v=O(a(73)),y=O(a(86)),b=O(a(39)),C=O(a(38)),E=O(a(3)),S=O(a(74)),w=O(a(33)),x=O(a(96)),T=a(63),N=O(a(28)),k=O(a(29)),I=O(a(112)),A=O(a(113));function O(e){return e&&e.__esModule?e:{default:e}}function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a,n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));D.call(n),n.totalAmount=0;for(var o,r,i={},l=0;l<e.invoices.length;l++)n.totalAmount=n.totalAmount+e.invoices[l].currentOpenAmount,i[e.invoices[l].id]=!1;return n.props.individual?(o=i,r="All",n.props.filterInvoices("All"),a=!0):(o=n.props.selectedInvoices,r=e.invoiceType,a=!1),e.invoices.length>0&&!e.postCall&&(a=!0),n.state={checked:!1,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:o,days:e.days,totalAmount:n.totalAmount,invoiceType:r,expanded:a,isBulkEmail:!0,customer:n.props.customer,collector:n.props.collector,snackBarOpen:!1,snackBarMessage:"",startEmailSendProcess:!1,sendEmailToInvoice:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props!==e){for(var t=0,a=0;a<e.invoices.length;a++)t+=e.invoices[a].currentOpenAmount;e.individual?(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices}),this.setCheck(e.invoices,this.state.selectedInvoices)):(this.setState({totalAmount:t,invoices:e.invoices,allInvoices:e.invoices,selectedInvoices:e.selectedInvoices}),this.setCheck(e.invoices,this.state.selectedInvoices)),e.invoices.length>0&&!e.postCall&&this.setState({expanded:!0})}}},{key:"componentDidUpdate",value:function(e,t){this.state.startEmailSendProcess&&this.props.emailOfCalled!==e.emailOfCalled&&(this.state.isBulkEmail?this.sendEmail(this.state.sendEmailToInvoice):this.sendBulkEmail())}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return o.default.createElement("div",{style:{position:"relative"}},this.props.individual&&o.default.createElement(f.default,{container:!0,xs:12,alignItems:"center",justify:"space-between",className:a.individualInvoiceHeader},o.default.createElement(f.default,{item:!0,align:"center",style:{zIndex:"5"},className:a.individualBucketCheckbox},o.default.createElement(p.default,{classes:{root:a.checkBoxRoot},icon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),o.default.createElement(f.default,{item:!0,xs:1},o.default.createElement("span",{className:a.bucketHeaderText},"Select All")),o.default.createElement(f.default,{item:!0,xs:1,align:"right"},o.default.createElement(d.default,{style:{color:"#989898"}},"View  :"," ")),o.default.createElement(f.default,{item:!0,xs:4},o.default.createElement(v.default,{className:(0,c.default)(a.selectFilter),value:this.state.invoiceType,classes:{icon:a.selectIcon,selectMenu:a.selectMenu},onChange:this.handleFilterChange,inputProps:{name:"invoiceType"},MenuProps:{classes:{paper:a.menuPaper}}},o.default.createElement(y.default,{classes:{root:a.menuItemRoot},value:"All"},"All"),o.default.createElement(y.default,{classes:{root:a.menuItemRoot},value:"Broken P2P"},"Broken P2P"),o.default.createElement(y.default,{classes:{root:a.menuItemRoot},value:"Upcoming P2P"},"Upcoming P2P"),o.default.createElement(y.default,{classes:{root:a.menuItemRoot},value:"Dispute"},"Dispute"),o.default.createElement(y.default,{classes:{root:a.menuItemRoot},value:"Predicted Delinquent"},"Predicted Delinquent"))),o.default.createElement(f.default,{item:!0,xs:5,align:"right"},!this.state.isBulkEmail&&o.default.createElement("img",{className:(0,c.default)(a.iconSize,a.enabledEmailIcon),onClick:this.sendBulkEmail,src:"/tovo/static/Email.svg"}),this.state.isBulkEmail&&o.default.createElement("img",{className:(0,c.default)(a.iconSize,a.disabledEmailIcon),src:"/tovo/static/Email.svg"}))),o.default.createElement(f.default,{container:!0,alignItems:"flex-start"},o.default.createElement(f.default,{item:!0,xs:12,className:this.props.individual?a.shift:a.noShift},!this.props.postCall&&o.default.createElement(f.default,{container:!0},!this.props.individual&&o.default.createElement(f.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},o.default.createElement(f.default,{item:!0,className:this.props.individual?a.disableTimeline:a.timeline})),o.default.createElement(f.default,{item:!0,container:!0,xs:this.props.individual?12:11,alignItems:"center",justify:"center"},o.default.createElement(f.default,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between",style:{marginTop:"1.34vh"}},o.default.createElement(f.default,{item:!0,className:a.checkBoxColumn},o.default.createElement("span",null)),o.default.createElement(f.default,{item:!0,align:"center",className:(0,c.default)(a.invoiceNumberColumn,a.invoiceHeaderText,a.centerFlexBox)},"Invoice Number"),o.default.createElement(f.default,{item:!0,align:"right",className:(0,c.default)(a.amountColumn,a.invoiceHeaderText,a.centerFlexBox)},"Amount"),o.default.createElement(f.default,{item:!0,align:"center",className:(0,c.default)(a.brokenColumn,a.invoiceHeaderText,a.centerFlexBox)},"Broken P2P"),o.default.createElement(f.default,{item:!0,align:"center",className:(0,c.default)(a.upcomingColumn,a.invoiceHeaderText,a.centerFlexBox)},"Upcoming P2P"),o.default.createElement(f.default,{item:!0,align:"center",className:(0,c.default)(a.disputeColumn,a.invoiceHeaderText,a.centerFlexBox)},"Dispute"),o.default.createElement(f.default,{item:!0,align:"center",className:(0,c.default)(a.predictedColumn,a.invoiceHeaderText,a.centerFlexBox)},"Predicted Delinquent"),o.default.createElement(f.default,{item:!0,xs:1,className:(0,c.default)(a.emailColumn,a.centerFlexBox)})),this.state.invoices.map(function(t,n){return o.default.createElement(f.default,{item:!0,container:!0,alignItems:"center",justify:"space-between",xs:12,className:e.state.selectedInvoices[t.id]?(0,c.default)(a.changeRowBackground,a.defaultBackground):a.defaultBackground,key:t.id+"row"},o.default.createElement(f.default,{item:!0,className:a.checkBoxColumn,align:"center",padding:"checkbox"},o.default.createElement(p.default,{classes:{root:a.checkBoxRoot},id:t.id,icon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}})),o.default.createElement(f.default,{align:"center",numeric:!0,className:(0,c.default)(a.invoiceNumberColumn,a.centerFlexBox)},t.documentNumber.toString().length>20?o.default.createElement(x.default,{title:t.documentNumber},o.default.createElement(d.default,{noWrap:!0,className:a.primaryColor},t.documentNumber)):o.default.createElement(d.default,{noWrap:!0,className:a.primaryColor},t.documentNumber)),o.default.createElement(f.default,{align:"right",numeric:!0,className:(0,c.default)(a.amountColumn,a.primaryColor,a.centerFlexBox)},"$"+(0,u.formatter)(t.currentOpenAmount)),o.default.createElement(f.default,{className:(0,c.default)(a.brokenColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pBroken?o.default.createElement(g.default,{className:a.icon}):o.default.createElement(h.default,{className:a.icon})),o.default.createElement(f.default,{className:(0,c.default)(a.upcomingColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pUpcoming?o.default.createElement(g.default,{className:a.icon}):o.default.createElement(h.default,{className:a.icon})),o.default.createElement(f.default,{className:(0,c.default)(a.disputeColumn,a.centerFlexBox),align:"center",numeric:!0},null!=t.disputeStatus?o.default.createElement(g.default,{className:a.icon}):o.default.createElement(h.default,{className:a.icon})),o.default.createElement(f.default,{className:(0,c.default)(a.predictedColumn,a.centerFlexBox),align:"center",numeric:!0},t.p2pDelinquent?o.default.createElement(g.default,{className:a.icon}):o.default.createElement(h.default,{className:a.icon})),o.default.createElement(f.default,{className:(0,c.default)(a.emailColumn,a.centerFlexBox),xs:1,align:"right"},!e.state.selectedInvoices[t.id]&&o.default.createElement("img",{className:(0,c.default)(a.iconSize,a.enabledEmailIcon),onClick:function(){return e.sendEmail(t.id)},src:"/tovo/static/Email.svg"})))}))),this.props.postCall&&o.default.createElement(i.default,{style:{boxShadow:"none",backgroundColor:"transparent"},defaultExpanded:this.props.individual,expanded:this.state.expanded},!this.props.individual&&o.default.createElement(l.default,{className:a.panelSummary,classes:{content:a.content,expanded:a.summaryExpanded}},o.default.createElement(f.default,{container:!0,alignItems:"center",className:a.summaryContent},o.default.createElement(f.default,{item:!0,className:(0,c.default)(a.invoiceBucketCheckbox,a.centerFlexBox),align:"center"},o.default.createElement("div",{className:a.connector}),o.default.createElement(p.default,{classes:{root:a.checkBoxRoot},icon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.checked,onClick:function(){return e.checkAllInvoices(event)}})),o.default.createElement(f.default,{container:!0,alignItems:"center",justify:"space-between",item:!0,xs:11,align:"left",onClick:this.toggleExpand,className:a.borderBottom},o.default.createElement(f.default,{item:!0,xs:10},o.default.createElement("span",{className:a.bucketHeaderText},this.state.days," "),o.default.createElement("span",{className:(0,c.default)(a.greyText,a.bucketHeaderText)},this.selectedInvoicesLength())),o.default.createElement(f.default,{item:!0,xs:2,align:"right"},!this.state.expanded&&o.default.createElement(m.default,{className:(0,c.default)(a.expandIcon,a.iconSize)}),this.state.expanded&&o.default.createElement(T.ExpandLess,{className:(0,c.default)(a.expandIcon,a.iconSize)}))))),o.default.createElement(s.default,{className:this.props.postCall?a.postCallRoot:a.root},o.default.createElement(f.default,{container:!0},o.default.createElement(f.default,{item:!0,container:!0,className:a.verticalTimeline,justify:"center"},o.default.createElement(f.default,{item:!0,className:a.postCallTimeline})),o.default.createElement(f.default,{item:!0,xs:11},o.default.createElement(I.default,{cellHeight:"auto",className:a.gridList},this.state.invoices.map(function(t){return o.default.createElement(A.default,{cols:1,key:t.id,classes:{tile:a.gridListTile},style:{height:"auto",width:"16vw",margin:"0.2rem"}},o.default.createElement("div",{className:1==e.state.selectedInvoices[t.id]?(0,c.default)(a.selectedGridListDiv,a.gridListDiv):a.gridListDiv},o.default.createElement(p.default,{style:{padding:"2px",alignItems:"center",left:"3%"},icon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),id:t.id,checked:1==e.state.selectedInvoices[t.id],onClick:function(){return e.addInvoice(t.id)}}),o.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},o.default.createElement(d.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.text.primary,opacity:.65,lineHeight:"1.7rem"}},t.documentNumber),o.default.createElement(d.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.text.primary,lineHeight:"1.7rem"}},"$",(0,u.formatter)(t.currentOpenAmount)))))})))))))),o.default.createElement(S.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:o.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[o.default.createElement(w.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},o.default.createElement(h.default,null))]}))}}]),t}(),D=function(){var e=this;this.handleFilterChange=function(t){e.setState({invoiceType:t.target.value}),e.props.filterInvoices(t.target.value)},this.toggleExpand=function(){1==e.state.expanded?e.setState({expanded:!1}):e.setState({expanded:!0})},this.addInvoice=function(t){0==e.state.selectedInvoices[t]?e.props.individual?e.updateLocalMap(t,"add"):e.props.updateGlobalMap(t,"add",!0):e.props.individual?e.updateLocalMap(t,"remove"):e.props.updateGlobalMap(t,"remove",!0)},this.checkAllInvoices=function(t){1==e.state.checked?(e.setState({checked:!1}),e.props.individual?e.updateLocalMap(e.state.invoices,"removeArray"):e.props.updateGlobalMap(e.state.invoices,"removeArray",!0)):(e.setState({checked:!0}),e.props.individual?e.updateLocalMap(e.state.invoices,"addArray"):e.props.updateGlobalMap(e.state.invoices,"addArray",!0))},this.updateLocalMap=function(t,a){switch(a){case"add":(n=e.state.selectedInvoices)[t]=!0,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"remove":(n=e.state.selectedInvoices)[t]=!1,e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"addArray":for(var n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!0;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n);break;case"removeArray":for(n=e.state.selectedInvoices,o=0;o<t.length;o++)n[t[o].id]=!1;e.setState({selectedInvoices:n}),e.setCheck(e.state.invoices,n)}},this.setCheck=function(){for(var t=e.state.invoices,a=!1,n=!1,o=0;o<t.length;o++)if(1==e.state.selectedInvoices[t[o].id]){n=!0,e.setState({isBulkEmail:!1});break}n||e.setState({isBulkEmail:!0});for(var r=0;r<t.length;r++)if(0==e.state.selectedInvoices[t[r].id]){a=!0;break}0==t.length&&(a=!0),1==a?e.setState({checked:!1}):e.setState({checked:!0})},this.openSnackBarWithMessage=function(t){e.setState({snackBarMessage:t}),e.setState({snackBarOpen:!0})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.sendEmail=function(t){if(e.props.emailOfCalled){var a={customerId:e.state.customer.id,documentIds:[t],from:e.state.collector.emailId,to:e.props.emailOfCalled};C.default.post(b.default.apiUrl+"/correspondence/invoicecopy",a).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText),e.state.startEmailSendProcess&&e.setState({startEmailSendProcess:!1,sendEmailToInvoice:null})}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t),e.state.startEmailSendProcess&&e.setState({startEmailSendProcess:!1,sendEmailToInvoice:null})})}else e.setState({startEmailSendProcess:!0,sendEmailToInvoice:t},function(){e.props.expandAddContactDialog()})},this.sendBulkEmail=function(){if(e.props.emailOfCalled){console.log("Sending Bulk email");for(var t=e.state.invoices,a=[],n=0;n<t.length;n++)1==e.state.selectedInvoices[t[n].id]&&a.push(t[n].id);var o={customerId:e.state.customer.id,documentIds:a,from:e.state.collector.emailId,to:e.props.emailOfCalled};C.default.post(b.default.apiUrl+"/correspondence/invoicecopy",o).then(function(t){e.openSnackBarWithMessage("Email sent"),console.log(t.data),console.log(t.status),console.log(t.statusText),e.state.startEmailSendProcess&&e.setState({startEmailSendProcess:!1})}).catch(function(t){e.openSnackBarWithMessage("Error in sending email"),console.log(t),e.state.startEmailSendProcess&&e.setState({startEmailSendProcess:!1})})}else e.setState({startEmailSendProcess:!0},function(){e.props.expandAddContactDialog()})},this.selectedInvoicesLength=function(){var t=e.state.selectedInvoices,a=0,n=e.state.invoices;for(var o in n)1==t[n[o].id]&&a++;return 0!=a&&e.props.postCall?"("+a+" Selected)":"(Total: $"+(0,u.formatter)(e.state.totalAmount,"")+" - "+e.state.invoices.length+" Invoices)"}};R.propTypes={classes:E.default.object.isRequired,invoices:E.default.array,filterInvoices:E.default.func},R.defaultProps={invoices:[],selectedInvoices:[],filterInvoices:function(){}};var _=(0,N.default)(function(e){var t;return P(t={root:{padding:"0"},postCallRoot:{padding:"0",marginTop:".8vh"},icon:{color:e.palette.text.primary,width:"1.25vw",height:"2.22vh",opacity:".6"},checkedIcon:{color:e.palette.primary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},selectFilter:{minWidth:120,marginLeft:"1.718vw"},gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.primary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},shift:{margin:"1rem 1rem 0 1rem"},primaryColor:{color:e.palette.text.primary,fontSize:".95rem",textAlign:"center"},greyText:{opacity:".65"},bucketHeaderText:{color:e.palette.text.primary,fontSize:".9rem"},changeRowBackground:{backgroundColor:"#586973"},defaultBackground:{borderBottom:".7px solid #395C73 !important",height:"5.65vh"},invoiceHeaderText:{fontSize:".9rem",color:e.palette.text.primary,opacity:".5"},panelSummary:{padding:"0",margin:"0"},content:{margin:"0 !important"},expandIcon:{color:e.palette.primary.main},individualInvoiceHeader:{boxShadow:"none",padding:"2.037vh 1rem 0 1rem"},iconSize:{height:"calc(1.46vh + 1.46vw)",width:"calc(1.46vh + 1.46vw)"},enabledEmailIcon:{cursor:"pointer"},disabledEmailIcon:{opacity:".5"},summaryExpanded:{minHeight:"5.55vh !important"},disableTimeline:{marginTop:"2.2rem",marginLeft:".2rem"},timeline:{borderLeft:"1px solid #596A75"}},"disableTimeline",{}),P(t,"postCallTimeline",{borderLeft:"1px solid #395C73"}),P(t,"selectIcon",{color:e.palette.text.primary,opacity:.6}),P(t,"summaryContent",{boxShadow:"none",paddingRight:"0 !important"}),P(t,"invoiceNumberColumn",{width:"14%"}),P(t,"amountColumn",{width:"12%"}),P(t,"brokenColumn",{width:"13.5%"}),P(t,"upcomingColumn",{width:"14%"}),P(t,"disputeColumn",{width:"13%"}),P(t,"predictedColumn",{width:"18%"}),P(t,"checkBoxColumn",{textAlign:"center",minWidth:"3.125vw"}),P(t,"borderBottom",{borderBottom:".7px solid #395C73 !important"}),P(t,"emailColumn",{justifyContent:"flex-end"}),P(t,"invoiceBucketCheckbox",{width:"3.125vw",height:"5.55vh"}),P(t,"verticalTimeline",{width:"3.125vw"}),P(t,"connector",{height:"5.55vh"}),P(t,"checkBoxRoot",{padding:"0"}),P(t,"individualBucketCheckbox",{minWidth:"3.125vw"}),P(t,"selectMenu",{fontSize:".9rem !important",color:e.palette.text.primary,borderBottom:"1px solid rgba(255,255,255,.2)"}),P(t,"gridListTile",{height:"auto !important"}),t},k.default);t.default=(0,r.withStyles)(_,{withTheme:!0})(R)},5550:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=u(r),l=a(13),s=(u(a(3)),u(a(24))),c=u(a(5904));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.autoScroll,a=(e.classes,e.className),o=e.transcriptChatProps,r=e.transcriptTitleClassName;return i.default.createElement(s.default,{item:!0,xs:12,container:!0,className:a},i.default.createElement("span",{className:r},"CALL TRANSCRIPT"),i.default.createElement(c.default,n({autoScroll:t},o)))}}]),t}();t.default=(0,l.withStyles)(function(e){return{}},{withTheme:!0})(d)},5551:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=c(a(0)),r=a(13),i=c(a(77)),l=c(a(28)),s=c(a(29));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d=function(e){var t,a=e.autoFocus,r=e.classes,l=e.className,s=e.error,c=e.onChange,d=e.placeholder,m=e.required,p=e.type,f=e.defaultValue,h=e.maxLength,g=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["autoFocus","classes","className","error","onChange","placeholder","required","type","defaultValue","maxLength"]);return o.default.createElement(i.default,n((u(t={autoFocus:a,className:l,error:s,onChange:c,placeholder:d,required:m,type:p},"className",r.textField),u(t,"defaultValue",f),u(t,"InputProps",{className:r.input+" "+(s?r.borderFirst:r.borderSecond)}),u(t,"onInput",function(e){e.target.value=h?e.target.value.toString().slice(0,h):e.target.value}),t),g))};d.defaultProps={autoFocus:!1,error:!1,required:!1,type:"text"};var m=(0,l.default)(function(e){return{textField:{display:"flex",margin:"0 0 10px 0"},input:{color:e.palette.common.main},error:{color:e.palette.error.main},correct:{color:e.palette.primary.main}}},s.default);t.default=(0,r.withStyles)(m,{withTheme:!0})(d)},5558:function(e,t,a){"use strict";var n=u(a(0)),o=u(a(36)),r=u(a(246)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(5917)),l=a(30),s=a(71),c=a(5918);function u(e){return e&&e.__esModule?e:{default:e}}o.default.render(n.default.createElement(l.Provider,{store:s.store},n.default.createElement(c.PersistGate,{loading:null,persistor:s.persistor},n.default.createElement(r.default,null))),document.getElementById("root")),i.unregister()},5614:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pxToRem=void 0;var n,o=a(13),r=a(265);(n=r)&&n.__esModule;var i=t.pxToRem=function(e){return e/19.2+"rem"};t.default=(0,o.createMuiTheme)({palette:{primary:{main:"#5DAAE0",light:"rgb(93,175,240,0.5)",dark:"rgb(93,175,240,0.2)"},secondary:{main:"#FC7500"},error:{main:"#FF4444"},common:{white:"#FFFFFF",black:"rgb(0,0,0)"},text:{primary:"#FFFFFF",secondary:"#5DAAE0"},divider:"rgb(255,255,255,0.5)",grey:{50:"rgb(255,255,255,0.5)",100:"rgb(255,255,255,0.65)",200:"rgb(255,255,255,0.85)",300:"rgb(255,255,255)",400:"rgb(0,0,0,0.5)",500:"rgb(0,0,0,0.65)",600:"rgb(0,0,0,0.85)"},background:{main:"radial-gradient(#58687E, #39495E)",paper:"#273D49",default:"rgba(39, 61, 73, .75)"},cardBackground:{main:"rgba(39, 61, 73, .75)",color:"#FFFFFF"},solidBackground:{main:"#273D49"},chatHeadBackground:{main:"#FC7500",color:"#FFFFFF"},chatWindowBackground:{main:"#39495E"},popOver:{main:"#273d49"}},typography:{useNextVariants:!0,h1:{fontSize:i(50)},h2:{fontSize:i(40),color:"#5DAAE0"},h3:{fontSize:i(30)},h4:{fontSize:i(26)},h5:{fontSize:i(24),color:"rgb(255,255,255,0.65)",lineHeight:"normal"},h6:{fontSize:i(22)},subtitle1:{fontSize:i(20),color:"rgb(255,255,255,0.85)",lineHeight:"normal"},subtitle2:{fontSize:i(18),color:"rgb(255,255,255,0.85)"},body1:{fontSize:i(20),color:"rgb(255,255,255)"},body2:{fontSize:i(20),color:"rgb(255,255,255,0.65)",lineHeight:"normal"},caption:{fontSize:i(16),color:"#FFFFFF"},overline:{fontSize:i(14),color:"#FFFFFF"},button:{fontSize:i(20),color:"#5DAAE0"},fontFamily:"Roboto"},status:{safe:"#5FC32C",safe2:"#CFFFB5",warning:"#FF8888"}})},5620:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(58),o=p(a(5621)),r=p(a(5622)),i=p(a(5623)),l=p(a(5624)),s=p(a(5625)),c=p(a(5626)),u=p(a(5627)),d=p(a(5634)),m=p(a(5635));function p(e){return e&&e.__esModule?e:{default:e}}var f=(0,n.combineReducers)({personalDetails:r.default,callState:o.default,transcription:i.default,customers:l.default,callLogState:s.default,sipReducer:c.default,drawer:d.default,contactReducer:m.default,freedaRootReducer:u.default});t.default=f},5621:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,calling:!1,status:"",calledToNumber:"",contactId:-1,startDate:null,endDate:null,uID:null,duration:0,summary:"",note:""},t=arguments[1];switch(t.type){case"CHANGE_CALL_STATE":return t.data.caller=e.caller,"Connected to"===e.status?(e.caller="",e.calling=t.data.calling,e):(void 0===t.data.status&&(t.data.status=e.status),console.log(t.data,"action.data here"),t.data);case"CHANGE_CALLER":return e.caller=t.data.caller,e.calling=t.data.calling?t.data.calling:e.calling,e;case"CHANGE_STATUS":return e.status=t.status,e;case"CHANGE_CALLING":return e.calling=t.data.calling,e;default:return e}}},5622:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(126);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments[1];switch(t.type){case n.CHANGE_PERSONAL_DETAILS_SUCCESS:case"CHANGE_PERSONAL_DETAILS_FAILURE":return t.data;default:return e}}},5623:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{transcription:"",summary:"[]"},t=arguments[1];switch(t.type){case"CHANGE_TRANSCRIPTION":return Object.assign({},e,{transcription:t.data.transcription});case"CHANGE_SUMMARY":return Object.assign({},e,{summary:t.data.summary});default:return e}}},5624:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageNumber:0,customers:[]},t=arguments[1];switch(t.type){case"ADD_CUSTOMERS":return e.customers=e.customers.concat(t.data.customers),e;case"RESET_CUSTOMERS":return e.customers=[],e;case"NEXT_PAGE":return e.pageNumber++,e;case"PREV_PAGE":return e.pageNumber--,e;case"RESET_CUSTOMER_NUMBER":return e.customerNumber=t.data.customerNumber,e;case"RESET_PAGENUMBER":return e.pageNumber=0,e;default:return e}}},5625:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,calling:!1,status:"",calledToNumber:"",contactId:-1,startDate:null,endDate:null,uID:null,duration:0,summary:"",note:""},t=arguments[1];switch(t.type){case"ADD_INITAL_CALL_LOG":return t.data;case"CHANGE_CALL_LOG":return e.contactId=t.data.id,e;default:return e}}},5626:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{connected:!1},t=arguments[1];switch(t.type){case"TOGGLE_SIP_CONNECTION":return Object.assign({},e,{connected:t.data.connected});default:return e}}},5627:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(58),o=s(a(5628)),r=s(a(5629)),i=s(a(5630)),l=a(5633);function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.combineReducers)({chatHead:o.default,chatWindow:r.default,chatMessages:i.default,redirect:l.redirectionReducer,reqCallPrepState:l.reqCallPrepState,callPrepState:l.getCallPrepState,redirectionData:l.redirectionData});t.default=c},5628:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(46),r={open:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case o.CHATHEAD.OPEN:return n({},e,{open:t.chatHead.open});default:return e}}},5629:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(46),r={open:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case o.CHATWINDOW.OPEN:return n({},e,{open:t.chatWindow.open});default:return e}}},5630:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(5631),i=(n=r)&&n.__esModule?n:{default:n},l=a(46);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={chatObjs:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case l.CALLFREEDA.API_INIT:return e=o({},e,{chatObjs:e.chatObjs.concat({icon:t.chatObj.icon,status:t.chatObj.status,content:t.chatObj.content})});case l.API_SUCCESS.SINGLE_ENTITY:case l.API_SUCCESS.MULTIPLE_ENTITY:case l.CALLFREEDA.API_FAILURE:return(0,i.default)(e,{chatObjs:s({},e.chatObjs.length-1,{content:{$set:t.chatObj.content},icon:{$set:t.chatObj.icon},status:{$set:t.chatObj.status}})});default:return e}}},5633:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redirectionData=t.getCallPrepState=t.reqCallPrepState=t.redirectionReducer=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(46),r={callPrep:!1,inCall:!1,paymentHist:!1,commHist:!1},i=(t.redirectionReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case o.REDIRECT:return n({},e,{callPrep:t.redirectionObj.callPrep,inCall:t.redirectionObj.inCall,paymentHist:t.redirectionObj.paymentHist,commHist:t.redirectionObj.commHist});default:return e}},{getSnapshot:!1}),l=(t.reqCallPrepState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case o.CALLPREP.REQ_STATE:return!!t.data.getSnapshot;default:return e}},{contactIndex:null,customer:null,bucketNames:null,nextCustomerUrl:null,calledToNumber:null,toCallCustomers:null,communication:null}),s=(t.getCallPrepState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.CALLPREP.GET_STATE:return n({},e,{contactIndex:t.data.contactIndex,customer:t.data.customer,bucketNames:t.data.bucketNames,nextCustomerUrl:t.data.nextCustomerUrl,toCallCustomers:t.data.toCallCustomers,calledToNumber:t.data.calledToNumber,communication:t.data.communication});default:return e}},{callPrepData:null,inCallData:null});t.redirectionData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.SIDE_EFFECTS.INCALL_DATA:return n({},e,{inCallData:n({},e.inCallData,{contactIndex:t.data.contactIndex,customer:t.data.customer,bucketNames:t.data.bucketNames,nextCustomerUrl:t.data.nextCustomerUrl,toCallCustomers:t.data.toCallCustomers,calledToNumber:t.data.calledToNumber,communication:t.data.communication})});case o.SIDE_EFFECTS.CALLPREP_DATA:return n({},e,{callPrepData:n({},e.callPrepData,{customerId:t.data.customerId})});default:return e}}},5634:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(126);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1,type:null,commData:null,paymentsData:null},t=arguments[1];switch(t.type){case n.TOGGLE_MODAL:return e.open=t.data.open,e.type=t.data.type,t.data.commData=e.commData,t.data.paymentsData=e.paymentsData,console.log(e,"satte here"),console.log(t.data,"toggling"),t.data;case n.UPDATE_COMM_MODAL:return console.log("updating comm data"),e.commData=t.data,e;case n.UPDATE_PAYMENTS_MODAL:return e.paymentsData=t.data,e;default:return e}}},5635:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"POST_CONTACT_REQUEST":return{loading:!0};case"POST_CONTACT_SUCCESS":return n({loading:!1,success:!0},t.payload);case"POST_CONTACT_FAILURE":return{loading:!1,success:!1};case"RESET_CONTACT_REDUCER":return{};default:return e}}},5637:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=a(75),o=m(a(5638)),r=m(a(5640)),i=m(a(5664)),l=m(a(5665)),s=m(a(5666)),c=m(a(5667)),u=m(a(5668)),d=a(5669);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var p=regeneratorRuntime.mark(h);function f(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function h(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.all)([].concat(f(Object.values(o)),f(Object.values(r)),f(Object.values(i)),f(Object.values(l)),f(Object.values(s)),f(Object.values(c)),f(Object.values(u))).map(n.fork));case 2:return e.next=4,(0,n.takeLatest)("POST_CONTACT_REQUEST",d.saveNewContact);case 4:case"end":return e.stop()}},p,this)}},5638:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchSpeechRecognitionInit=y,t.watchSpeechRecognitionStart=C,t.watchSpeechRecognitionStop=S,t.watchSpeechRecognitionWake=x,t.watchSpeechRecognitionAbort=N;var n=a(75),o=a(46),r=a(5639),i=regeneratorRuntime.mark(v),l=regeneratorRuntime.mark(y),s=regeneratorRuntime.mark(b),c=regeneratorRuntime.mark(C),u=regeneratorRuntime.mark(E),d=regeneratorRuntime.mark(S),m=regeneratorRuntime.mark(w),p=regeneratorRuntime.mark(x),f=regeneratorRuntime.mark(T),h=regeneratorRuntime.mark(N),g=(0,r.fredaWakeWord)("webSpeech");function v(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.call)(g.instantiate());case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},i,this,[[0,5]])}function y(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SPEECHRECOGNITION.INITIALIZE,v);case 2:case"end":return e.stop()}},l,this)}function b(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.call)(g.start());case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},s,this,[[0,5]])}function C(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SPEECHRECOGNITION.START,b);case 2:case"end":return e.stop()}},c,this)}function E(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.call)(g.stop(!0));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},u,this,[[0,5]])}function S(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SPEECHRECOGNITION.STOP,E);case 2:case"end":return e.stop()}},d,this)}function w(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},m,this)}function x(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SPEECHRECOGNITION.WAKE,w);case 2:case"end":return e.stop()}},p,this)}function T(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},f,this)}function N(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SPEECHRECOGNITION.ABORT,T);case 2:case"end":return e.stop()}},h,this)}},5639:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fredaWakeWord=function(e){console.log("Wake word util initializing");var t,a,r={},i=!0,l=!1,s=["frida","freda","freida","freeda","freedom","fidaa","fida","reader","dida","sridhar"];return r.onWake=function(){console.log("On wake called"),n.store.dispatch(o.handlefredaBtnClick)},r.instantiate=function(){if("webSpeech"===e){if("SpeechRecognition"in window){t=new window.SpeechRecognition;var n=new window.SpeechGrammarList}else t=new window.webkitSpeechRecognition,n=new window.webkitSpeechGrammarList;t.lang="en-US",t.interimResults=!0,t.continuous=!0,t.maxAlternatives=3,t.grammars=n,t.start(),t.onresult=function(e){for(var a in e.results){var n=!1;for(var o in e.results[a]){var r=e.results[a][o].transcript;if(r&&(r=r.trim().toLowerCase(),console.log("Wake word Transcript:::"+r),s.includes(r))){l=!0,t.stop(),n=!0;break}}if(n)break}},t.onerror=function(e){console.log("Speech recognition error detected: "+e.error),console.log("Additional information: "+e.message)},t.onaudiostart=function(){},t.onaudioend=function(){},t.onsoundstart=function(){},t.onsoundend=function(){},t.onspeechstart=function(){},t.onspeechend=function(){},t.onend=function(){l&&(r.onWake(),l=!1),i&&function(e){setTimeout(function(){a&&e.start()},300)}(t)},t.onstart=function(){a=!0}}},r.start=function(){console.log("Starting listening for wakeword"),"webSpeech"===e&&(i=!0,t.start())},r.stop=function(a){"webSpeech"===e&&(console.log("Stopping listening for wakeword"),t.stop(),a&&(i=!1))},r.printState=function(){},r};var n=a(71),o=a(44)},5640:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchForFreedaButtonClick=d;var n=a(75),o=a(266),r=a(44),i=a(147),l=a(46),s=regeneratorRuntime.mark(u),c=regeneratorRuntime.mark(d);function u(){var e,t,a;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,n.put)((0,o.stopSpeechRecog)());case 2:return l.next=4,(0,n.put)((0,r.toggleButtonStatus)());case 4:return l.next=6,(0,n.call)(i.checkIfCallPrepPopOverOpen);case 6:if("PAYMENT_HISTORY"!==(e=l.sent)){l.next=14;break}return l.next=10,(0,n.call)(i.handleCallPrepPopUp,!1,"PAYMENT_HISTORY");case 10:return l.next=12,(0,n.put)(redirect(i.redirectionObjReset));case 12:l.next=19;break;case 14:if("COMM_HISTORY"!==e){l.next=19;break}return l.next=17,(0,n.call)(i.handleCallPrepPopUp,!1,"COMM_HISTORY");case 17:return l.next=19,(0,n.put)(redirect(i.redirectionObjReset));case 19:return l.next=21,(0,n.call)(i.checkIfChatHeadOpen);case 21:if(!l.sent){l.next=25;break}return l.next=25,(0,n.put)((0,r.closeChatHead)());case 25:return t={open:!0},l.next=28,(0,n.put)((0,r.openChatWindow)(t));case 28:return l.next=30,(0,n.call)(i.checkIfUserGreeted);case 30:a=l.sent,console.log("User greeting status:::"+a);case 32:case"end":return l.stop()}},s,this)}function d(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(l.CALLFREEDA.CLICK,u);case 2:case"end":return e.stop()}},c,this)}},5659:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChatBot=void 0;var n=a(71),o=a(44),r=a(5660),i={speechRecognitionApi:{}};i.speechRecognitionApi.audioType="audio",i.speechRecognitionApi.numberOfAudioChannels=1,i.speechRecognitionApi.desiredSampRate=16e3,i.speechRecognitionApi.mimeType="audio/wav",i.speechRecognitionApi.recordingDuration=59e3;var l=a(5661);i.speechRecognitionApi.initializeRecordAudio=function(){navigator.mediaDevices.getUserMedia({audio:{sampleRate:i.speechRecognitionApi.desiredSampRate,channelCount:i.speechRecognitionApi.numberOfAudioChannels}}).then(function(e){console.log("Media success:::Record RTC starting"),window.streamReference=e,i.speechRecognitionApi.recorder=r(e,{type:i.speechRecognitionApi.audioType,numberOfAudioChannels:i.speechRecognitionApi.numberOfAudioChannels,desiredSampRate:i.speechRecognitionApi.desiredSampRate,recorderType:r.StereoAudioRecorder,mimeType:i.speechRecognitionApi.mimeType}),i.speechRecognitionApi.recorder.setRecordingDuration(i.speechRecognitionApi.recordingDuration,i.speechRecognitionApi.onStop);l(e,{interval:50,threshold:-50}).on("stopped_speaking",function(){console.log("stopped_speaking"),n.store.dispatch(o.harkPauseDetected)}),i.speechRecognitionApi.startRecordingVoice()}).catch(function(e){console.error("media error",e)})},i.speechRecognitionApi.stopStream=function(){window.streamReference&&(window.streamReference.getAudioTracks().forEach(function(e){e.stop()}),window.streamReference.getVideoTracks().forEach(function(e){e.stop()}),window.streamReference=null)},i.speechRecognitionApi.startRecordingVoice=function(){i.speechRecognitionApi.recorder?i.speechRecognitionApi.recorder.startRecording():console.log("Recorder not initialized")},i.speechRecognitionApi.onStop=function(){var e=new window.FileReader;e.onloadend=function(){var t=e.result.split(",")[1];null!=t&&t.length>0?i.speechRecognitionApi.recognizeSpeech(t):console.log("No audio data found ")},i.speechRecognitionApi.recorder.getBlob()instanceof Blob&&e.readAsDataURL(i.speechRecognitionApi.recorder.getBlob()),i.speechRecognitionApi.stopStream()},i.speechRecognitionApi.recognizeSpeech=function(e){n.store.dispatch((0,o.processAudioData)(e))};t.getChatBot=function(){return i}},5660:function(e,t,a){"use strict";(function(a,n){var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function i(e,t){if(!e)throw"First parameter is required.";t=new l(e,t=t||{type:"video"});var a=this;function n(a){a&&(t.initCallback=function(){a(),a=t.initCallback=null});var n=new s(e,t);(m=new n(e,t)).record(),d("recording"),t.disableLogs||console.log("Initialized recorderType:",m.constructor.name,"for output-type:",t.type)}function o(e){if(e=e||function(){},m){if("paused"===a.state)return a.resumeRecording(),void setTimeout(function(){o(e)},1);"recording"===a.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',a.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?m.stop(n):(m.stop(),n()),d("stopped")}else f();function n(n){if(m){Object.keys(m).forEach(function(e){"function"!=typeof m[e]&&(a[e]=m[e])});var o=m.blob;if(!o){if(!n)throw"Recording failed.";m.blob=o=n}if(o&&!t.disableLogs&&console.log(o.type,"->",E(o.size)),e){var r=h.createObjectURL(o);"function"==typeof e.call?e.call(a,r):e(r)}t.autoWriteToDisk&&c(function(e){var a={};a[t.type+"Blob"]=e,P.Store(a)})}else"function"==typeof e.call?e.call(a,""):e("")}}function r(e){postMessage((new FileReaderSync).readAsDataURL(e))}function c(e,a){if(!e)throw"Pass a callback function over getDataURL.";var n=a?a.blob:(m||{}).blob;if(!n)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout(function(){c(e,a)},1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var o=new FileReader;o.readAsDataURL(n),o.onload=function(t){e(t.target.result)}}else{var i=function(e){var t=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),a=new Worker(t);return h.revokeObjectURL(t),a}(r);i.onmessage=function(t){e(t.data)},i.postMessage(n)}}function u(e){e=e||0,"paused"!==a.state?"stopped"!==a.state&&(e>=a.recordingDuration?o(a.onRecordingStopped):(e+=1e3,setTimeout(function(){u(e)},1e3))):setTimeout(function(){u(e)},1e3)}function d(e){a&&(a.state=e,"function"==typeof a.onStateChanged.call?a.onStateChanged.call(a,e):a.onStateChanged(e))}var m,p='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function f(){!0!==t.disableLogs&&console.warn(p)}var g={startRecording:function(o){return o&&(t=new l(e,o)),t.disableLogs||console.log("started recording "+t.type+" stream."),m?(m.clearRecordedData(),m.record(),d("recording"),a.recordingDuration&&u(),a):(n(function(){a.recordingDuration&&u()}),a)},stopRecording:o,pauseRecording:function(){m?"recording"===a.state?(d("paused"),m.pause(),t.disableLogs||console.log("Paused recording.")):t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",a.state):f()},resumeRecording:function(){m?"paused"===a.state?(d("recording"),m.resume(),t.disableLogs||console.log("Resumed recording.")):t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",a.state):f()},initRecorder:n,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return a.recordingDuration=e,a.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){a.onRecordingStopped=e}}},clearRecordedData:function(){m?(m.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")):f()},getBlob:function(){if(m)return m.blob;f()},getDataURL:c,toURL:function(){if(m)return h.createObjectURL(m.blob);f()},getInternalRecorder:function(){return m},save:function(e){m?function(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var a=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var n=t.split(".");t=n[0],a=n[1]}var o=(t||Math.round(9999999999*Math.random())+888888888)+"."+a;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,o);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,o);var r=document.createElement("a");r.href=h.createObjectURL(e),r.download=o,r.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(r),"function"==typeof r.click?r.click():(r.target="_blank",r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0})));h.revokeObjectURL(r.href)}(m.blob,e):f()},getFromDisk:function(e){m?i.getFromDisk(t.type,e):f()},setAdvertisementArray:function(e){t.advertisement=[];for(var a=e.length,n=0;n<a;n++)t.advertisement.push({duration:n,image:e[n]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){m&&"function"==typeof m.clearRecordedData&&m.clearRecordedData(),m=null,d("inactive"),a.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return a.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},a.reset(),d("destroyed"),g=a=null,x.AudioContextConstructor&&(x.AudioContextConstructor.close(),x.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.warn("RecordRTC is destroyed.")},version:"5.4.8"};if(!this)return a=g,g;for(var v in g)this[v]=g[v];return a=this,g}
/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */
function l(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===A||t.recorderType===I?t.type="video":t.recorderType===R?t.type="gif":t.recorderType===k?t.type="audio":t.recorderType===N&&(e.getAudioTracks().length&&e.getVideoTracks().length?t.type="video":e.getAudioTracks().length&&!e.getVideoTracks().length?t.type="audio":!e.getAudioTracks().length&&e.getVideoTracks().length&&(t.type="audio"))),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}
/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function s(e,t){var a;return(b||g||v)&&(a=k),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!b&&(a=N),"video"===t.type&&(b||v)&&(a=A),"gif"===t.type&&(a=R),"canvas"===t.type&&(a=I),T()&&a!==I&&a!==R&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(e.getVideoTracks&&e.getVideoTracks().length||e.getAudioTracks&&e.getAudioTracks().length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(a=N):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(a=N)),e instanceof Array&&e.length&&(a=_),t.recorderType&&(a=t.recorderType),!t.disableLogs&&a&&a.name&&console.log("Using recorderType:",a.name||a.constructor.name),a}
/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function c(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,a=this.mediaType,n=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof a.audio&&T()&&e.getAudioTracks&&!e.getAudioTracks().length&&(a.audio=!1),"function"!=typeof a.video&&T()&&e.getVideoTracks&&!e.getVideoTracks().length&&(a.video=!1),"function"!=typeof a.gif&&T()&&e.getVideoTracks&&!e.getVideoTracks().length&&(a.gif=!1),!a.audio&&!a.video&&!a.gif)throw"MediaStream must have either audio or video tracks.";if(a.audio&&(t=null,"function"==typeof a.audio&&(t=a.audio),this.audioRecorder=new i(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:n.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),a.video||this.audioRecorder.startRecording()),a.video){t=null,"function"==typeof a.video&&(t=a.video);var o=e;if(T()&&a.audio&&"function"==typeof a.audio){var r=e.getVideoTracks()[0];navigator.mozGetUserMedia?((o=new C).addTrack(r),t&&t===A&&(t=N)):o=new C([r])}this.videoRecorder=new i(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:n.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),a.audio||this.videoRecorder.startRecording()}if(a.audio&&a.video){var l=this;T()?(l.audioRecorder=null,l.videoRecorder.startRecording()):l.videoRecorder.initRecorder(function(){l.audioRecorder.initRecorder(function(){l.videoRecorder.startRecording(),l.audioRecorder.startRecording()})})}a.gif&&(t=null,"function"==typeof a.gif&&(t=a.gif),this.gifRecorder=new i(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:n.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(t){e(t,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(t){e(t,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(t){e(t,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var a=function(e){var t,a=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(a);if(void 0!==h)t=h;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(a),n}(function(e){postMessage((new FileReaderSync).readAsDataURL(e))});a.onmessage=function(e){t(e.data)},a.postMessage(e)}else{var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t(e.target.result)}}}this.getBlob(function(a){a.audio&&a.video?t(a.audio,function(n){t(a.video,function(t){e({audio:n,video:t})})}):a.audio?t(a.audio,function(t){e({audio:t})}):a.video&&t(a.video,function(t){e({video:t})})})},this.writeToDisk=function(){i.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}i.version="5.4.8",e.exports=i,void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o),i.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),P.Fetch(function(a,n){"all"!==e&&n===e+"Blob"&&t&&t(a),"all"===e&&t&&t(a,n.replace("Blob",""))})},i.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL(function(t){e.video.getDataURL(function(a){e.gif.getDataURL(function(e){P.Store({audioBlob:t,videoBlob:a,gifBlob:e})})})}):e.audio&&e.video?e.audio.getDataURL(function(t){e.video.getDataURL(function(e){P.Store({audioBlob:t,videoBlob:e})})}):e.audio&&e.gif?e.audio.getDataURL(function(t){e.gif.getDataURL(function(e){P.Store({audioBlob:t,gifBlob:e})})}):e.video&&e.gif?e.video.getDataURL(function(t){e.gif.getDataURL(function(e){P.Store({videoBlob:t,gifBlob:e})})}):e.audio?e.audio.getDataURL(function(e){P.Store({audioBlob:e})}):e.video?e.video.getDataURL(function(e){P.Store({videoBlob:e})}):e.gif&&e.gif.getDataURL(function(e){P.Store({gifBlob:e})})},c.getFromDisk=i.getFromDisk,c.writeToDisk=i.writeToDisk,i.MRecordRTC=c;var u;(u=void 0!==a?a:null)&&"undefined"==typeof window&&void 0!==a&&(a.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},a.console||(a.console={}),void 0!==a.console.log&&void 0!==a.console.error||(a.console.error=a.console.log=a.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(u.document={},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""}};return e},u.HTMLVideoElement=function(){}),"undefined"==typeof location&&(u.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(u.screen={width:0,height:0}),void 0===h&&(u.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),u.window=a);var d=window.requestAnimationFrame;if(void 0===d)if("undefined"!=typeof webkitRequestAnimationFrame)d=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)d=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)d=msRequestAnimationFrame;else if(void 0===d){var m=0;d=function(e,t){var a=(new Date).getTime(),n=Math.max(0,16-(a-m)),o=setTimeout(function(){e(a+n)},n);return m=a+n,o}}var p=window.cancelAnimationFrame;void 0===p&&("undefined"!=typeof webkitCancelAnimationFrame?p=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?p=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?p=msCancelAnimationFrame:void 0===p&&(p=function(e){clearTimeout(e)}));var f=window.AudioContext;void 0===f&&("undefined"!=typeof webkitAudioContext&&(f=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(f=mozAudioContext));var h=window.URL;void 0===h&&"undefined"!=typeof webkitURL&&(h=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var g=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),v=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),y=navigator.userAgent.toLowerCase().indexOf("safari/")>-1,b=!v&&!g&&!!navigator.webkitGetUserMedia||S()||y,C=window.MediaStream;function E(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function S(){return"undefined"!=typeof window&&"object"===r(window.process)&&"renderer"===window.process.type||(!(void 0===n||"object"!==r(n.versions)||!n.versions.electron)||"object"===("undefined"==typeof navigator?"undefined":r(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function w(e,t,a){if("createObjectURL"in h&&!a)try{t.src=h.createObjectURL(e)}catch(a){return void w(e,t,!0)}else"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:alert("createObjectURL/srcObject both are not supported.")}
/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */void 0===C&&"undefined"!=typeof webkitMediaStream&&(C=webkitMediaStream),void 0!==C&&("getVideoTracks"in C.prototype||(C.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks().forEach(function(t){-1!==t.kind.toString().indexOf("video")&&e.push(t)}),e},C.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks().forEach(function(t){-1!==t.kind.toString().indexOf("audio")&&e.push(t)}),e}),void 0===C.prototype.stop&&(C.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})}));var x={};function T(){var e=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t=!!window.chrome&&!e||S();if(void 0!==window.InstallTrigger)return!0;navigator.appVersion;var a,n,o=navigator.userAgent,r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);return(t||e)&&(a=o.indexOf("Chrome"),r=o.substring(a+7)),-1!==(n=r.indexOf(";"))&&(r=r.substring(0,n)),-1!==(n=r.indexOf(" "))&&(r=r.substring(0,n)),i=parseInt(""+r,10),isNaN(i)&&(r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10)),i>=49}
/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function N(e,t){var a=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not supports Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(t=t||{mimeType:"video/webm"}).type){var n;if(e.getVideoTracks().length&&e.getAudioTracks().length)navigator.mozGetUserMedia?(n=new C).addTrack(e.getAudioTracks()[0]):n=new C(e.getAudioTracks()),e=n;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=b?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var o,r=[];function i(){a.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(a.timestamps[a.timestamps.length-1],a.timestamps)}function l(e){return o&&o.mimeType?o.mimeType:e.mimeType||"video/webm"}function s(){r=[],o=null,a.timestamps=[]}this.getArrayOfBlobs=function(){return r},this.record=function(){a.blob=null,a.clearRecordedData(),a.timestamps=[],c=[],r=[];var n=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",n),o&&(o=null),b&&!T()&&(n="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&n.mimeType&&(MediaRecorder.isTypeSupported(n.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType),n.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{o=new MediaRecorder(e,n),t.mimeType=n.mimeType}catch(t){o=new MediaRecorder(e)}n.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in o&&!1===o.canRecordMimeType(n.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType)),o.ondataavailable=function(e){if(e.data&&c.push("ondataavailable: "+E(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||a.blob?a.recordingCallback&&(a.recordingCallback(new Blob([],{type:l(n)})),a.recordingCallback=null):(a.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:l(n)}),a.recordingCallback&&(a.recordingCallback(a.blob),a.recordingCallback=null));else if(e.data&&e.data.size&&e.data.size>100&&(r.push(e.data),i(),"function"==typeof t.ondataavailable)){var o=t.getNativeBlob?e.data:new Blob([e.data],{type:l(n)});t.ondataavailable(o)}},o.onstart=function(){c.push("started")},o.onpause=function(){c.push("paused")},o.onresume=function(){c.push("resumed")},o.onstop=function(){c.push("stopped")},o.onerror=function(e){e&&(e.name||(e.name="UnknownError"),c.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",n.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!a.manuallyStopped&&o&&"inactive"===o.state)return delete t.timeslice,void o.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==o.state&&"stopped"!==o.state&&o.stop())},"number"==typeof t.timeSlice?(i(),o.start(t.timeSlice)):o.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},a.manuallyStopped=!0,o&&(this.recordingCallback=e,"recording"===o.state&&o.stop(),"number"==typeof t.timeSlice&&setTimeout(function(){a.blob=new Blob(r,{type:l(t)}),a.recordingCallback(a.blob)},100))},this.pause=function(){o&&"recording"===o.state&&o.pause()},this.resume=function(){o&&"paused"===o.state&&o.resume()},this.clearRecordedData=function(){o&&"recording"===o.state&&a.stop(s),s()},this.getInternalRecorder=function(){return o},this.blob=null,this.getState=function(){return o&&o.state||"inactive"};var c=[];this.getAllStates=function(){return c},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);a=this;!function n(){if(o&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void a.stop()):void setTimeout(n,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}
/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */
function k(e,t){if(!e.getAudioTracks().length)throw"Your stream has no audio tracks.";var a,n=this,o=[],r=[],i=!1,l=0,s=2,c=(t=t||{}).desiredSampRate;function u(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function d(e,t){function a(e,t){var a,n=e.numberOfAudioChannels,o=e.leftBuffers.slice(0),r=e.rightBuffers.slice(0),i=e.sampleRate,l=e.internalInterleavedLength,s=e.desiredSampRate;function c(e,t,a){var n=Math.round(e.length*(t/a)),o=[],r=Number((e.length-1)/(n-1));o[0]=e[0];for(var i=1;i<n-1;i++){var l=i*r,s=Number(Math.floor(l)).toFixed(),c=Number(Math.ceil(l)).toFixed(),d=l-s;o[i]=u(e[s],e[c],d)}return o[n-1]=e[e.length-1],o}function u(e,t,a){return e+(t-e)*a}function d(e,t){for(var a=new Float64Array(t),n=0,o=e.length,r=0;r<o;r++){var i=e[r];a.set(i,n),n+=i.length}return a}function m(e,t,a){for(var n=a.length,o=0;o<n;o++)e.setUint8(t+o,a.charCodeAt(o))}2===n&&(o=d(o,l),r=d(r,l),s&&(o=c(o,s,i),r=c(r,s,i))),1===n&&(o=d(o,l),s&&(o=c(o,s,i))),s&&(i=s),2===n&&(a=function(e,t){for(var a=e.length+t.length,n=new Float64Array(a),o=0,r=0;r<a;)n[r++]=e[o],n[r++]=t[o],o++;return n}(o,r)),1===n&&(a=o);var p=a.length,f=new ArrayBuffer(44+2*p),h=new DataView(f);m(h,0,"RIFF"),h.setUint32(4,44+2*p,!0),m(h,8,"WAVE"),m(h,12,"fmt "),h.setUint32(16,16,!0),h.setUint16(20,1,!0),h.setUint16(22,n,!0),h.setUint32(24,i,!0),h.setUint32(28,2*i,!0),h.setUint16(32,2*n,!0),h.setUint16(34,16,!0),m(h,36,"data"),h.setUint32(40,2*p,!0);for(var g=p,v=44,y=0;y<g;y++)h.setInt16(v,32767*a[y],!0),v+=2;if(t)return t({buffer:f,view:h});postMessage({buffer:f,view:h})}if(g||v||y||e.noWorker)a(e,function(e){t(e.buffer,e.view)});else{var n,o,r,i=(n=a,o=h.createObjectURL(new Blob([n.toString(),";this.onmessage =  function (e) {"+n.name+"(e.data);}"],{type:"application/javascript"})),(r=new Worker(o)).workerURL=o,r);i.onmessage=function(e){t(e.data.buffer,e.data.view),h.revokeObjectURL(i.workerURL),i.terminate()},i.postMessage(e)}}!0===t.leftChannel&&(s=1),1===t.numberOfAudioChannels&&(s=1),(!s||s<1)&&(s=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: ",s),void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===u())throw"Please make sure MediaStream is active.";S(),T=E=!1,i=!0,void 0!==t.timeSlice&&k()},this.stop=function(e){e=e||function(){},i=!1,d({desiredSampRate:c,sampleRate:C,numberOfAudioChannels:s,internalInterleavedLength:l,leftBuffers:o,rightBuffers:1===s?[]:r},function(t,a){n.blob=new Blob([a],{type:"audio/wav"}),n.buffer=new ArrayBuffer(a.buffer.byteLength),n.view=a,n.sampleRate=c||C,n.bufferSize=b,n.length=l,T=!1,e&&e(n.blob)})},x.AudioContextConstructor||(x.AudioContextConstructor=new x.AudioContext);var m=x.AudioContextConstructor,p=m.createMediaStreamSource(e),f=[0,256,512,1024,2048,4096,8192,16384],b=void 0===t.bufferSize?4096:t.bufferSize;if(-1===f.indexOf(b)&&(t.disableLogs||console.warn("Legal values for buffer-size are "+JSON.stringify(f,null,"\t"))),m.createJavaScriptNode)a=m.createJavaScriptNode(b,s,s);else{if(!m.createScriptProcessor)throw"WebAudio API has no support on this browser.";a=m.createScriptProcessor(b,s,s)}p.connect(a),t.bufferSize||(b=a.bufferSize);var C=void 0!==t.sampleRate?t.sampleRate:m.sampleRate||44100;(C<22050||C>96e3)&&(t.disableLogs||console.warn("sample-rate must be under range 22050 and 96000.")),t.disableLogs||(console.log("sample-rate",C),console.log("buffer-size",b),t.desiredSampRate&&console.log("Desired sample-rate",t.desiredSampRate));var E=!1;function S(){o=[],r=[],l=0,T=!1,i=!1,E=!1,m=null,n.leftchannel=o,n.rightchannel=r,n.numberOfAudioChannels=s,n.desiredSampRate=c,n.sampleRate=C,n.recordingLength=l,N={left:[],right:[],recordingLength:0}}function w(){a&&(a.onaudioprocess=null,a.disconnect(),a=null),p&&(p.disconnect(),p=null),S()}this.pause=function(){E=!0},this.resume=function(){if(!1===u())throw"Please make sure MediaStream is active.";if(!i)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();E=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,i&&this.stop(w),w()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var T=!1;a.onaudioprocess=function(e){if(!E)if(!1===u()&&(t.disableLogs||console.log("MediaStream seems stopped."),a.disconnect(),i=!1),i){T||(T=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var c=e.inputBuffer.getChannelData(0),d=new Float32Array(c);if(o.push(d),2===s){var m=e.inputBuffer.getChannelData(1),f=new Float32Array(m);r.push(f)}l+=b,n.recordingLength=l,void 0!==t.timeSlice&&(N.recordingLength+=b,N.left.push(d),2===s&&N.right.push(f))}else p&&(p.disconnect(),p=null)},a.connect(m.destination),this.leftchannel=o,this.rightchannel=r,this.numberOfAudioChannels=s,this.desiredSampRate=c,this.sampleRate=C,n.recordingLength=l;var N={left:[],right:[],recordingLength:0};function k(){i&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(N.left.length?(d({desiredSampRate:c,sampleRate:C,numberOfAudioChannels:s,internalInterleavedLength:N.recordingLength,leftBuffers:N.left,rightBuffers:1===s?[]:N.right},function(e,a){var n=new Blob([a],{type:"audio/wav"});t.ondataavailable(n),setTimeout(k,t.timeSlice)}),N={left:[],right:[],recordingLength:0}):setTimeout(k,t.timeSlice))}}
/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */
function I(e,t){if("undefined"==typeof html2canvas)throw"Please link: https://cdn.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var a=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){e in document.createElement("canvas")&&(a=!0)});var n,o,r,i=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),l=50,s=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(i&&s&&s[2]&&(l=parseInt(s[2],10)),i&&l<52&&(a=!1),t.useWhammyRecorder&&(a=!1),a)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)n=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";n=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(r=!0,a&&!t.useWhammyRecorder){var e;"captureStream"in n?e=n.captureStream(25):"mozCaptureStream"in n?e=n.mozCaptureStream(25):"webkitCaptureStream"in n&&(e=n.webkitCaptureStream(25));try{var i=new C;i.addTrack(e.getVideoTracks()[0]),e=i}catch(e){}if(!e)throw"captureStream API are NOT available.";(o=new N(e,{mimeType:"video/webm"})).record()}else p.frames=[],m=(new Date).getTime(),d();t.initCallback&&t.initCallback()},this.getWebPImages=function(a){if("canvas"===e.nodeName.toLowerCase()){var n=p.frames.length;p.frames.forEach(function(e,a){var o=n-a;t.disableLogs||console.log(o+"/"+n+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(o,n);var r=e.image.toDataURL("image/webp",1);p.frames[a].image=r}),t.disableLogs||console.log("Generating WebM"),a()}else a()},this.stop=function(e){r=!1;var n=this;a&&o?o.stop(e):this.getWebPImages(function(){p.compile(function(a){t.disableLogs||console.log("Recording finished!"),n.blob=a,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob),p.frames=[]})})};var c=!1;function u(){p.frames=[],r=!1,c=!1}function d(){if(c)return m=(new Date).getTime(),setTimeout(d,500);if("canvas"===e.nodeName.toLowerCase()){var a=(new Date).getTime()-m;return m=(new Date).getTime(),p.frames.push({image:(n=document.createElement("canvas"),o=n.getContext("2d"),n.width=e.width,n.height=e.height,o.drawImage(e,0,0),n),duration:a}),void(r&&setTimeout(d,t.frameInterval))}var n,o;html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var a=(new Date).getTime()-m;if(!a)return setTimeout(d,t.frameInterval);m=(new Date).getTime(),p.frames.push({image:e.toDataURL("image/webp",1),duration:a}),r&&setTimeout(d,t.frameInterval)}})}this.pause=function(){c=!0,o instanceof N&&o.pause()},this.resume=function(){c=!1,o instanceof N?o.resume():r||this.record()},this.clearRecordedData=function(){r&&this.stop(u),u()},this.name="CanvasRecorder",this.toString=function(){return this.name};var m=(new Date).getTime(),p=new O.Video(100)}
/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */
function A(e,t){function a(e){e=void 0!==e?e:10;var t=(new Date).getTime()-s;return t?r?(s=(new Date).getTime(),setTimeout(a,100)):(s=(new Date).getTime(),l.paused&&l.play(),d.drawImage(l,0,0,u.width,u.height),c.frames.push({duration:t,image:u.toDataURL("image/webp")}),void(o||setTimeout(a,e,e))):setTimeout(a,e,e)}function n(e,t,a,n,o){var r=document.createElement("canvas");r.width=u.width,r.height=u.height;var i,l,s,c=r.getContext("2d"),d=[],m=-1===t,p=t&&t>0&&t<=e.length?t:e.length,f=0,h=0,g=0,v=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),y=a&&a>=0&&a<=1?a:0,b=n&&n>=0&&n<=1?n:0,C=!1;l=-1,s=(i={length:p,functionToLoop:function(t,a){var n,o,r,i=function(){!C&&r-n<=r*b||(m&&(C=!0),d.push(e[a])),t()};if(C)i();else{var l=new Image;l.onload=function(){c.drawImage(l,0,0,u.width,u.height);var e=c.getImageData(0,0,u.width,u.height);n=0,o=e.data.length,r=e.data.length/4;for(var t=0;t<o;t+=4){var a={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(a.r-f,2)+Math.pow(a.g-h,2)+Math.pow(a.b-g,2))<=v*y&&n++}i()},l.src=e[a].image}},callback:function(){(d=d.concat(e.slice(p))).length<=0&&d.push(e[e.length-1]),o(d)}}).length,function e(){++l!==s?setTimeout(function(){i.functionToLoop(e,l)},1):i.callback()}()}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),u.width=t.canvas.width||320,u.height=t.canvas.height||240,d=u.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(l=t.video.cloneNode(),t.initCallback&&t.initCallback()):(l=document.createElement("video"),w(e,l),l.onloadedmetadata=function(){t.initCallback&&t.initCallback()},l.width=t.video.width,l.height=t.video.height),l.muted=!0,l.play(),s=(new Date).getTime(),c=new O.Video,t.disableLogs||(console.log("canvas resolutions",u.width,"*",u.height),console.log("video width/height",l.width||u.width,"*",l.height||u.height)),a(t.frameInterval)};var o=!1;this.stop=function(e){e=e||function(){},o=!0;var a=this;setTimeout(function(){n(c.frames,-1,null,null,function(n){c.frames=n,t.advertisement&&t.advertisement.length&&(c.frames=t.advertisement.concat(c.frames)),c.compile(function(t){a.blob=t,a.blob.forEach&&(a.blob=new Blob([],{type:"video/webm"})),e&&e(a.blob)})})},10)};var r=!1;function i(){c.frames=[],o=!0,r=!1}this.pause=function(){r=!0},this.resume=function(){r=!1,o&&this.record()},this.clearRecordedData=function(){o||this.stop(i),i()},this.name="WhammyRecorder",this.toString=function(){return this.name};var l,s,c,u=document.createElement("canvas"),d=u.getContext("2d")}void 0!==f?x.AudioContext=f:"undefined"!=typeof webkitAudioContext&&(x.AudioContext=webkitAudioContext),i.Storage=x,i.MediaStreamRecorder=N,i.StereoAudioRecorder=k,i.CanvasRecorder=I,i.WhammyRecorder=A;
/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */
var O=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,a){return[{data:e,id:231}].concat(a.map(function(e){var a=function(e){var t=0;e.keyframe&&(t|=128);e.invisible&&(t|=8);e.lacing&&(t|=e.lacing<<1);e.discardable&&(t|=1);if(e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:a,id:163}}))}function a(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function n(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var a=0;a<e.length;a+=8)t.push(parseInt(e.substr(a,8),2));return new Uint8Array(t)}function o(e,t){return parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2)}var i=new function(e){var o=function(e){if(e[0]){for(var t=e[0].width,a=e[0].height,n=e[0].duration,o=1;o<e.length;o++)n+=e[o].duration;return{duration:n,width:t,height:a}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}(e);if(!o)return[];for(var i,l=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(i=o.duration,[].slice.call(new Uint8Array(new Float64Array([i]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:o.width,id:176},{data:o.height,id:186}]}]}]}]}],s=0,c=0;s<e.length;){var u=[],d=0;do{u.push(e[s]),d+=e[s].duration,s++}while(s<e.length&&d<3e4);var m={id:524531317,data:t(c,0,u)};l[1].data.push(m),c+=d}return function e(t){for(var o=[],i=0;i<t.length;i++){var l=t[i].data;"object"===(void 0===l?"undefined":r(l))&&(l=e(l)),"number"==typeof l&&(l=n(l.toString(2))),"string"==typeof l&&(l=new Uint8Array(l.split("").map(function(e){return e.charCodeAt(0)})));var s=l.size||l.byteLength||l.length,c=Math.ceil(Math.ceil(Math.log(s)/Math.log(2))/8),u=s.toString(2),d=new Array(7*c+7+1-u.length).join("0")+u,m=new Array(c).join("0")+"1"+d;o.push(a(t[i].id)),o.push(n(m)),o.push(l)}return new Blob(o,{type:"video/webm"})}(l)}(e.map(function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],a=t.indexOf("*"),n=0,o=[];n<4;n++)o[n]=t.charCodeAt(a+3+n);return{width:16383&(o[1]<<8|o[0]),height:16383&(o[3]<<8|o[2]),data:t,riff:e}}(function e(t){for(var a=0,n={};a<t.length;){var r=t.substr(a,4),i=o(t,a),l=t.substr(a+4+4,i);a+=8+i,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(e(l)):n[r].push(l)}return n}(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(i)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var a,n,o,r=(a=t,n=h.createObjectURL(new Blob([a.toString(),"this.onmessage =  function (e) {"+a.name+"(e.data);}"],{type:"application/javascript"})),o=new Worker(n),h.revokeObjectURL(n),o);r.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},r.postMessage(this.frames)},{Video:e}}();i.Whammy=O;
/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */
var P={init:function(){var e=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var t,a=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),n=indexedDB.open(a,1);n.onerror=e.onError,n.onsuccess=function(){((t=n.result).onerror=e.onError,t.setVersion)?1!==t.version?t.setVersion(1).onsuccess=function(){o(t),r()}:r():r()},n.onupgradeneeded=function(e){o(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function o(t){t.createObjectStore(e.dataStoreName)}function r(){var a=t.transaction([e.dataStoreName],"readwrite");function n(t){a.objectStore(e.dataStoreName).get(t).onsuccess=function(a){e.callback&&e.callback(a.target.result,t)}}e.videoBlob&&a.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&a.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&a.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),n("audioBlob"),n("videoBlob"),n("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};
/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */
function R(e,t){if("undefined"==typeof GIFEncoder){var a=document.createElement("script");a.src="https://cdn.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(a)}t=t||{};var n=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&s?(n||(t.width||(t.width=c.offsetWidth||320),t.height||(t.height=c.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),i.width=t.canvas.width||320,i.height=t.canvas.height||240,c.width=t.video.width||320,c.height=t.video.height||240),(m=new GIFEncoder).setRepeat(0),m.setDelay(t.frameRate||200),m.setQuality(t.quality||10),m.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),f=d(function e(a){if(!0!==h.clearedRecordedData){if(o)return setTimeout(function(){e(a)},100);f=d(e),void 0===(void 0===u?"undefined":r(u))&&(u=a),a-u<90||(!n&&c.paused&&c.play(),n||l.drawImage(c,0,0,i.width,i.height),t.onGifPreview&&t.onGifPreview(i.toDataURL("image/png")),m.addFrame(l),u=a)}}),t.initCallback&&t.initCallback()):setTimeout(h.record,1e3)},this.stop=function(e){e=e||function(){},f&&p(f),Date.now(),this.blob=new Blob([new Uint8Array(m.stream().bin)],{type:"image/gif"}),e(this.blob),m.stream().bin=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){h.clearedRecordedData=!0,m&&(m.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var i=document.createElement("canvas"),l=i.getContext("2d");n&&(e instanceof CanvasRenderingContext2D?i=(l=e).canvas:e instanceof HTMLCanvasElement&&(l=e.getContext("2d"),i=e));var s=!0;if(!n){var c=document.createElement("video");c.muted=!0,c.autoplay=!0,s=!1,c.onloadedmetadata=function(){s=!0},w(e,c),c.play()}var u,m,f=null,h=this}function D(e){var t=[],a=!1,n=document.createElement("canvas"),o=n.getContext("2d");n.style="opacity:0;position:absolute;z-index:-1;top: -100000000;left:-1000000000; margin-top:-1000000000;margin-left:-1000000000;",(document.body||document.documentElement).appendChild(n),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var r=this,i=window.AudioContext;void 0===i&&("undefined"!=typeof webkitAudioContext&&(i=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(i=mozAudioContext));var l=window.URL;void 0===l&&"undefined"!=typeof webkitURL&&(l=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var s=window.MediaStream;void 0===s&&"undefined"!=typeof webkitMediaStream&&(s=webkitMediaStream),void 0!==s&&("getVideoTracks"in s.prototype||(s.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("video")&&e.push(t)}),e},s.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("audio")&&e.push(t)}),e}),void 0===s.prototype.stop&&(s.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})}));var c={};function u(){if(!a){var e=t.length,o=!1,i=[];if(t.forEach(function(e){e.stream||(e.stream={}),e.stream.fullcanvas?o=e:i.push(e)}),o)n.width=o.stream.width,n.height=o.stream.height;else if(i.length){n.width=e>1?2*i[0].width:i[0].width;var l=1;3!==e&&4!==e||(l=2),5!==e&&6!==e||(l=3),7!==e&&8!==e||(l=4),9!==e&&10!==e||(l=5),n.height=i[0].height*l}else n.width=r.width||360,n.height=r.height||240;o&&o instanceof HTMLVideoElement&&d(o),i.forEach(function(e,t){d(e,t)}),setTimeout(u,r.frameInterval)}}function d(e,t){if(!a){var n=0,r=0,i=e.width,l=e.height;1===t&&(n=e.width),2===t&&(r=e.height),3===t&&(n=e.width,r=e.height),4===t&&(r=2*e.height),5===t&&(n=e.width,r=2*e.height),6===t&&(r=3*e.height),7===t&&(n=e.width,r=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(r=e.stream.top),void 0!==e.stream.width&&(i=e.stream.width),void 0!==e.stream.height&&(l=e.stream.height),o.drawImage(e,n,r,i,l),"function"==typeof e.stream.onRender&&e.stream.onRender(o,n,r,i,l,t)}}function m(e){var t=document.createElement("video");return function e(t,a,n){if("createObjectURL"in l&&!n)try{a.src=l.createObjectURL(t)}catch(n){return void e(t,a,!0)}else"srcObject"in a?a.srcObject=t:"mozSrcObject"in a?a.mozSrcObject=t:alert("createObjectURL/srcObject both are not supported.")}(e,t),t.muted=!0,t.volume=0,t.width=e.width||r.width||360,t.height=e.height||r.height||240,t.play(),t}function p(a){t=[],(a=a||e).forEach(function(e){if(e.getVideoTracks().length){var a=m(e);a.stream=e,t.push(a)}})}void 0!==i?c.AudioContext=i:"undefined"!=typeof webkitAudioContext&&(c.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){u()},this.appendStreams=function(a){if(!a)throw"First parameter is required.";a instanceof Array||(a=[a]),e.concat(a),a.forEach(function(e){if(e.getVideoTracks().length){var a=m(e);a.stream=e,t.push(a)}if(e.getAudioTracks().length&&r.audioContext){var n=r.audioContext.createMediaStreamSource(e);n.connect(r.audioDestination),r.audioSources.push(n)}})},this.releaseStreams=function(){t=[],a=!0,r.gainNode&&(r.gainNode.disconnect(),r.gainNode=null),r.audioSources.length&&(r.audioSources.forEach(function(e){e.disconnect()}),r.audioSources=[]),r.audioDestination&&(r.audioDestination.disconnect(),r.audioDestination=null),r.audioContext&&r.audioContext.close(),r.audioContext=null,o.clearRect(0,0,n.width,n.height),n.stream&&(n.stream.stop(),n.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),p(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){a=!1;var t=function(){var e;p(),"captureStream"in n?e=n.captureStream():"mozCaptureStream"in n?e=n.mozCaptureStream():r.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new s;return e.getVideoTracks().forEach(function(e){t.addTrack(e)}),n.stream=t,t}(),o=function(){c.AudioContextConstructor||(c.AudioContextConstructor=new c.AudioContext),r.audioContext=c.AudioContextConstructor,r.audioSources=[],!0===r.useGainNode&&(r.gainNode=r.audioContext.createGain(),r.gainNode.connect(r.audioContext.destination),r.gainNode.gain.value=0);var t=0;if(e.forEach(function(e){if(e.getAudioTracks().length){t++;var a=r.audioContext.createMediaStreamSource(e);!0===r.useGainNode&&a.connect(r.gainNode),r.audioSources.push(a)}}),t)return r.audioDestination=r.audioContext.createMediaStreamDestination(),r.audioSources.forEach(function(e){e.connect(r.audioDestination)}),r.audioDestination.stream}();return o&&o.getAudioTracks().forEach(function(e){t.addTrack(e)}),e.forEach(function(e){e.fullcanvas}),t}}
/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function _(e,t){e=e||[];var a,n,o=this;(t=t||{mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){var o;a=new D(e),(o=[],e.forEach(function(e){e.getVideoTracks().forEach(function(e){o.push(e)})}),o).length&&(a.frameInterval=t.frameInterval||10,a.width=t.video.width||360,a.height=t.video.height||240,a.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(a.getMixedStream()),(n=new N(a.getMixedStream(),t)).record()},this.stop=function(e){n&&n.stop(function(t){o.blob=t,e(t),o.clearRecordedData()})},this.pause=function(){n&&n.pause()},this.resume=function(){n&&n.resume()},this.clearRecordedData=function(){n&&(n.clearRecordedData(),n=null),a&&(a.releaseStreams(),a=null)},this.addStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),e.concat(t),n&&a&&a.appendStreams(t)},this.resetVideoStreams=function(e){a&&(!e||e instanceof Array||(e=[e]),a.resetVideoStreams(e))},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}i.DiskStorage=P,i.GifRecorder=R,i.MultiStreamRecorder=_,i.RecordRTCPromisesHandler=
/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 * @author {@link http://www.MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */
function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var a=this;a.recordRTC=new i(e,t),this.startRecording=function(){return new Promise(function(e,t){try{a.recordRTC.startRecording(),e()}catch(e){t(e)}})},this.stopRecording=function(){return new Promise(function(e,t){try{a.recordRTC.stopRecording(function(t){a.blob=a.recordRTC.getBlob(),e(t)})}catch(e){t(e)}})},this.getDataURL=function(e){return new Promise(function(e,t){try{a.recordRTC.getDataURL(function(t){e(t)})}catch(e){t(e)}})},this.getBlob=function(){return a.recordRTC.getBlob()},this.blob=null}}).call(this,a(81),a(196))},5661:function(e,t,a){"use strict";var n,o,r,i,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return function(e,t,a){function n(a,i){if(!t[a]){if(!e[a]){if(!i&&("function"==typeof r&&r))return r(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(t){var o=e[a][1][t];return n(o||t)},l,l.exports)}return t[a].exports}for(var o="function"==typeof r&&r,i=0;i<a.length;i++)n(a[i]);return n}({1:[function(e,t,a){var n,o=e("wildemitter");"undefined"!=typeof window&&(n=window.AudioContext||window.webkitAudioContext);var r=null;t.exports=function(e,t){var a=new o;if(!n)return a;var i,l,s,c=(t=t||{}).smoothing||.1,u=t.interval||50,d=t.threshold,m=t.play,p=t.history||10,f=!0;r=t.audioContext||r||new n,(s=r.createAnalyser()).fftSize=512,s.smoothingTimeConstant=c,l=new Float32Array(s.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(i=r.createMediaElementSource(e),void 0===m&&(m=!0),d=d||-50):(i=r.createMediaStreamSource(e),d=d||-50),i.connect(s),m&&s.connect(r.destination),a.speaking=!1,a.suspend=function(){return r.suspend()},a.resume=function(){return r.resume()},Object.defineProperty(a,"state",{get:function(){return r.state}}),r.onstatechange=function(){a.emit("state_change",r.state)},a.setThreshold=function(e){d=e},a.setInterval=function(e){u=e},a.stop=function(){f=!1,a.emit("volume_change",-100,d),a.speaking&&(a.speaking=!1,a.emit("stopped_speaking")),s.disconnect(),i.disconnect()},a.speakingHistory=[];for(var h=0;h<p;h++)a.speakingHistory.push(0);return function e(){setTimeout(function(){if(f){var t=function(e,t){var a=-1/0;e.getFloatFrequencyData(t);for(var n=4,o=t.length;n<o;n++)t[n]>a&&t[n]<0&&(a=t[n]);return a}(s,l);a.emit("volume_change",t,d);var n=0;if(t>d&&!a.speaking){for(var o=a.speakingHistory.length-3;o<a.speakingHistory.length;o++)n+=a.speakingHistory[o];n>=2&&(a.speaking=!0,a.emit("speaking"))}else if(t<d&&a.speaking){for(o=0;o<a.speakingHistory.length;o++)n+=a.speakingHistory[o];0==n&&(a.speaking=!1,a.emit("stopped_speaking"))}a.speakingHistory.shift(),a.speakingHistory.push(0+(t>d)),e()}},u)}(),a}},{wildemitter:2}],2:[function(e,t,a){function n(){}t.exports=n,n.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,a){this.callbacks=this.callbacks||{};var n=3===arguments.length,o=n?arguments[1]:void 0,r=n?arguments[2]:arguments[1];return r._groupName=o,(this.callbacks[e]=this.callbacks[e]||[]).push(r),this},t.once=function(e,t,a){var n=this,o=3===arguments.length,r=o?arguments[1]:void 0,i=o?arguments[2]:arguments[1];return this.on(e,r,function t(){n.off(e,t),i.apply(this,arguments)}),this},t.releaseGroup=function(e){var t,a,n,o;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(a=0,n=(o=this.callbacks[t]).length;a<n;a++)o[a]._groupName===e&&(o.splice(a,1),a--,n--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var a,n=this.callbacks[e];return n?1===arguments.length?(delete this.callbacks[e],this):(a=n.indexOf(t),n.splice(a,1),0===n.length&&delete this.callbacks[e],this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,a,n,o=[].slice.call(arguments,1),r=this.callbacks[e],i=this.getWildcardCallbacks(e);if(r)for(t=0,a=(n=r.slice()).length;t<a&&n[t];++t)n[t].apply(this,o);if(i)for(a=i.length,t=0,a=(n=i.slice()).length;t<a&&n[t];++t)n[t].apply(this,[e].concat(o));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,a,n=[];for(t in this.callbacks)a=t.split("*"),("*"===t||2===a.length&&e.slice(0,a[0].length)===a[0])&&(n=n.concat(this.callbacks[t]));return n}},n.mixin(n)},{}]},{},[1])(1)},"function"==typeof bootstrap?bootstrap("hark",i):"object"==l(t)?e.exports=i():void 0===(o="function"==typeof(n=i)?n.call(t,a,t,e):n)||(e.exports=o)},5662:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=r(a(5663));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){e.type,e.color;return n.default.createElement(o.default,{type:"bubbles",color:"white",height:20,width:30})}},5664:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchForRecordRTCStartEvents=g,t.watchForRecordRTCStopEvents=y,t.watchForPauseDetection=C,t.watchForAudioStream=S;var n=a(75),o=a(46),r=a(147),i=a(44),l=regeneratorRuntime.mark(h),s=regeneratorRuntime.mark(g),c=regeneratorRuntime.mark(v),u=regeneratorRuntime.mark(y),d=regeneratorRuntime.mark(b),m=regeneratorRuntime.mark(C),p=regeneratorRuntime.mark(E),f=regeneratorRuntime.mark(S);function h(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.call)(r.startRecording);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error occured on while starting recording using Record RTC");case 8:case"end":return e.stop()}},l,this,[[0,5]])}function g(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.RECORDRTC.START,h);case 2:case"end":return e.stop()}},s,this)}function v(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.call)(r.stopRecording);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error occured on while stopping recording using Record RTC & Hark");case 8:case"end":return e.stop()}},c,this,[[0,5]])}function y(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.RECORDRTC.STOP,v);case 2:case"end":return e.stop()}},u,this)}function b(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.put)((0,i.stopRecording)());case 3:return e.next=5,(0,n.put)((0,i.stopAnimation)(r.getStopRecordingAnimation));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error occured on while stopping recording using Record RTC & Hark");case 10:case"end":return e.stop()}},d,this,[[0,7]])}function C(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.RECORDRTC.PAUSE,b);case 2:case"end":return e.stop()}},m,this)}function E(e){var t,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,n.put)((0,i.requestingApiCall)());case 3:return o.next=5,(0,n.call)(r.makeApiCall,"url",(0,r.getUserApiInputObj)(e.audioData));case 5:return t=o.sent,o.next=8,(0,n.put)(i.apiSuccess,t.data);case 8:return o.next=10,(0,n.put)((0,i.requestingApiCall)());case 10:return o.next=12,(0,n.call)(r.makeApiCall,"url",(0,r.getNLPApiInputObj)(t.data.text));case 12:return a=o.sent,o.next=15,(0,n.put)(i.apiSuccess,a.data);case 15:o.next=21;break;case 17:return o.prev=17,o.t0=o.catch(0),o.next=21,(0,n.put)(i.apiFailure);case 21:case"end":return o.stop()}},p,this,[[0,17]])}function S(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.RECORDRTC.PROCESS_AUDIO,E);case 2:case"end":return e.stop()}},f,this)}},5665:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchForPlayAudioEvent=p,t.watchForStopAudioEvent=h,t.watchForAudioEndedEvent=v;var n=a(75),o=a(46),r=a(147);a(44);var i=regeneratorRuntime.mark(m),l=regeneratorRuntime.mark(p),s=regeneratorRuntime.mark(f),c=regeneratorRuntime.mark(h),u=regeneratorRuntime.mark(g),d=regeneratorRuntime.mark(v);function m(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.call)(r.play,e.apiResponse);case 2:case"end":return t.stop()}},i,this)}function p(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.AUDIO.PLAY,m);case 2:case"end":return e.stop()}},l,this)}function f(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.call)(constructChatObjForApiResponse,e.apiResponse);case 2:case"end":return t.stop()}},s,this)}function h(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.AUDIO.STOP,f);case 2:case"end":return e.stop()}},c,this)}function g(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.call)(r.onAudioEnded);case 2:case"end":return e.stop()}},u,this)}function v(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.AUDIO.ENDED,g);case 2:case"end":return e.stop()}},d,this)}},5666:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchForApiResponse=C,t.watchForCallPrepNavigation=S,t.watchForInCallNavigation=x,t.watchForPaymentHistory=N,t.watchForCommHistory=I,t.watchForButtonClickMultipleEntity=O;var n=a(75),o=a(46),r=a(147),i=a(44),l=regeneratorRuntime.mark(b),s=regeneratorRuntime.mark(C),c=regeneratorRuntime.mark(E),u=regeneratorRuntime.mark(S),d=regeneratorRuntime.mark(w),m=regeneratorRuntime.mark(x),p=regeneratorRuntime.mark(T),f=regeneratorRuntime.mark(N),h=regeneratorRuntime.mark(k),g=regeneratorRuntime.mark(I),v=regeneratorRuntime.mark(A),y=regeneratorRuntime.mark(O);function b(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.call)(r.constructChatObjForApiResponse,e.apiResponse);case 2:case"end":return t.stop()}},l,this)}function C(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.CALLFREEDA.API_SUCCESS,b);case 2:case"end":return e.stop()}},s,this)}function E(e){var t,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t={callPrep:!0,inCall:!1,paymentHist:!1,commHist:!1},a={callPrepData:{customerId:e.customerId},inCallData:null},o.next=4,(0,n.put)(a(a));case 4:return o.next=6,(0,n.put)((0,i.redirect)(t));case 6:return o.next=8,(0,n.put)((0,i.redirect)(r.redirectionObjReset));case 8:return o.next=10,(0,n.put)(a(r.redirectionDataReset));case 10:case"end":return o.stop()}},c,this)}function S(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SIDE_EFFECTS.CALLPREP,E);case 2:case"end":return e.stop()}},u,this)}function w(e){var t,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t={callPrep:!1,inCall:!0,paymentHist:!1,commHist:!1},a={callPrepData:null,inCallData:{contactIndex:e.contactIndex,customer:e.customer,invoices:e.invoices,bucketNames:e.bucketNames,nextCustomerUrl:e.nextCustomerUrl,toCallCustomers:e.toCallCustomers,calledToNumber:e.calledToNumber,communication:e.communication}},o.next=4,(0,n.put)(a(a));case 4:return o.next=6,(0,n.put)((0,i.redirect)(t));case 6:return o.next=8,(0,n.put)((0,i.redirect)(r.redirectionObjReset));case 8:return o.next=10,(0,n.put)(a(r.redirectionDataReset));case 10:case"end":return o.stop()}},d,this)}function x(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SIDE_EFFECTS.INCALL,w);case 2:case"end":return e.stop()}},m,this)}function T(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={callPrep:!1,inCall:!1,paymentHist:!0,commHist:!1},t.next=3,(0,n.call)(r.handleCallPrepPopUp,!0,"PAYMENT_HISTORY");case 3:return t.next=5,(0,n.put)((0,i.redirect)(e));case 5:case"end":return t.stop()}},p,this)}function N(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SIDE_EFFECTS.PAYMENT_HIST,T);case 2:case"end":return e.stop()}},f,this)}function k(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={callPrep:!1,inCall:!1,paymentHist:!1,commHist:!0},t.next=3,(0,n.call)(r.handleCallPrepPopUp,!0,"COMM_HISTORY");case 3:return t.next=5,(0,n.put)((0,i.redirect)(e));case 5:case"end":return t.stop()}},h,this)}function I(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SIDE_EFFECTS.COMM_HIST,k);case 2:case"end":return e.stop()}},g,this)}function A(e){var t;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("Customer:Analysis"!==(t=e.buttonData.intentName)){a.next=6;break}return a.next=4,(0,n.put)((0,i.callPrepNav)());case 4:a.next=14;break;case 6:if("Payments_History"!==t){a.next=11;break}return a.next=9,(0,n.put)((0,i.callPrepNav)(redirectionObj));case 9:a.next=14;break;case 11:if("Communication_History"!==t){a.next=14;break}return a.next=14,(0,n.put)((0,i.callPrepNav)(redirectionObj));case 14:case"end":return a.stop()}},v,this)}function O(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.takeLatest)(o.SIDE_EFFECTS.BUTTON_CLICK,A);case 2:case"end":return e.stop()}},y,this)}},5667:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchForMinimizeChatWindow=d,t.watchForCloseChatWindow=p;var n=a(46),o=a(75),r=a(44),i=regeneratorRuntime.mark(u),l=regeneratorRuntime.mark(d),s=regeneratorRuntime.mark(m),c=regeneratorRuntime.mark(p);function u(){var e,t;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e={open:!1},t={open:!0},a.next=4,(0,o.put)((0,r.openChatWindow)(e));case 4:return a.next=6,(0,o.put)((0,r.openChatHead)(t));case 6:case"end":return a.stop()}},i,this)}function d(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(n.CHATWINDOW.MIN,u);case 2:case"end":return e.stop()}},l,this)}function m(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={open:!1},t.next=3,(0,o.put)((0,r.openChatWindow)(e));case 3:case"end":return t.stop()}},s,this)}function p(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(n.CHATWINDOW.CLOSE,m);case 2:case"end":return e.stop()}},c,this)}},5668:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchForMaxChatHead=d,t.watchForCloseChatHead=p;var n=a(46),o=a(75),r=a(44),i=regeneratorRuntime.mark(u),l=regeneratorRuntime.mark(d),s=regeneratorRuntime.mark(m),c=regeneratorRuntime.mark(p);function u(){var e,t;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e={open:!0},t={open:!1},a.next=4,(0,o.put)((0,r.openChatHead)(t));case 4:return a.next=6,(0,o.put)((0,r.openChatWindow)(e));case 6:case"end":return a.stop()}},i,this)}function d(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(n.CHATHEAD.MAX,u);case 2:case"end":return e.stop()}},l,this)}function m(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={open:!1},t.next=3,(0,o.put)((0,r.openChatHead)(e));case 3:case"end":return t.stop()}},s,this)}function p(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(n.CHATHEAD.CLOSE,m);case 2:case"end":return e.stop()}},c,this)}},5669:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveNewContact=i;var n=a(75),o=a(5670),r=regeneratorRuntime.mark(i);function i(e){var t,a=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.call)(o.contactService.addNewContact,a);case 3:return t=e.sent,e.next=6,(0,n.put)({type:"POST_CONTACT_SUCCESS",payload:t});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,(0,n.put)({type:"POST_CONTACT_FAILURE"});case 12:case"end":return e.stop()}},r,this,[[0,8]])}},5670:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contactService=void 0;var n=r(a(38)),o=r(a(39));a(82);function r(e){return e&&e.__esModule?e:{default:e}}t.contactService={addNewContact:function(e){return n.default.post(o.default.apiUrl+"/customer/"+e.customerId+"/contact",e,{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(e){return e.data}).catch(function(e){throw e})}}},5675:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toggleSipConnectionStatus=function(e){return{type:"TOGGLE_SIP_CONNECTION",data:e}}},5683:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doCallEndThings=t.isBusy=t.startTranscription=t.stopRingbackTone=t.startRingbackTone=t.stopRingTone=t.startRingTone=t.generateUID=t.generatePhraseHints=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(35),r=c(a(39)),i=a(71),l=(c(a(38)),a(47)),s=a(5475);function c(e){return e&&e.__esModule?e:{default:e}}var u=document.getElementById("ringtone"),d=void 0,m=(t.generatePhraseHints=function(e){var t=n(e,4),a=t[0],o=t[1],r=t[2],i=t[3];if(!e||!a||!r)return"";var l=[a.firstName+" "+a.lastName,a.accountName,a.firstName,a.lastName,r.customerName,o[0]?o[0].customerName:""];if(i){console.log(i);for(var s=!1,c=0;c<i.length&&!s;c++)for(var u=0;u<i[c].length;u++){var d=i[c][u];if(l.push(d.documentNumber.toString()),494===l.length){s=!0;break}}}var m=JSON.stringify(l);return console.log("Final Phrases",m),m},t.generateUID=function(e){if(!e)return"";var t=new Date,a=m(t),n="OUT-"+e.toString().substring(1)+"-"+a;return console.log("UID",n),n},function(e){if(!(0,o.isDate)(e))return"";var t=p(e.getUTCDate()),a=p(e.getUTCMonth()),n=e.getUTCFullYear(),r=p(e.getUTCSeconds()),i=p(e.getUTCMinutes());return""+t+a+n+"-"+p(e.getUTCHours())+":"+i+":"+r}),p=function(e){return e?Number(e)<10?"0"+e:e:""},f=(t.startRingTone=function(){try{u.crossOrigin="anonymous",ringtone.play()}catch(e){}},t.stopRingTone=function(){try{ringtone.pause()}catch(e){}},t.startRingbackTone=function(){try{ringbacktone.play()}catch(e){}},t.stopRingbackTone=function(){try{ringbacktone.pause()}catch(e){}},t.startTranscription=function(e){console.log("STARTING TRANSCRIPTION"),(d=new EventSource(""+r.default.streamUrl+e)).addEventListener("/events?"+e,function(e){if(e&&e.data){var t=e.data.trim();if(t.includes("END_OF_TRANSCRIPTION")){console.log("Ending"),console.log("closed"),d.close();var a=t.split("END_OF_TRANSCRIPTION");console.log(a);var n=a[0]?a[0].trim():"";if(a.length>1&&a[1]){var o=a[1].trim(),r="{}"===o?"[]":JSON.parse(o);console.log("Summary Received",r),i.store.dispatch((0,l.changeSummary)({summary:r})),i.store.dispatch((0,l.changeTranscription)({transcription:"{}"===n?"":n}))}else i.store.dispatch((0,l.changeSummary)({summary:"[]"})),i.store.dispatch((0,l.changeTranscription)({transcription:"{}"===n?"":n}))}else i.store.dispatch((0,l.changeTranscription)({transcription:"{}"===t?"":t}))}})},t.isBusy=function(e){return 486==e||603==e||600==e||503==e});t.doCallEndThings=function(e,t){console.log("making api call");var a=i.store.getState().callLogState,n=i.store.getState().customers,o={};null===a.contactId?o=null:o.id=a.contactId;var r={id:0,callingNumber:a.calledToNumber.split("").reverse().slice(0,10).reverse().join(""),contact:o,customerId:n.customers[n.customerNumber].id,startTime:a.startDateTime,endTime:new Date,uniqueId:t,status:e.getSipResponseCode()};s.callService.addCallLog(r),i.store.dispatch((0,l.changeTranscription)({transcription:""})),f(e.getSipResponseCode())?(console.log("User is busy","************"),i.store.dispatch((0,l.changeCallState)({calling:!1,status:"User Busy"}))):e.getSipResponseCode()>=400&&!f(iSipResponseCode)||i.store.dispatch((0,l.changeCallState)({calling:!1,status:"Call Ended"}))}},5684:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changePersonalDetailsFailure=t.changePersonalDetailsSuccess=void 0;var n=a(126);t.changePersonalDetailsSuccess=function(e){return{type:n.CHANGE_PERSONAL_DETAILS_SUCCESS,data:e}},t.changePersonalDetailsFailure=function(e){return{type:n.CHANGE_PERSONAL_DETAILS_FAILURE,data:e}}},5688:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profileService=void 0;var n=i(a(38)),o=i(a(39)),r=a(82);function i(e){return e&&e.__esModule?e:{default:e}}t.profileService={getProfile:function(){return n.default.get(o.default.apiUrl+"/profile").then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})}}},5689:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=p(o),i=(p(a(32)),a(30)),l=a(266),s=a(44),c=a(56),u=p(a(5701)),d=p(a(45)),m=p(a(197));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onBtnClick=function(){a.props.fredaBtnClicked(),a.setState({showParent:!0})},a.state={showParent:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this.props.initSpeechRecog()}},{key:"render",value:function(){var e=this.props,t=e.chatWindow,a=e.callPrepNav,n=e.inCallNav,o=e.redirectionData;return console.log("chatWindowSlider.slideIn::::"+t.open),r.default.createElement("div",null,r.default.createElement(d.default,{disabled:!0},r.default.createElement(m.default,{style:{width:"7.3vw",height:"4.44444444444vh"},gif:null,still:"/tovo/static/Orange-logo-PNG.png"})),this.state.showParent?r.default.createElement(u.default,null):null,a?r.default.createElement(c.Redirect,{to:{pathname:"/callprep/"+o.customerId,state:{}}}):null,n?r.default.createElement(c.Redirect,{to:{pathname:"/in-call",state:{contactIndex:o.contactIndex,customer:o.customer,invoices:o.invoices,bucketNames:o.bucketNames,nextCustomerUrl:o.nextCustomerUrl,toCallCustomers:o.toCallCustomers,calledToNumber:o.calledToNumber,communication:o.communication}}}):null)}}]),t}();t.default=(0,i.connect)(function(e){return{chatWindow:e.freedaRootReducer.chatWindow,chatHead:e.freedaRootReducer.chatHead,openChatHeadReq:e.freedaRootReducer.openChatHeadReq,callPrepNav:e.freedaRootReducer.redirect.callPrep,inCallNav:e.freedaRootReducer.redirect.inCall,redirectionData:e.freedaRootReducer.redirectionData}},function(e){return{initSpeechRecog:function(){return e((0,l.initSpeechRecog)())},fredaBtnClicked:function(){return e((0,s.handlefredaBtnClick)())}}})(f)},5701:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=d(o),i=a(27),l=a(30),s=d(a(5858)),c=d(a(5864)),u=a(56);function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.chatWindow,a=e.chatHead;return r.default.createElement("div",null,t.open?r.default.createElement(s.default,null):null,a.open?r.default.createElement(c.default,null):null)}}]),t}();t.default=(0,u.withRouter)((0,l.connect)(function(e){return{chatWindow:e.freedaRootReducer.chatWindow,chatHead:e.freedaRootReducer.chatHead}})((0,i.withStyles)(function(e){return{}},{withTheme:!0})(m)))},5858:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=g(o),i=g(a(106)),l=g(a(213)),s=g(a(33)),c=g(a(206)),u=g(a(41)),d=a(27),m=a(30),p=g(a(96)),f=a(44),h=(g(a(5859)),g(a(5533)));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleMinimize=function(){a.setState({show:!a.state.show}),a.props.minChatWindow()},a.handleClose=function(){a.setState({show:!a.state.show}),a.props.closeChatWindow()},a.state={show:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this.setState({show:!0})}},{key:"componentWillUnmount",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.default.createElement(h.default,{right:!0,when:this.state.show},r.default.createElement("div",{style:{position:"fixed",width:"24.7916666667vw",height:"63.5vh",right:0,backgroundColor:"#2F4352",border:"1px solid coral",boxShadow:"-3px -3px 6px rgba(0, 0, 0, .20)"}},r.default.createElement(i.default,{raised:!1},r.default.createElement(l.default,{className:t.cardHeader,action:r.default.createElement("div",null,r.default.createElement(p.default,{title:"Minimize"},r.default.createElement(s.default,{onClick:function(){return e.handleMinimize()},style:{color:"white",opacity:.75}},r.default.createElement(c.default,null))),r.default.createElement(p.default,{title:"Close"},r.default.createElement(s.default,{onClick:function(){return e.handleClose()},style:{color:"white",opacity:.75}},r.default.createElement(u.default,null)))),title:r.default.createElement(d.Typography,{variant:"h6",style:{color:"white",opacity:.65,marginLeft:-5}},"FREEDA")}),r.default.createElement("div",{style:{backgroundColor:"#2F4352"}}))))}}]),t}();t.default=(0,m.connect)(null,function(e){return{minChatWindow:function(){return e((0,f.minChatWindow)())},closeChatWindow:function(){return e((0,f.closeChatWindow)())}}})((0,d.withStyles)(function(){return{chatWindowRoot:{backgroundColor:"#39495E"},root:{width:"100%",backgroundColor:"#2F4352"},inline:{display:"inline"},card:{maxWidth:400},cardHeader:{backgroundColor:"#2F4352"}}})(v))},5859:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=u(o),i=a(13),l=u(a(5860)),s=a(30),c=u(a(5863));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.generateChatBoxes=function(e,t){return r.default.createElement(l.default,{key:t,icon:e.icon,content:e.content,gif:e.gif,status:e.status,choices:nextApiDataList})},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props.chatObjs;return r.default.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",height:"86.4vh"}},r.default.createElement(c.default,{forceScroll:!0},e.map(this.generateChatBoxes)))}}]),t}();t.default=(0,s.connect)(function(e){return{chatObjs:e.freedaRootReducer.chatMessages.chatObjs}})((0,i.withStyles)(function(){return{chatIcon:{height:"4.44444444444vh",width:"2.5vw"}}})(d))},5860:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=p(o),i=a(13),l=p(a(95)),s=a(27),c=p(a(32)),u=a(44),d=a(30),m=p(a(5861));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.selectedCustomer=function(e){a.props.handleMultipleEntityButtonClick(e)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){console.log("In chatbox for")}},{key:"render",value:function(){var e=this,t=this.props,a=t.icon,n=t.classes;return r.default.createElement(l.default,{in:!0},r.default.createElement("div",{className:n.chatBubble+" "+("User"===a?n.rightBubble:"")},this.props.gif,r.default.createElement("div",null,r.default.createElement(m.default,null,r.default.createElement("div",{className:n.chatTextLeft+" "+("User"===a?n.chatTextRight:"")},this.props.content)),r.default.createElement("div",null,this.props.choices?this.props.choices.map(function(t,a){return r.default.createElement("div",{style:{marginTop:5}},r.default.createElement(c.default,{style:{height:"4.0741vh",width:"21.5396vw",backgroundColor:"#58687E",color:"white",marginLeft:-30},key:a,variant:"contained",color:"primary",onClick:function(){return e.selectedCustomer(t)}},r.default.createElement("div",{style:{display:"flex",flex:1,flexDirection:"row",alignItems:"center"}},r.default.createElement("div",{style:{position:"absolute",width:"15vw",left:5}},r.default.createElement(s.Typography,{variant:"span",noWrap:!0,align:"left"},t.buttonText)),r.default.createElement("div",{style:{color:"white",opacity:.5,position:"absolute",right:5}},t.customerId))))}):null))))}}]),t}();t.default=(0,d.connect)(null,function(e){return{handleMultipleEntityButtonClick:function(t){return e((0,u.handleMultipleEntityButtonClick)(t))}}})((0,i.withStyles)(function(e){return{chatBubble:{display:"flex",alignItems:"flex-start",padding:"4px",borderRadius:"4px",minWidth:"5rem",maxWidth:"25rem",minHeight:"1rem",marginBottom:"4px",marginLeft:12,marginRight:8,marginTop:5},rightBubble:{alignSelf:"flex-end",flexDirection:"row-reverse",marginRight:8,margintTop:5},chatTextLeft:{fontSize:"1rem",marginLeft:5,marginTop:5,color:"white",textAlign:"left"},chatTextRight:{marginRight:5,marginTop:5,color:"white",fontSize:"1rem",opacity:.85,textAlign:"right"}}},{withTheme:!0})(f))},5864:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=f(o),i=a(27),l=f(a(41)),s=f(a(33)),c=f(a(32)),u=f(a(96)),d=a(30),m=a(44),p=f(a(5533));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleMaximize=function(){a.setState({show:!a.state.show}),a.props.maxChatHead()},a.handleClose=function(){a.setState({show:!a.state.show}),a.props.closeChatHead()},a.state={show:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this.setState({show:!0})}},{key:"componentWillUnmount",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.default.createElement(p.default,{bottom:!0,when:this.state.show,style:{position:"fixed",right:0,bottom:0,width:"24.7916vw",height:"4.4814vh",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",backgroundColor:theme.palette.secondary.main}},r.default.createElement("div",{className:t.chatHead},r.default.createElement(u.default,{title:"Maximize"},r.default.createElement(c.default,{className:t.chatHeadTab,onClick:function(){return e.handleMaximize()}},r.default.createElement(i.Typography,{variant:"h6",color:theme.palette.text.primary,style:{position:"absolute",left:10,color:"white"}},"FREEDA"))),r.default.createElement(u.default,{title:"Close"},r.default.createElement(s.default,{className:t.maxBtn,onClick:function(){return e.handleClose()}},r.default.createElement(l.default,null)))))}}]),t}();t.default=(0,d.connect)(null,function(e){return{maxChatHead:function(){return e((0,m.maxChatHead)())},closeChatHead:function(){return e((0,m.closeChatHead)())}}})((0,i.withStyles)(function(){return{chatHead:{position:"fixed",right:0,bottom:0,width:"24.7916vw",height:"4.4814vh",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",backgroundColor:theme.palette.secondary.main},chatHeadTab:{position:"absolute",left:0,width:"300px",height:"50px",backgroundColor:theme.palette.secondary.main,"&:hover":{backgroundColor:theme.palette.secondary.main}},closeBtn:{position:"absolute",right:40,color:theme.palette.text.primary},maxBtn:{position:"absolute",right:5,color:theme.palette.text.primary}}})(h))},5865:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=(n=r)&&n.__esModule?n:{default:n},l=a(13),s=a(5866),c=a(27),u=a(35),d=a(104);var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleRetryPopClose=function(e,t){clearInterval(a.reconnectInterval),"clickaway"!==t&&a.setState({open:!1,currentReconnectIndex:0})},a.handleRetry=function(){a.reconnectInterval&&clearInterval(a.reconnectInterval),a.setState({showRetryButton:!1}),a.reconnectInterval=setInterval(function(){var e=(a.state.currentReconnectIndex+1)%4;a.setState({currentReconnectIndex:e,reconnecting:"Reconnecting "+(0,u.getRepeatedCharacters)(e,".")})},500),setTimeout(function(){(0,d.restartStack)()},2e3)},a.state={showRetryButton:!a.props.sipState.connected,reconnecting:"Reconnecting",currentReconnectIndex:0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({showRetryButton:!e.sipState.connected})}},{key:"render",value:function(){var e=this.props.classes;return i.default.createElement(c.Snackbar,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!this.props.sipState.connected,onClose:this.handleRetryPopClose},i.default.createElement(c.SnackbarContent,{className:e.retryPopup,"aria-describedby":"client-snackbar",classes:{message:e.snackbarMessage,root:e.snackBarContentRoot},message:i.default.createElement(c.Grid,{container:!0,alignItems:"center"},i.default.createElement(c.Grid,{item:!0,id:"client-snackbar",className:e.retryMessage,xs:7,align:"left"},(0,s.errorIcon)(e),i.default.createElement("span",{style:{fontSize:"0.8rem"}},"Lost Connection. "," ")),i.default.createElement(c.Grid,{item:!0,xs:5,align:this.state.showRetryButton?"right":"left"},this.state.showRetryButton&&i.default.createElement(c.Button,{classes:{root:e.retryButton},size:"small",onClick:this.handleRetry,disableRipple:!0,disableTouchRipple:!0},i.default.createElement("span",{style:{fontSize:"0.8rem",paddingRight:"1rem",textDecoration:"underline",textTransform:"initial"}}," ","Retry"," ")),!this.state.showRetryButton&&i.default.createElement("div",{className:e.connectingMessage},this.state.reconnecting)))}))}}]),t}();m.defaultProps={sipState:{connected:!1}},t.default=(0,l.withStyles)(function(e){return{retryPopup:{backgroundColor:e.palette.background.default,border:"1px solid #FF8888",borderRadius:"2rem",height:"2.1rem",width:"16.75rem",marginTop:"1.56rem",marginLeft:"3.595rem",padding:0,boxShadow:"none"},retryButton:{color:"#FF8888","&:hover":{backgroundColor:"transparent","@media (hover: none)":{backgroundColor:"transparent"}}},retryMessage:{display:"flex",alignItems:"center",color:"#FF8888",fontSize:"0.8rem"},connectingMessage:{color:"#FF8888",fontSize:"0.8rem",paddingRight:"1rem"},snackbarMessage:{width:"100%",padding:"0 !important",display:"flex",height:"100%",alignItems:"center"},snackBarContentRoot:{minWidth:"calc(12.56vh + 12.56vw)"}}},{withTheme:!0})(m)},5866:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorIcon=void 0;var n,o=a(0),r=(n=o)&&n.__esModule?n:{default:n};var i={errorIcon:{color:"red",padding:"0.44rem",width:"1.6rem",height:"1.6rem"}};t.errorIcon=function(){return r.default.createElement("svg",{style:i.errorIcon,xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36"},r.default.createElement("defs",null,r.default.createElement("style",null,".a{fill: none;}.b{fill: #fff;}.c{fill: #f44;}")),r.default.createElement("g",{transform:"translate(-1513 -555)"},r.default.createElement("path",{class:"a",d:"M0,0H36V36H0Z",transform:"translate(1513 555)"}),r.default.createElement("circle",{class:"b",cx:"12",cy:"12",r:"12",transform:"translate(1519 561)"}),r.default.createElement("path",{class:"c",d:"M17,2A15,15,0,1,0,32,17,15.005,15.005,0,0,0,17,2Zm1.5,22.5h-3v-3h3Zm0-6h-3v-9h3Z",transform:"translate(1514 556)"})))}},5867:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=N(o),i=N(a(171)),l=a(13),s=N(a(24)),c=a(56),u=N(a(5868)),d=N(a(5870)),m=N(a(21)),p=N(a(207)),f=N(a(202)),h=N(a(203)),g=N(a(156)),v=N(a(93)),y=N(a(200)),b=N(a(135)),C=N(a(55)),E=N(a(136)),S=a(5535),w=N(a(28)),x=N(a(29)),T=N(a(6));N(a(5871));function N(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getCallWorkboardCard=function(e){return r.default.createElement(s.default,{className:e.leftCard,item:!0,xs:6},(!a.state.overview||0===a.state.overview.completedCallingMinutes&&0===a.state.overview.expectedCallingMinutes)&&r.default.createElement(i.default,{title:"Call Workboard",icon:r.default.createElement(y.default,{className:e.icon})},r.default.createElement("div",{className:(0,T.default)(e.noItem,e.noItemText,e.centerFlexBox)},r.default.createElement(v.default,{className:e.infoIcon}),"There are no calls to make today.")),a.state.overview.expectedCallingMinutes>0&&r.default.createElement(c.Link,{className:e.link,to:"/call-workboard"},r.default.createElement(i.default,{customCard:e.cardStyle,title:"Call Workboard",icon:r.default.createElement(y.default,{className:e.icon})},a.state.overview.completedCallingMinutes>0&&r.default.createElement(u.default,{data:a.state.overview}),0===a.state.overview.completedCallingMinutes&&0!==a.state.overview.expectedCallingMinutes&&r.default.createElement(d.default,{data:a.state.overview}))))},a.genCols=function(e,t){var n=Math.round(6);return console.log("Flex",n),n?r.default.createElement(s.default,{className:a.props.classes.col,item:!0,xs:n},"Hello MAMA"):null},a.state={loadingOverviewFailed:!1,loadingOverview:!0,overview:null},S.overviewService.getSummary().then(function(e){a.setState({loadingOverview:!1}),a.setState({loadingOverviewFailed:!1}),a.setState({overview:e})}).catch(function(e){a.setState({loadingOverview:!1}),a.setState({loadingOverviewFailed:!0})}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props.classes;return r.default.createElement("div",null,r.default.createElement("div",{className:e.appFrame},r.default.createElement(E.default,null),r.default.createElement(b.default,null),r.default.createElement("div",{className:e.root},r.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.default.createElement("div",{className:(0,T.default)(e.titleName,e.titleNameText)}," ","My Daily Workboard"," "),r.default.createElement("div",{className:e.rightGrid},r.default.createElement("img",{src:"/tovo/static/HRC-White-logo.svg",className:e.branding}),r.default.createElement("div",{className:e.headerBifurcator}))),r.default.createElement(s.default,{container:!0,xs:12},!this.state.loadingOverviewFailed&&this.state.overview&&this.getCallWorkboardCard(e),!this.state.loadingOverviewFailed&&void 0===this.state.overview&&r.default.createElement(s.default,{className:e.leftCard,item:!0,xs:6},r.default.createElement(i.default,{customCard:e.cardStyle,title:"Call Workboard",icon:r.default.createElement(y.default,{className:e.icon})},r.default.createElement("div",{className:(0,T.default)(e.loadingDiv,e.centerFlexBox)},r.default.createElement(C.default,{className:e.progress,size:50})))),this.state.loadingOverviewFailed&&r.default.createElement(s.default,{className:e.leftCard,item:!0,xs:6},r.default.createElement(i.default,{title:"Call Workboard",icon:r.default.createElement(y.default,{className:e.icon})},r.default.createElement("div",{className:(0,T.default)(e.loadingDiv,e.centerFlexBox),onClick:this.getOverviewResponse},r.default.createElement(p.default,{className:e.retryButton}),r.default.createElement(m.default,{className:e.retryMsg},"Something Went Wrong."),r.default.createElement(m.default,{className:e.retryMsg},"Please retry")))),r.default.createElement(s.default,{className:e.rightCard,item:!0,xs:6},r.default.createElement(i.default,{title:"Correspondence",icon:r.default.createElement(f.default,{className:e.icon})},r.default.createElement("div",{className:(0,T.default)(e.comingSoon,e.centerFlexBox)},"COMING SOON"))),r.default.createElement(s.default,{className:e.leftBottomCard,item:!0,xs:6},r.default.createElement(i.default,{title:"Pending Customer Queries",icon:r.default.createElement(h.default,{className:e.icon})},r.default.createElement("div",{className:(0,T.default)(e.comingSoon,e.centerFlexBox)},"COMING SOON"))),r.default.createElement(s.default,{item:!0,xs:6},r.default.createElement(i.default,{title:"Missed Voice Calls",icon:r.default.createElement(g.default,{className:e.icon})},r.default.createElement("div",{className:(0,T.default)(e.comingSoon,e.centerFlexBox)},"COMING SOON")))))))}}]),t}(),I=(0,w.default)(function(e){return{root:{padding:"0 1.041vw",backgroundImage:e.palette.background.main,fontFamily:e.typography.fontFamily,width:"100%"},cardStyle:{backgroundColor:e.palette.background.default,width:"100%",height:"43.47vh",paddingTop:"0",boxShadow:"0px 3px 6px rgba(0,0,0,.20)"},titleName:{paddingTop:"1.12vh",paddingBottom:"2.129vh"},link:{textDecoration:"none",color:"black"},appFrame:{display:"flex",flexDirection:"row"},icon:{width:"1.6rem",height:"1.6rem",marginRight:".4em",color:"white",zIndex:"1"},comingSoon:{height:"40vh",opacity:.2,fontWeight:500,color:e.palette.text.primary},noItem:{height:"15em"},infoIcon:{width:"1em",height:"1em",marginRight:".4em",zIndex:"1",color:e.palette.text.primary},freda:{width:"25%"},branding:{height:"4.4444vh",width:"10vw",paddingRight:"0.888rem",paddingTop:"1.38vh"},headerBifurcator:{borderLeft:"1px solid #395C73",height:"75%",marginTop:"auto",marginBottom:"auto",width:"1px"},loadingDiv:{flexDirection:"column",height:"100%"},retryButton:{color:"white",height:"2rem",width:"2rem",paddingBottom:"5%",cursor:"pointer"},retryMsg:{color:"white",fontFamily:"Roboto",fontSize:"1rem",cursor:"pointer"},legalMessage:{},rightGrid:{marginRight:"8.333vw"},leftCard:{paddingRight:"calc(0.66vh + 0.66vw)",paddingBottom:"calc(0.66vh + 0.66vw)"},leftBottomCard:{paddingRight:"calc(0.66vh + 0.66vw)"},rightCard:{paddingBottom:"calc(0.66vh + 0.66vw)"}}},x.default);t.default=(0,l.withStyles)(I,{withTheme:!0})(k)},5868:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=h(a(0)),r=h(a(6)),i=a(13),l=h(a(24)),s=h(a(5869)),c=a(48),u=h(a(149)),d=a(35),m=h(a(3)),p=h(a(28)),f=h(a(29));function h(e){return e&&e.__esModule?e:{default:e}}var g={data:m.default.object.isRequired},v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setChartConfig=function(){var e=a.props.theme;a.totalCalledData=[{name:"totalCalled",y:a.props.data.processedCustomerCount,color:e.palette.primary.main},{name:"total to be called",y:a.props.data.totalCustomerCount-a.props.data.processedCustomerCount,color:" #324C5F"}],a.pastDueData=[{name:"totalCalled",y:a.props.data.totalPastDueProcessed,color:e.palette.primary.main},{name:"total to be called",y:a.props.data.totalPastDueAmount-a.props.data.totalPastDueProcessed,color:" #324C5F"}]},a.setTimeStats=function(){var e=Math.floor(a.props.data.completedCallingMinutes);a.timeSpentHours=(0,d.getHoursFromMins)(e),a.timeSpentMinutes=(0,d.getDanglingMins)(e);var t=Math.floor(a.props.data.expectedCallingMinutes);a.setState({estimatedHours:(0,d.getHoursFromMins)(t)}),a.estimatedHours=(0,d.getHoursFromMins)(t),a.setState({estimatedMinutes:(0,d.getDanglingMins)(t)}),a.estimatedMinutes=(0,d.getDanglingMins)(t)},a.setTimeStats(),a.setChartConfig(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme;return console.log(a,"theme here bro"),o.default.createElement(l.default,{container:!0,className:t.parentGrid,alignItems:"center",justify:"center"},o.default.createElement(l.default,{item:!0,container:!0,spacing:8,className:t.containerGrid},o.default.createElement(l.default,{className:(0,r.default)(t.chartGrid),item:!0,xs:4,container:!0,justify:"center",alignItems:"center"},o.default.createElement(l.default,{item:!0,xs:12,align:"center",className:t.chart,container:!0,alignItems:"center"},o.default.createElement(l.default,{item:!0,align:"center",xs:12},o.default.createElement("div",{className:t.donutBackground},o.default.createElement(s.default,{theme:a,data:this.totalCalledData,holeSize:"85%",title:"",id:"doughnut",size:"100%",titleText:this.props.data.processedCustomerCount,subtitleText:"of "+this.props.data.totalCustomerCount})))),o.default.createElement(l.default,{item:!0,xs:12,align:"center",className:t.gridText},o.default.createElement("div",{className:t.text}," Total Customers Called "))),o.default.createElement(l.default,{className:(0,r.default)(t.chartGrid,t.borderGrid),container:!0,item:!0,xs:4,justify:"center",alignItems:"center"},o.default.createElement(l.default,{item:!0,xs:12,lg:12,md:12,sm:12,className:(0,r.default)(t.chart,t.marginZero),align:"center",justify:"center",alignItems:"center",container:!0},o.default.createElement(l.default,{item:!0,container:!0,xs:8,lg:8,md:9,sm:8,spacing:16,alignItems:"flex-start",justify:"center",className:t.innerChart},o.default.createElement(l.default,{item:!0,xs:3,style:{padding:"0px"}},o.default.createElement(u.default,{className:(0,r.default)(t.timeLogoImg,t.baseIconSize)})),o.default.createElement(l.default,{item:!0,container:!0,justify:"flex-start",xs:9,style:{padding:"0px"}},o.default.createElement(l.default,{item:!0,xs:12,lg:12,md:12,sm:12,className:t.calledHoursNum,align:"center"},o.default.createElement("div",{className:t.centerFlexBox},this.timeSpentHours>0&&o.default.createElement("div",{className:t.timeSpentHours},this.timeSpentHours,o.default.createElement("span",{className:t.subScript},"hr",this.timeSpentMinutes>0&&o.default.createElement("span",null," "))),(this.timeSpentMinutes>0||0===this.timeSpentTotal)&&o.default.createElement("div",{className:t.timeSpentHours},this.timeSpentMinutes,o.default.createElement("span",{className:t.subScript},"min")))),o.default.createElement(l.default,{item:!0,xs:12,lg:12,md:12,sm:12,align:"center",style:{marginTop:".3em"}},o.default.createElement("div",{className:t.calledHoursTotal},o.default.createElement("span",{className:t.estimatedHours},"of  "),this.estimatedHours>0&&o.default.createElement("span",{className:t.estimatedHours},this.estimatedHours,"hr",this.estimatedMinutes>0&&o.default.createElement("span",null," ")),(this.estimatedMinutes>0||0===this.estimatedTime)&&o.default.createElement("span",{className:t.estimatedHours},this.estimatedMinutes,"min"),o.default.createElement("span",{className:t.estimatedHours}," approx. ")))))),o.default.createElement(l.default,{item:!0,xs:12,align:"center",className:t.gridText},o.default.createElement("div",{className:t.text}," Time Spent on Call "))),o.default.createElement(l.default,{className:(0,r.default)(t.chartGrid),item:!0,xs:4,alignItems:"center",justify:"center",container:!0},o.default.createElement(l.default,{item:!0,xs:12,align:"center",className:t.chart,container:!0,justify:"center",alignItems:"center"},o.default.createElement(l.default,{item:!0,xs:12,align:"center"},o.default.createElement("div",{className:t.donutBackground},o.default.createElement(s.default,{theme:a,data:this.pastDueData,holeSize:0,title:"",id:"pie",size:"100%",titleText:"$"+(0,c.formatter)(this.props.data.totalPastDueProcessed),subtitleText:"of $"+(0,c.formatter)(this.props.data.totalPastDueAmount)})))),o.default.createElement(l.default,{item:!0,xs:12,align:"center",className:t.gridText},o.default.createElement("div",{className:t.text}," Total Past Due Touched ")))))}}]),t}();v.propTypes=g,v.defaultProps={data:{}};var y=(0,p.default)(function(e){return{borderGrid:{borderRight:"solid 1px  #395C73",borderLeft:"solid 1px  #395C73"},parentGrid:{height:"90%"},chartGrid:{width:"8.444444444444445em",height:"26.85vh",paddingBottom:"0px"},gridText:{color:e.palette.text.primary,fontSize:"0.88rem"},text:{width:"7.9vw",fontSize:"0.88rem",opacity:.6},chart:{height:"18vh",marginTop:"-2vh",marginBottom:"2vh"},marginZero:{margin:"0 !important"},calledHours:{color:"#CCCCCC",display:"flex",flexDirection:"row",marginLeft:"-1.5em",paddingLeft:"0px",textAlign:"center"},calledHoursNum:{fontSize:"1.5em",color:"#CCCCCC"},calledHoursTotal:{marginTop:"0px",opacity:.65,color:e.palette.text.primary,fontSize:"0.5em"},subScript:{fontSize:"0.8rem",position:"relative",marginBottom:"1.6666666666666667em",color:e.palette.text.primary},timeLogoImg:{color:e.palette.text.primary,paddingRight:"2px"},timeSpentHours:{color:"white",fontSize:"1.5rem",opacity:.65},estimatedHours:{color:"white",fontSize:".8rem"}}},f.default);t.default=(0,i.withStyles)(y,{withTheme:!0})(v)},5869:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=s(o),i=s(a(5534)),l=s(a(3));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.series=[{name:"Customer Data",data:a.props.data}],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"highChartsRender",value:function(){var e=this.props,t=e.chartType,a=e.enableCredits,n=e.enableToolTips,o=e.chartHeight,r=(e.backgroundColor,e.verticalAlignTitle),l=e.alignTitle,s=e.floatingTitle,c=e.titleText,u=e.subtitleText,d=(e.titleFontSize,e.titleColor),m=e.titleX,p=e.titleY,f=e.titleFontFamily,h=(e.subtitleFontSize,e.legendVisible),g=e.legendX,v=e.legendY,y=e.legendAlign,b=e.legendVerticalAlign,C=e.legendFontSize,E=e.legendSquareSymbol,S=e.enableDataLabels,w=e.dataLabelColor,x=e.dataLabelFontWeight,T=e.dataLabelFontFamily,N=e.holeSize,k=e.size,I=e.center;i.default.chart({credits:{enabled:a},chart:{type:t,renderTo:this.props.id,backgroundColor:"transparent",height:o,borderRadius:0},tooltip:{enabled:n},title:{verticalAlign:r,align:l,floating:s,text:c,widthAdjust:"50%",style:{fontSize:"1.5rem",color:d,fontFamily:f,opacity:.8},x:m,y:p},subtitle:{verticalAlign:r,align:l,floating:s,text:u,style:{fontSize:"0.8rem",color:d,fontFamily:f,paddingTop:"50px",marginTop:"2rem",opacity:.8},x:m,y:17},legend:{align:y,verticalAlign:b,x:g,y:v,fontSize:C,squareSymbol:E,itemStyle:{fontSize:"8px",color:"#CCCCCC"},itemHoverStyle:{fontSize:"8px",color:"#CCCCCC",cursor:"mouse"}},plotOptions:{pie:{dataLabels:{format:"{point.name}: {point.percentage:.1f} %",enabled:S,style:{color:w,fontWeight:x,fontFamily:T,shadow:!1}},borderWidth:0,showInLegend:h,size:k,center:I,innerSize:N}},series:this.series})}},{key:"componentDidMount",value:function(){this.highChartsRender()}},{key:"render",value:function(){return r.default.createElement("div",null,r.default.createElement("div",{id:this.props.id}),this.props.children)}}]),t}();c.defaultProps={chartType:"pie",enableCredits:!1,enableToolTips:!1,chartHeight:"80%",backgroundColor:"#273d49bf",verticalAlignTitle:"middle",alignTitle:"center",floatingTitle:!0,titleText:"",subtitleText:"",titleFontSize:"1.6em",titleColor:"#FFFFFF",titleX:0,titleY:-5,titleFontFamily:"Roboto",subtitleFontSize:"1.1em",legendVisible:!1,legendX:0,legendY:5,legendAlign:"center",legendVerticalAlign:"bottom",legendFontSize:"5px",legendSquareSymbol:!0,enableDataLabels:!1,dataLabelColor:"#CCCCCC",dataLabelFontWeight:"none",dataLabelFontFamily:"Roboto",holeSize:"0",size:"80%",center:["50%","50%"]},c.propTypes={chartType:l.default.string,enableCredits:l.default.bool,enableToolTips:l.default.bool,chartHeight:l.default.string,backgroundColor:l.default.string,verticalAlignTitle:l.default.string,alignTitle:l.default.string,floatingTitle:l.default.bool,titleText:l.default.string,subtitleText:l.default.string,titleFontSize:l.default.string,titleColor:l.default.string,titleX:l.default.string,titleY:l.default.number,titleFontFamily:l.default.string,subtitleFontSize:l.default.string,legendVisible:l.default.bool,legendX:l.default.number,legendY:l.default.number,legendAlign:l.default.string,legendVerticalAlign:l.default.string,legendFontSize:l.default.string,legendSquareSymbol:l.default.bool,enableDataLabels:l.default.bool,dataLabelColor:l.default.string,dataLabelFontWeight:l.default.string,dataLabelFontFamily:l.default.string,holeSize:l.default.string,size:l.default.string,center:l.default.array},t.default=c},5870:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=f(a(0)),r=f(a(6)),i=a(13),l=f(a(24)),s=a(48),c=f(a(149)),u=a(35),d=f(a(3)),m=f(a(28)),p=f(a(29));function f(e){return e&&e.__esModule?e:{default:e}}var h={data:d.default.object.isRequired},g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setTimeStats=function(){a.timeTotal=Math.floor(a.props.data.expectedCallingMinutes),a.hour=(0,u.getHoursFromMins)(a.props.data.expectedCallingMinutes),a.minute=(0,u.getDanglingMins)(a.props.data.expectedCallingMinutes)},a.state={hour:null,minute:null},a.setTimeStats(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props.classes;return o.default.createElement("div",null,o.default.createElement(l.default,{container:!0,spacing:0,className:e.containerGrid,align:"center"},o.default.createElement(l.default,{className:(0,r.default)(e.centerFlexBox,e.chartGrid,e.borderRight),item:!0,xs:4,alignItems:"center"},o.default.createElement("div",{className:e.innerCallingGridDiv},o.default.createElement("div",{className:e.calledHours},o.default.createElement(l.default,{container:!0,direction:"row",spacing:8},o.default.createElement(l.default,{item:!0},o.default.createElement("img",{className:(0,r.default)(e.logo,e.baseIconSize),src:"/tovo/static/baseline-call.svg"})),o.default.createElement(l.default,{item:!0},o.default.createElement("div",{className:e.calledHoursNum},this.props.data.totalCustomerCount))))),o.default.createElement("div",{className:e.gridText}," Total Calls to Make ")),o.default.createElement(l.default,{className:(0,r.default)(e.centerFlexBox,e.chartGrid,e.borderRight),item:!0,xs:4,justify:"center",align:"center"},o.default.createElement("div",{className:e.innerCallingGridDiv},o.default.createElement("div",{className:e.calledHours},o.default.createElement(l.default,{container:!0,spacing:8,direction:"row",justify:"center",alignItems:"center"},o.default.createElement(l.default,{item:!0},o.default.createElement(c.default,{className:(0,r.default)(e.logo,e.baseIconSize)})),o.default.createElement(l.default,{item:!0},o.default.createElement("div",{className:e.calledHoursNum},this.hour>0&&o.default.createElement("span",{style:{fontSize:"1.5rem"}},this.hour,o.default.createElement("span",{className:e.subScript},"hr")),(this.minute>0||0===this.timeTotal)&&o.default.createElement("span",{style:{fontSize:"1.5rem"}}," ",this.minute,o.default.createElement("span",{className:e.subScript},"min")," ")))))),o.default.createElement("div",{className:e.gridText}," Estimated Call Duration ")),o.default.createElement(l.default,{className:(0,r.default)(e.centerFlexBox,e.chartGrid),item:!0,xs:4,justify:"center",align:"center"},o.default.createElement("div",{className:e.innerCallingGridDiv},o.default.createElement("div",{className:e.calledHours},o.default.createElement(l.default,{container:!0,spacing:8,direction:"row",justify:"center",alignItems:"center"},o.default.createElement(l.default,{item:!0,align:"center"},o.default.createElement("img",{className:(0,r.default)(e.logo,e.baseIconSize),src:"/tovo/static/money.svg"})),o.default.createElement(l.default,{item:!0,align:"center"},o.default.createElement("div",{className:e.calledHoursNum},(0,s.formatter)(this.props.data.totalPastDueAmount)))))),o.default.createElement("div",{className:e.gridText}," Total Amount Past Due ($) "))))}}]),t}();g.propTypes=h,g.defaultProps={data:{}};var v=(0,m.default)(function(e){return{borderRight:{borderRight:"solid 1px #395C73"},containerGrid:{paddingTop:"2.4rem",height:"90%"},chartGrid:{width:"30%",height:"30vh",flexDirection:"column"},gridText:{color:e.palette.text.primary,fontSize:"0.8rem",width:"40%",textAlign:"center",verticalAlign:"middle",opacity:.65,fontFamily:e.typography.fontFamily},innerCallingGridDiv:{display:"flex",flexDirection:"column",height:"40%"},calledHours:{color:"#CCCCCC",display:"flex",flexDirection:"row",textAlign:"center",margin:"auto",marginTop:"1.6666666666666667em",marginBottom:"0px",paddingRight:"1.2em"},calledHoursNum:{fontSize:"1.5rem",position:"relative",color:e.palette.text.primary,opacity:.65},subScript:{fontSize:"0.6666666666666666em",position:"relative",marginBottom:"1.6666666666666667em"},logo:{color:e.palette.text.primary}}},p.default);t.default=(0,i.withStyles)(v)(g)},5871:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a(0)),r=a(13),i=l(a(24));l(a(42));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getCols=function(e){return Math.floor(12*e/100)},a.state={layout:"2x2"},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.classes,t.theme,t.colsArr);t.colsDistribution,Math.ceil(12/a.length);return o.default.createElement(i.default,{item:!0,xs:6,style:{padding:4,justifyContent:"center"}},a.map(function(t){return o.default.createElement(i.default,{key:t,item:!0,xs:12},e.props.children)}))}}]),t}();t.default=(0,r.withStyles)(function(e){return{root:{padding:"0 1.041vw",backgroundImage:e.palette.background.main,fontFamily:e.font.title.fontFamily,width:"100%"},col:{height:100,width:100}}},{withTheme:!0})(s)},5872:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=O(o),i=a(13),l=a(5536),s=a(56),c=O(a(6)),u=O(a(39)),d=a(30),m=O(a(5537)),p=O(a(136)),f=a(47),h=a(44),g=O(a(239)),v=O(a(55)),y=a(63),b=O(a(5538)),C=O(a(135)),E=O(a(137)),S=a(5539),w=a(27),x=O(a(5876)),T=a(5878),N=O(a(28)),k=O(a(29)),I=a(148),A=a(26);function O(e){return e&&e.__esModule?e:{default:e}}function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var R={changeSummary:function(){},changeTranscription:function(){},changeStatus:function(){},changeCaller:function(){},inCallDataFreeda:function(){},updatePaymentsModalData:A.emptyFunction,match:{params:{}},location:{},callState:{},sipState:{},user:{workbookList:[]},resetSavedContact:A.emptyFunction},D=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));_.call(a),a.state={loading:!0,redirect:!1,callPrep:!1,openContacts:!1,paymentCommitmentArray:[],contactOpen:!1,isLastCustomer:!1,isFirstCustomer:!0,callDisabledModal:!1,toCallCustomers:null,chartsSet:!1,disableNext:!1,handlePrev:!1,popTimeline:!1,popType:null,customerName:{}},a.currentCustomerNumber=0,a.nextUrl="",a.prevUrl="",a.props.changeSummary({summary:""}),a.props.changeTranscription({transcription:""}),a.props.resetSavedContact(),a.pastDueBucketDocumentAmountAccountBalSummary=[],a.pastDueBucketDocumentCountAccountBalSummary=[],a.xdataAccountBalSummary=[],a.pastDueBucketDocumentAmountPredictedBalSummary=[],a.pastDueBucketDocumentCountPredictedBalSummary=[],a.xdataPredictedBalSummary=[],a.chartColors=[],a.bucketNames=[];try{a.preProcessCustomer(e.match.params.id)}catch(e){}return a.getCustomerData(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){if(this.props.match.params.id!==e.match.params.id){this.setState({commHistoryLoaded:!1}),this.setState({handleNext:!1}),this.setState({handlePrev:!1});u.default.apiUrl,e.match.params.id;this.setState({loading:!0}),this.getCustomerData(e),this.props.location.state?this.setState({openContacts:this.props.location.state.openContacts}):this.setState({openContacts:!1}),this.preProcessCustomer(e.match.params.id)}}},{key:"componentWillMount",value:function(){}},{key:"componentWillUpdate",value:function(){"Connected to"!==this.props.callState.status&&"Trying to connect"!==this.props.callState.status||this.props.changeStatus({status:""})}},{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.theme;if(t.reqCallPrepState&&this.props.sipState.connected&&!this.state.loading){console.log("Loaded callprep");var o=0,i=void 0;if(null!=this.state.customer&&this.state.customer.contacts.length>0){for(var l=0;l<this.state.customer.contacts.length;l++)if(!0===this.state.customer.contacts[l].isPrimary){o=l;break}i=this.state.customer.contacts[o]}this.props.getCallPrepState({contactIndex:o,customer:this.state.customer,bucketNames:this.bucketNames,nextCustomerUrl:this.nextUrl,calledToNumber:"+1"+i.phoneNumber,toCallCustomers:this.state.toCallCustomers,communication:this.state.communication})}return r.default.createElement("div",{className:a.appFrame},r.default.createElement(C.default,{topItems:(0,S.getMenuItems)(a,n,this.openPopTimeline)}),!this.state.loading&&r.default.createElement(g.default,{onSwipeLeft:this.handleNext,onSwipeRight:this.handlePrev},r.default.createElement("div",{className:a.root},r.default.createElement(E.default,{onClose:this.closeActionCreatorDialog,open:this.state.callDisabledModal,title:"Call cannot be placed at the moment. Please contact your administrator.",actions:[r.default.createElement(w.Button,{onClick:this.closeActionCreatorDialog,color:"secondary"},"OK")]}),r.default.createElement("div",null,this.props.user.workbookList&&r.default.createElement("div",null,r.default.createElement(w.Fab,{"aria-label":"Add",className:(0,c.default)(a.fabButtons,a.prevFab),classes:{disabled:a.disabledFab},size:"small",disabled:!(this.currentCustomerNumber>0),onClick:this.handlePrev},r.default.createElement(y.NavigateBefore,{className:this.currentCustomerNumber<=0?a.disabledArrowicon:a.arrowIcon})),r.default.createElement(w.Fab,{"aria-label":"Add",classes:{disabled:a.disabledFab},className:(0,c.default)(a.fabButtons,a.nextFab),disabled:this.state.disableNext,size:"small",onClick:this.handleNext},r.default.createElement(y.NavigateNext,{className:this.state.disableNext?a.disabledArrowicon:a.arrowIcon}))),r.default.createElement(w.Grid,{container:!0,style:{margin:"0"}},r.default.createElement(w.Grid,{container:!0,item:!0,alignItems:"flex-start",style:{marginTop:"1.12vh"}},r.default.createElement(w.Grid,{item:!0,container:!0,xs:3,lg:3,sm:3,md:2,style:{paddingLeft:"0px",paddingRight:"0px"},alignItems:"flex-start"},r.default.createElement(w.Grid,{item:!0},r.default.createElement(s.Link,{to:"/call-workboard"},r.default.createElement(y.ArrowBack,{className:a.backButton}))),r.default.createElement(w.Grid,{item:!0,xs:10,style:{}},r.default.createElement("div",{style:{marginLeft:"1.197vw"}},this.state.customer.customerName&&this.state.customer.customerName.length<20?r.default.createElement(w.Typography,{noWrap:!0,className:(0,c.default)(a.customerName,a.customerText)}," ",this.state.customer.customerName):r.default.createElement(w.Tooltip,{title:this.state.customer.customerName},r.default.createElement(w.Typography,{noWrap:!0,className:(0,c.default)(a.customerName,a.customerText)}," ",this.state.customer.customerName)),r.default.createElement("div",{className:(0,c.default)(a.customerText,a.customerNumber)}," ",this.state.customer.customerNumber)))),r.default.createElement(w.Grid,{item:!0,xs:2,lg:2,sm:3,md:2,container:!0,alignItems:"center",justify:"flex-start"},this.state.customer.paymentBehaviour&&r.default.createElement(w.Grid,{item:!0,container:!0,xs:12,alignItems:"center",justify:"flex-start"},r.default.createElement(w.Grid,{item:!0},this.getPaymentLogo(a)),r.default.createElement(w.Grid,{item:!0},r.default.createElement("div",{className:a.paymentBehaviour}," ",this.state.customer.paymentBehaviour," Payment Behaviour")))),r.default.createElement(w.Grid,{item:!0,container:!0,sm:7,lg:7,md:8,className:a.rightGrid,justify:"flex-end",alignItems:"center"},r.default.createElement(x.default,(P(e={customer:this.state.customer,sipState:this.props.sipState,callStatus:this.props.callState.status,nextCustomerUrl:this.nextUrl,bucketNames:this.bucketNames},"nextCustomerUrl",this.nextUrl),P(e,"toggleContactPopover",this.toggleContactPopover),P(e,"disableCall",this.disableCall),P(e,"communication",this.state.communication),e)),r.default.createElement(w.Grid,{item:!0,className:a.dialpadIcon},r.default.createElement(m.default,{toggleDisableCallDialog:this.disableCall,customer:this.state.customer,contacts:this.state.customer.contacts,bucketNames:this.bucketNames,nextCustomerUrl:this.nextUrl,toCallCustomers:this.state.toCallCustomers,communication:this.state.communication})))),r.default.createElement(b.default,{customer:this.state.customer}))),r.default.createElement(p.default,null,"Viewing ",this.currentCustomerNumber+1," of ",this.props.user.workbookList.length))),this.state.loading&&r.default.createElement("div",{className:a.appFrame},r.default.createElement("div",{className:a.root},r.default.createElement(w.Grid,{container:!0,justify:"center"},r.default.createElement(w.Grid,{item:!0,xs:12,align:"center"},r.default.createElement("div",{className:(0,c.default)(a.loadingDiv,a.centerFlexBox)},"Please Wait",r.default.createElement(v.default,null)))))),this.state.handleNext&&r.default.createElement(s.Redirect,{to:{pathname:this.nextUrl,state:{toCallCustomers:this.state.toCallCustomers}}}),this.state.handlePrev&&r.default.createElement(s.Redirect,{to:{pathname:this.prevUrl,state:{toCallCustomers:this.state.toCallCustomers}}}))}}]),t}(),_=function(){var e=this;this.closeActionCreatorDialog=function(){e.setState({callDisabledModal:!1})},this.disableCall=function(){e.setState({callDisabledModal:!0})},this.handleNext=function(){e.setState({handlePrev:!1}),e.setState({handleNext:!0})},this.handlePrev=function(){e.setState({handleNext:!1}),e.setState({handlePrev:!0})},this.getPaymentLogo=function(t){switch(e.state.customer.paymentBehaviour){case"Good":return r.default.createElement(y.SentimentVerySatisfied,{className:t.paymentLogo});case"Okay":return r.default.createElement(y.SentimentSatisfied,{className:t.paymentLogo});case"Bad":return r.default.createElement(y.SentimentDissatisfied,{className:t.paymentLogo});case"Poor":return r.default.createElement(y.SentimentVeryDissatisfied,{className:t.paymentLogo});default:return r.default.createElement(y.SentimentSatisfied,{className:t.paymentLogo})}},this.openPopTimeline=function(t){e.props.toggleModal({open:!0,type:t})},this.getCustomerData=function(t){l.customerService.getCustomerResponse(t.match.params.id).then(function(t){e.setState({customer:t},function(){e.bucketNames=e.state.customer.accountDetails.bucketNames.reverse(),e.props.updatePaymentsModalData(e.state.customer.payments),l.customerService.getCommunication(t.id).then(function(t){e.props.updateCommModalData(t),e.setState({communication:t},function(){e.setState({commHistoryLoaded:!0})})}),e.setState({loading:!1})})})},this.preProcessCustomer=function(t){e.currentCustomerNumber=(0,T.fetchCurrentCustomer)(t),e.prevUrl=(0,T.getPrevCustomer)(e.currentCustomerNumber);var a=(0,T.getNextCustomer)(e.currentCustomerNumber),n=a.nextUrl,o=a.disableNext;e.nextUrl=n,e.state.disableNext=o}};D.defaultProps=R;var M=(0,N.default)(function(e){return{appFrame:{display:"flex",flexDirection:"row",maxHeight:"100vh"},root:{margin:"0 auto",backgroundColor:e.palette.background.main,width:"93.75vw"},loadingDiv:{height:"100vh",flexDirection:"column",color:e.palette.text.primary},nextFab:{right:.25*e.spacing.unit},customerText:{color:e.palette.primary.main,fontFamily:e.typography.fontFamily},customerName:{fontSize:"1.78rem",lineHeight:"2.05rem"},customerNumber:{fontSize:".8rem"},paymentLogo:{height:"calc(1.75vh + 1.75vw)",width:"calc(1.75vh + 1.75vw)",color:e.palette.primary.main,borderRadius:"50%",backgroundColor:e.palette.background.main,marginLeft:".3em"},paymentBehaviour:{color:e.palette.text.primary,fontSize:"0.89rem",fontFamily:e.typography.fontFamily,width:"7rem",paddingLeft:"0.5em",opacity:".6"},rightGrid:{marginLeft:"-8.333vw !important"},dialpadIcon:{height:"calc(1.6vh + 1.6vw)"},actionIcon:{fontSize:"2rem",color:e.palette.text.primary},actionButton:{height:"4.166vw",width:"4.166vw",borderRadius:"0px","&:hover":{backgroundColor:"#86BFE7"}}}},k.default);t.default=(0,d.connect)(function(e){return{user:e.personalDetails,callState:e.callState,customers:e.customers,sipState:e.sipReducer,reqCallPrepState:e.freedaRootReducer.reqCallPrepState}},function(e){return{changeCaller:function(t){return e((0,f.changeCaller)(t))},changeStatus:function(t){return e((0,f.changeStatus)(t))},changeSummary:function(t){return e((0,f.changeSummary)(t))},changeTranscription:function(t){return e((0,f.changeTranscription)(t))},addCustomers:function(t){return e((0,f.addCustomers)(t))},resetCustomerNumber:function(t){return e((0,f.resetCustomerNumber)(t))},nextPage:function(t){return e((0,f.nextPage)(t))},getCallPrepState:function(t){return e((0,h.getCallPrepState)(t))},toggleModal:function(t){return e((0,I.toggleModal)(t))},updatePaymentsModalData:function(t){return e((0,I.updatePaymentsModalData)(t))},updateCommModalData:function(t){return e((0,I.updateCommModalData)(t))},resetSavedContact:function(t){return e((0,f.resetSavedContact)(t))}}})((0,i.withStyles)(M,{withTheme:!0})(D))},5876:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=v(o),i=a(13),l=v(a(24)),s=v(a(151)),c=v(a(5540)),u=a(56),d=v(a(3)),m=(a(26),v(a(28))),p=v(a(29)),f=v(a(6)),h=a(35),g=a(241);function v(e){return e&&e.__esModule?e:{default:e}}var y={customer:d.default.object.isRequired,bucketNames:d.default.array,nextUrl:d.default.string,toCallCustomers:d.default.array,sipState:d.default.object,communication:d.default.object,disableCall:d.default.func},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.toggleContactPopover=function(){a.setState(function(e){return{contactPopoverState:!e.contactPopoverState}})},a.closeContactPopover=function(){a.setState({contactPopoverState:!1})};var n;return n=!!(0,g.isStatusNegative)(a.props.callStatus),a.state={customer:e.customer,contactPopoverState:n},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({customer:e.customer})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.theme,(0,g.getDefaultContact)(this.state.customer.contacts)),n=a.defaultContact,o=a.defaultIndex,i=(n.firstName?n.firstName+" ":"")+(n.lastName?n.lastName:"");return r.default.createElement(r.default.Fragment,null,this.state.customer.contacts.length>0&&r.default.createElement(l.default,{item:!0,container:!0,sm:6,lg:5,md:5,alignItems:"center",justify:"space-between",className:t.callGrid},r.default.createElement(l.default,{container:!0,className:t.pointer,item:!0,xs:10,justify:"space-between",alignItems:"center",onClick:this.toggleContactPopover},r.default.createElement(l.default,{item:!0,container:!0,xs:10,justify:"flex-start",alignItems:"center"},r.default.createElement(l.default,{item:!0,className:t.customerIconCircle,align:"center"},(0,h.getFirstCharFromName)(n.firstName,n.lastName)),r.default.createElement(l.default,{item:!0,className:t.callText,align:"left"},r.default.createElement(l.default,{noWrap:!0,className:t.callTextSpan},i))),r.default.createElement(l.default,{item:!0,className:t.dropDown,align:"right"},r.default.createElement(s.default,{className:(0,f.default)(t.dropDownIcon,t.dropDown)}))),r.default.createElement(l.default,{container:!0,item:!0,xs:!0,alignItems:"center",justify:"flex-end"},r.default.createElement(l.default,{item:!0,align:"right",className:t.callIcon},this.props.sipState.connected?r.default.createElement(u.Link,{to:{pathname:"/in-call",state:{contactIndex:o,customer:this.state.customer,bucketNames:this.props.bucketNames,nextCustomerUrl:this.props.nextCustomerUrl,calledToNumber:"+1"+n.phoneNumber,toCallCustomers:this.props.toCallCustomers,communication:this.props.communication}}},r.default.createElement("img",{className:(0,f.default)(t.callIconImg,t.baseIconSize),src:"/tovo/static/call.svg"})):r.default.createElement("img",{onClick:this.props.disableCall,className:(0,f.default)(t.callIconImg,t.baseIconSize),src:"/tovo/static/call.svg"})),r.default.createElement(l.default,{item:!0,className:t.contactIcon},r.default.createElement(c.default,{closeContactPopover:this.closeContactPopover,toggleContactPopover:this.toggleContactPopover,contactPopoverState:this.state.contactPopoverState,contacts:(0,g.reOrderContacts)(this.state.customer.contacts),customer:this.state.customer,bucketNames:this.props.bucketNames,communication:this.props.communication,nextCustomerUrl:this.props.nextCustomerUrl,toggleDisableCallDialog:this.props.disableCall,toCallCustomers:this.props.toCallCustomers})))),0===this.state.customer.contacts.length&&r.default.createElement(l.default,{item:!0,container:!0,sm:6,lg:6,md:6,alignItems:"center",justify:"space-between",className:t.callGrid},r.default.createElement(l.default,{container:!0,item:!0,xs:10,justify:"space-between",alignItems:"center"},r.default.createElement(l.default,{item:!0,container:!0,xs:!0,justify:"flex-start",alignItems:"center"},r.default.createElement(l.default,{item:!0,className:t.gridAccount,align:"center"},r.default.createElement(l.default,{item:!0,container:!0,xs:!0,alignItems:"center",justify:"center",className:t.gridAccountImg},r.default.createElement(l.default,{item:!0},"?"))),r.default.createElement(l.default,{item:!0,className:t.callText,align:"center"},r.default.createElement(l.default,{variant:"span"},"No Contacts found"))))))}}]),t}();b.propTypes=y,b.defaultProps={customer:{contacts:[]},bucketNames:[],nextUrl:null,toCallCustomers:null,sipState:{},communication:{},disableCall:{}};var C=(0,m.default)(function(e){return{pointer:{cursor:"pointer"},callText:{marginLeft:"0.52vw",color:e.palette.text.primary,fontFamily:e.typography.fontFamily,width:"50%"},callTextSpan:{fontSize:".89rem"},dropDownIcon:{marginRight:"1rem"},dropDown:{height:"calc(1.06vh + 1.06vw)",width:"calc(1.06vh + 1.06vw)",color:e.palette.primary.main},callIcon:{height:"calc(1.6vh + 1.6vw)",margingLeft:".2em"},callIconImg:{cursor:"pointer"}}},p.default);t.default=(0,i.withStyles)(C,{withTheme:!0})(b)},5877:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.correspondenceService=void 0;var n=i(a(38)),o=i(a(39)),r=a(82);function i(e){return e&&e.__esModule?e:{default:e}}var l="/correspondence";t.correspondenceService={getEmailTemplates:function(){return n.default.post(""+o.default.apiUrl+l+"/emailtemplates").then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})},sendCallSummary:function(e){return n.default.post(""+o.default.apiUrl+l+"/callsummary",e).then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})}}},5878:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCustomer=t.getPrevCustomer=t.fetchCurrentCustomer=void 0;var n=a(71),o=a(47),r=(n.store.getState().personalDetails.workbookList,t.fetchCurrentCustomer=function(e){var t=r();try{for(var a=0;a<t.length;a++)if(t[a].toString()===e)return n.store.dispatch((0,o.resetCustomerNumber)({customerNumber:a})),a}catch(e){console.log("Error in fetching current customer in callprep:::"+e)}},t.getPrevCustomer=function(e){var t=e-1,a=r();if(t>=0)return"/callprep/"+a[t]},t.getNextCustomer=function(e){var t=r(),a=e+1;try{return t.length>a?{nextUrl:"/callprep/"+t[a],disableNext:!1}:{disableNext:!0}}catch(e){console.log("Error in gonext customer:::"+e)}},function(){return n.store.getState().personalDetails.workbookList})},5879:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=T(a(0)),r=T(a(6)),i=a(13),l=T(a(21)),s=T(a(24)),c=a(56),u=T(a(5880)),d=a(30),m=a(47),p=a(35),f=a(48),h=T(a(239)),g=T(a(150)),v=T(a(55)),y=T(a(135)),b=T(a(207)),C=a(5883),E=a(5535),S=T(a(28)),w=T(a(29)),x=a(26);function T(e){return e&&e.__esModule?e:{default:e}}var N={changeCaller:x.emptyFunction,resetCustomers:x.emptyFunction,resetPageNumber:x.emptyFunction,user:{},addCustomers:x.emptyFunction,customers:{customers:{}},prevPage:x.emptyFunction,nextPage:x.emptyFunction},k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlePrevious=function(){if(a.props.customers.pageNumber-1>=0){a.setState({isLastPage:!1}),a.setState({loadingUpcoming:!0});var e=a.props.customers.pageNumber-1;0===e&&a.setState({isFirstPage:!0}),E.overviewService.getUpcoming({pageNumber:e,pageSize:5}).then(function(e){a.setState({upcoming:e}),a.setState({loadingUpcoming:!1})}),a.props.prevPage()}},a.handleNext=function(){if(!a.state.isLastPage){a.setState({isFirstPage:!1}),a.setState({loading:!0}),a.setState({loadingUpcoming:!0});var e=a.props.customers.pageNumber+1;5*(e+1)>=a.state.toCallCustomers?(a.setState({isLastPage:!0}),a.setState({loadingUpcoming:!1})):E.overviewService.getUpcoming({pageNumber:e,pageSize:5}).then(function(e){a.setState({upcoming:e}),a.setState({loadingUpcoming:!1})}),5*e===a.props.customers.customers.length?C.callWorkBookService.getCallWorkBookResponse({pageNumber:e,pageSize:5}).then(function(e){a.setState({overview:e.overview}),a.props.addCustomers({customers:e.workbookItems}),a.setState({loading:!1})}):a.setState({loading:!1}),a.props.nextPage()}},a.getSpinner=function(e){return o.default.createElement(s.default,{container:!0},o.default.createElement(s.default,{item:!0,xs:12},o.default.createElement("div",{className:(0,r.default)(e.loadingDiv,e.centerFlexBox)},o.default.createElement(v.default,null))))},a.setCallWorkboardStats=function(e){if(e){var t=e.completedCallingMinutes,n=e.expectedCallingMinutes,o={expectedCallingMinutes:n,expectedHours:(0,p.getHoursFromMins)(n),expectedMinutes:(0,p.getDanglingMins)(n),completedCallingMinutes:t,completedHours:(0,p.getHoursFromMins)(t),completedMinutes:(0,p.getDanglingMins)(t)};a.setState({overviewStats:o})}},a.changeTab=a.changeTab.bind(a),a.state={loading:!0,callworkbookApiFailed:!1,upcomingApiFailed:!1,loadingUpcoming:!0,upcoming:{},overviewStats:{},currentTab:"CALL",isFirstPage:!0,isLastPage:!1,from:"",last:"",toCallCustomers:""},a.props.changeCaller(""),a.props.resetCustomers(),a.props.resetPageNumber(),C.callWorkBookService.getCallWorkBookResponse({pageNumber:0,pageSize:5}).then(function(e){a.setState({overview:e.overview}),a.setCallWorkboardStats(e.overview);var t=e.overview.totalCustomerCount;a.setState({toCallCustomers:t}),t<=5?(a.setState({isLastPage:!0}),a.setState({loadingUpcoming:!1})):E.overviewService.getUpcoming({pageNumber:0,pageSize:5}).then(function(e){var t=e;t.bucketNames=a.props.user.bucketNames,a.setState({upcoming:t}),a.setState({loadingUpcoming:!1})}).catch(function(e){a.setState({loadingUpcoming:!1}),a.setState({upcomingApiFailed:!0})}),a.props.addCustomers({customers:e.workbookItems}),a.setState({loading:!1})}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"changeTab",value:function(e){e.preventDefault(),"CALL"==this.state.currentTab?this.setState(function(e){return{currentTab:"FINISHED"}}):this.setState(function(e){return{currentTab:"CALL"}})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.theme,"CALL"==this.state.currentTab?t.selectedTab:t.unselectedTab);"FINISHED"==this.state.currentTab?t.selectedTab:t.unselectedTab;return o.default.createElement("div",{className:t.appFrame},o.default.createElement(y.default,null),this.state.overview&&this.props.user.bucketNames&&o.default.createElement(h.default,{onSwipeLeft:this.handleNext,onSwipeRight:this.handlePrevious},o.default.createElement("div",{className:t.root},o.default.createElement("div",{className:t.topHeader},o.default.createElement("div",{style:{height:"calc(1.46vh + 1.46vw)"}},o.default.createElement(c.Link,{to:"/",className:t.backButtonLink},o.default.createElement(g.default,{className:t.backButton}))),o.default.createElement("div",null,o.default.createElement("div",{className:(0,r.default)(t.titleName,t.titleNameText)},"Call Workboard"))),o.default.createElement(s.default,{item:!0,xs:12,md:12,lg:12,sm:12,container:!0,alignItems:"center",justify:"space-between",className:t.headerGrid},o.default.createElement(s.default,{item:!0,xs:4,md:4,lg:4,sm:4,container:!0,justify:"flex-start"},o.default.createElement(s.default,{item:!0,xs:4,md:5,lg:5,sm:4,xl:5,align:"center"},o.default.createElement("div",{style:{display:"flex",flexDirection:"row",width:"27vw"}},o.default.createElement(l.default,{className:(0,r.default)(a,t.tabFont)},"TO CALL LIST (",this.state.overview.totalCustomerCount,")")))),o.default.createElement(s.default,{item:!0,container:!0,xs:7,md:8,lg:7,sm:6,xl:7,alignItems:"center",justify:"flex-end",className:t.border},o.default.createElement(s.default,{item:!0,xs:2,md:2,lg:2,sm:2,className:t.progressSummary,align:"right"}),o.default.createElement(s.default,{item:!0,xs:2,md:3,lg:3,sm:2,xl:3,container:!0,alignItems:"center",justify:"center"},o.default.createElement(s.default,{item:!0,container:!0,xs:10,md:10,lg:10,sm:10,xl:10,className:t.borderRight,alignItems:"center",justify:"center"},o.default.createElement(s.default,{item:!0,xs:12,md:12,lg:12,sm:12},o.default.createElement("span",{className:t.processed},this.state.overview.processedCustomerCount),o.default.createElement("span",{className:t.headerFont},"/"),o.default.createElement("span",{className:t.total},this.state.overview.totalCustomerCount)),o.default.createElement(s.default,{item:!0,xs:12,md:12,lg:12,sm:12},o.default.createElement(l.default,{className:t.smallFont},"Total Customers Called")))),o.default.createElement(s.default,{item:!0,xs:4,md:3,lg:3,sm:4,xl:3,className:t.totalAmount,container:!0,alignItems:"center",justify:"center",spacing:0},o.default.createElement(s.default,{container:!0,item:!0,className:t.bigFont},o.default.createElement(s.default,{item:!0,xs:11,md:11,lg:11,sm:11},o.default.createElement("span",{className:t.processed},this.state.overviewStats.completedHours,o.default.createElement("span",{className:t.timeSubscript},"hr"),(this.state.overviewStats.completedMinutes>0||0===this.state.overviewStats.bigTime)&&o.default.createElement("span",{className:t.processed}," "+this.state.overviewStats.completedMinutes,o.default.createElement("span",{className:t.timeSubscript},"min")),o.default.createElement("span",{className:t.headerFont},"/")),o.default.createElement("span",{className:t.total},this.state.overviewStats.expectedHours>0&&this.state.overviewStats.expectedHours+"hr",(this.state.overviewStats.expectedMinutes>0||0===this.state.overviewStats.expectedMinutes)&&o.default.createElement("span",{className:t.mintotal}," "+this.state.overviewStats.expectedMinutes+"min"))),o.default.createElement(s.default,{item:!0,xs:11,md:11,lg:11,sm:11},o.default.createElement(l.default,{className:t.smallFont},"Total Time Spent on Call")))),o.default.createElement(s.default,{item:!0,xs:4,md:3,lg:3,sm:4,xl:3,className:t.voiceMail,container:!0,alignItems:"center",justify:"center",spacing:0},o.default.createElement(s.default,{item:!0,container:!0,className:t.bigFont},o.default.createElement(s.default,{item:!0,xs:11,md:11,lg:11,sm:11},o.default.createElement("span",{className:t.processed},"$",(0,f.formatter)(this.state.overview.totalPastDueProcessed,"")),o.default.createElement("span",{className:t.headerFont},"/"),o.default.createElement("span",{className:t.total},"$",(0,f.formatter)(this.state.overview.totalPastDueAmount,""))),o.default.createElement(s.default,{item:!0,xs:11,md:11,lg:11,sm:11},o.default.createElement(l.default,{className:t.smallFont},"Total Past Due Touched")))))),o.default.createElement("div",{className:t.cardGrid},!this.state.loading&&!this.state.callworkbookApiFailed&&"CALL"==this.state.currentTab&&o.default.createElement(u.default,{handlePrevious:this.handlePrevious,handleNext:this.handleNext,upcoming:this.state.upcoming,isFirstPage:this.state.isFirstPage,isLastPage:this.state.isLastPage,toCallCustomers:this.state.toCallCustomers}),"FINISHED"==this.state.currentTab,!this.state.loading&&!this.state.loadingUpcoming&&this.state.callworkbookApiFailed&&o.default.createElement("div",{className:(0,r.default)(t.retryParent,t.centerFlexBox),onClick:this.getOverviewResponse},o.default.createElement(b.default,{className:t.retryButton}),o.default.createElement(l.default,{className:t.retryMsg},"Something Went Wrong."),o.default.createElement(l.default,{className:t.retryMsg},"Please retry"))))),(this.state.loading||this.state.loadingUpcoming)&&void 0===this.state.overview&&o.default.createElement(s.default,{container:!0},o.default.createElement(s.default,{item:!0,xs:12},o.default.createElement("div",{className:(0,r.default)(t.loadingDiv,t.centerFlexBox)},o.default.createElement(v.default,null)))))}}]),t}();k.defaultProps=N;var I=(0,S.default)(function(e){return{root:{padding:"0em 1.041vw 0.5em 1.041vw",backgroundColor:e.palette.background.main,fontFamily:e.typography.fontFamily,width:"100%"},appFrame:{display:"flex",flexDirection:"row",maxHeight:"100vh"},fredaGif:{justifyContent:"center",alignItems:"center",marginTop:5},titleName:{paddingLeft:"1.1979vw"},border:{height:"4.444rem"},borderRight:{borderRight:"0.5px solid #395C73",color:"white",height:"80%"},voiceMail:{color:"white",height:"80%",paddingLeft:"2%",borderLeft:"0.5px solid #395C73"},totalAmount:{height:"80%",marginLeft:"1%"},smallFont:{fontSize:".8rem",color:e.palette.primary.main,fontFamily:e.typography.fontFamily},bigFont:{color:"white",fontSize:"1em"},selectedTab:{borderBottom:"3px solid white",color:e.palette.common.white,opacity:.8},unselectedTab:{color:e.palette.primary.main,opacity:.8},tabFont:{width:"12.7vw",padding:"0.2rem 0.2rem .5em 0"},cardGrid:{margin:"0 -1.041vw -1.85vh 0",paddingTop:"1%"},headerGrid:{height:"7.407vh",marginTop:"1.9vh"},processed:{fontSize:"1.34rem"},total:{fontSize:"0.89rem",opacity:"0.4"},mintotal:{fontSize:".89rem"},timeSubscript:{fontSize:".89rem"},progressSummary:{color:"#989898",fontSize:"1em",marginRight:"1rem"},loadingDiv:{height:"100vh"},freda:{width:"30%",paddingTop:"5px"},backButtonLink:{height:"calc(1.46vh + 1.46vw)"},headerFont:{fontSize:"1.3rem",opacity:"0.4"},retryButton:{color:"white",height:"5rem",width:"5rem",cursor:"pointer"},retryMsg:{color:"white",fontFamily:"Roboto",fontSize:"1rem",cursor:"pointer"},retryParent:{flexDirection:"column",height:"70vh"},topHeader:{height:"3.981vh",marginTop:"1.12vh",display:"flex",alignItems:"center"}}},w.default);t.default=(0,d.connect)(function(e){return{user:e.personalDetails,customers:e.customers}},function(e){return{changeCaller:function(t){return e((0,m.changeCaller)(t))},addCustomers:function(t){return e((0,m.addCustomers)(t))},prevPage:function(t){return e((0,m.prevPage)(t))},nextPage:function(t){return e((0,m.nextPage)(t))},resetCustomers:function(t){return e((0,m.resetCustomers)(t))},resetPageNumber:function(t){return e((0,m.resetPageNumber)(t))}}})((0,i.withStyles)(I,{withTheme:!0})(k))},5880:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=b(a(0)),r=a(13),i=b(a(5881)),l=b(a(5882)),s=b(a(24)),c=b(a(109)),u=b(a(155)),d=b(a(154)),m=a(30),p=b(a(136)),f=b(a(6)),h=b(a(3)),g=b(a(28)),v=b(a(29)),y=a(26);function b(e){return e&&e.__esModule?e:{default:e}}var C={isFirstPage:!0,isLastPage:!0,toCallCustomers:1,handleNext:y.emptyFunction,handlePrevious:y.emptyFunction,upcoming:{},customers:{customers:[]}},E={isFirstPage:h.default.bool.isRequired,isLastPage:h.default.bool.isRequired,toCallCustomers:h.default.number.isRequired,handleNext:h.default.func.isRequired,handlePrevious:h.default.func.isRequired},S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getCustomerNumbers=function(e,t){a.from=5*a.props.customers.pageNumber+1,a.last=t?e?a.props.toCallCustomers:a.props.toCallCustomers%5>0?5*a.props.customers.pageNumber+a.props.toCallCustomers%5:5*a.props.customers.pageNumber+5:5*a.props.customers.pageNumber+5},a.showPrev=function(){document.getElementById("fab_prev").style.visibility="visible"},a.hidePrev=function(){document.getElementById("fab_prev").style.visibility="hidden"},a.getCustomerCards=function(e){return a.props.customers.customers.slice(5*a.props.customers.pageNumber,5*a.props.customers.pageNumber+5).map(function(t,n){return o.default.createElement(s.default,{item:!0,xs:4,className:e.spacing,key:n},o.default.createElement(i.default,{customerDetails:t,customerId:t.id,id:n,toCallCustomers:a.props.toCallCustomers}))})},a.state={pageNumber:1,customers:a.props.customers,from:null,last:null,upcoming:a.props.upcoming},a.from=null,a.to=null,a.getCustomerNumbers(a.props.isFirstPage,a.props.isLastPage),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),n(t,[{key:"componentWillReceiveProps",value:function(e){this.getCustomerNumbers(e.isFirstPage,e.isLastPage),this.setState({upcoming:e.upcoming})}},{key:"render",value:function(){var e=this.props.classes;return o.default.createElement(s.default,{container:!0},this.getCustomerCards(e),o.default.createElement(s.default,{item:!0,xs:4,className:e.spacing},!this.props.isLastPage&&o.default.createElement(l.default,{customerDetails:this.state.upcoming,id:"upcoming-card"})),o.default.createElement(c.default,{id:"fab_prev",classes:{disabled:e.disabledFab},"aria-label":"Add",className:(0,f.default)(e.prevFab,e.fabButtons),size:"small",onClick:this.props.handlePrevious,disabled:this.props.isFirstPage},o.default.createElement(d.default,{className:this.props.isFirstPage?e.disabledArrowicon:e.arrowIcon})),o.default.createElement(c.default,{color:"primary",classes:{disabled:e.disabledFab},"aria-label":"Add",className:(0,f.default)(e.nextFab,e.fabButtons),size:"small",onClick:this.props.handleNext,disabled:this.props.isLastPage},o.default.createElement(u.default,{className:this.props.isLastPage?e.disabledArrowicon:e.arrowIcon})),o.default.createElement(p.default,null," ","Viewing ",this.from," to ",this.last," of ",this.props.toCallCustomers," "))}}]),t}();S.propTypes=E,S.defaultProps=C;var w=(0,g.default)(function(e){return{nextFab:{top:"53.7% !important",right:.25*e.spacing.unit},prevFab:{top:"53.7% !important",marginLeft:"-.7rem"},spacing:{padding:"0 1.041vw 1.85vh 0"}}},v.default);t.default=(0,m.connect)(function(e){return{customers:e.customers}},{})((0,r.withStyles)(w,{withTheme:!0})(S))},5881:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=C(a(0)),r=a(13),i=C(a(21)),l=C(a(24)),s=a(56),c=C(a(240)),u=C(a(171)),d=a(30),m=a(47),p=C(a(93)),f=a(48),h=a(27),g=C(a(3)),v=C(a(28)),y=C(a(29)),b=C(a(6));function C(e){return e&&e.__esModule?e:{default:e}}var E={customerDetails:g.default.object.isRequired,charColors:g.default.array,toCallCustomers:g.default.number.isRequired},S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setChartConfig=function(){a.chartsData=a.props.customerDetails.pastDueBucketDocumentAmount?a.props.customerDetails.pastDueBucketDocumentAmount.slice(0,5):[],a.xdata=a.props.customerDetails.bucketNames?a.props.customerDetails.bucketNames.slice(0,5):[],a.chartsData.unshift(a.props.customerDetails.totalCurrentOpenAmount),a.xdata.unshift("Current due"),a.hasBrokenPromise=a.props.customerDetails.totalBrokenPromises>0},a.state={index:0},a.setChartConfig(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n={color:a.palette.text.primary,fontSize:"0.7rem",fontFamily:"Roboto",opacity:.6},r="/callprep/"+this.props.customerId;return o.default.createElement(s.Link,{className:t.link,onClick:this.updateCustomerNumber,to:{pathname:r,state:{openContacts:!1,toCallCustomers:this.props.toCallCustomers}}},o.default.createElement(u.default,{customCard:t.cardStyle},o.default.createElement(l.default,{container:!0,className:t.containerGrid,alignItems:"flex-start",justify:"center"},o.default.createElement(l.default,{item:!0,container:!0,xs:12,md:12,alignItems:"center",justify:"flex-start",className:t.cardHeader},o.default.createElement(l.default,{item:!0,xs:8,align:"left"},this.props.customerDetails.customerName&&this.props.customerDetails.customerName.length>27?o.default.createElement(h.Tooltip,{title:this.props.customerDetails.customerName,className:t.toolTip},o.default.createElement(i.default,{noWrap:!0,className:t.customerName},this.props.customerDetails.customerName)):o.default.createElement(i.default,{noWrap:!0,className:t.customerName},this.props.customerDetails.customerName)),o.default.createElement(l.default,{item:!0,xs:4,align:"right"},o.default.createElement("span",{className:t.customerNumber},this.props.customerDetails.customerNumber))),o.default.createElement(l.default,{item:!0,container:!0,xs:10,alignItems:"center",justify:"center"},o.default.createElement(l.default,{item:!0,xs:12},(0,f.zeroCheck)(this.chartsData)&&o.default.createElement("div",{className:(0,b.default)(t.noItem,t.centerFlexBox,t.noItemText)},o.default.createElement(p.default,{className:t.icon}),"There are no dues"),!(0,f.zeroCheck)(this.chartsData)&&o.default.createElement(c.default,{marginTop:"-2%",pointWidthUnit:.1,formatter:f.callWorkboardHistogramFormatter,pointWidth:22,lineHeight:"1rem",spacingTop:60,data:this.chartsData,pageName:"Calling",dataLabelsCrop:!1,enableDataLabels:!0,dataLabelsOverflow:"none",marginBottom:"6vh",chartHeight:"29vh",xdata:this.xdata,div:this.props.customerId.toString(),datalabelsColor:a.palette.text.primary,xAxisOverflow:"allow",xAxisRotation:"0",xAxisLabelStyles:n,dataLabelsX:5,chartColors:this.props.chartColors}))),o.default.createElement(l.default,{item:!0,xs:2,container:!0,justify:"center",alignItems:"flex-end",style:{height:"28.2vh"}},o.default.createElement(l.default,{item:!0,container:!0,xs:12,className:t.brokenPromisesGrid,style:{borderLeft:"0.5px  ridge #324D60",marginTop:"0%"},align:"center"},this.hasBrokenPromise?o.default.createElement("div",{className:(0,b.default)(t.brokenPromisesDiv,t.centerFlexBox)},o.default.createElement("div",{className:t.brokenPromiseNumber}," ",this.props.customerDetails.totalBrokenPromises),o.default.createElement("img",{className:t.brokenPromiseImg,src:"/tovo/static/brokenPromise.svg"}),o.default.createElement(i.default,{className:t.promiseType},"Broken Promises")):o.default.createElement("div",{className:(0,b.default)(t.brokenPromisesDiv,t.centerFlexBox)},o.default.createElement("img",{className:t.brokenPromiseImg,src:"/tovo/static/noBrokenPromise.svg"}),o.default.createElement(i.default,{className:t.promiseType},"No Broken Promises")))))))}}]),t}();S.defaultProps={chartColors:["#5DAAE0"],customerDetails:{},customerId:0},S.propTypes=E;var w=(0,v.default)(function(e){return{cardStyle:{height:"38.925vh",borderRadius:"4px",backgroundColor:e.palette.background.default,borderTop:"0px",boxShadow:"0px 3px 6px rgba(0,0,0,.20)"},link:{textDecoration:"none",color:"inherit"},brokenPromisesGrid:{height:"22vh"},promiseType:{color:e.palette.text.primary,fontSize:".87rem",width:"90%",opacity:.4},containerGrid:{height:"100%"},brokenPromiseImg:{opacity:.8,height:"3.11111111111rem",width:"3.11111111111rem",margin:".7em 0"},brokenPromiseNumber:{fontSize:"1.5em",color:e.palette.text.primary},cardHeader:{zIndex:"2",height:"5.2vh"},customerNumber:{paddingRight:".5rem",fontSize:".8rem",color:e.palette.text.primary,fontFamily:e.typography.fontFamily,opacity:.4},customerName:{fontSize:"1.333rem",fontFamily:e.typography.fontFamily,paddingLeft:".6rem",color:e.palette.text.primary,opacity:.5},noItem:{height:"24vh",pointWidth:22,marginBottom:"0em",chartHeight:"24vh"},icon:{width:"1em",height:"1em",marginRight:".4em",zIndex:"1",color:e.palette.text.primary},brokenPromisesDiv:{flexDirection:"column"},toolTip:{maxWidth:"100vw"}}},y.default);t.default=(0,d.connect)(function(e){return{customers:e.customers}},function(e){return{resetCustomerNumber:function(t){return e((0,m.resetCustomerNumber)(t))}}})((0,r.withStyles)(w,{withTheme:!0})(S))},5882:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=p(a(0)),r=(p(a(6)),a(13)),i=p(a(24)),l=p(a(240)),s=p(a(171)),c=a(30),u=a(47),d=p(a(3)),m=a(48);function p(e){return e&&e.__esModule?e:{default:e}}var f={customerDetails:d.default.object.isRequired},h=["#5DAAE0"],g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setChartConfig=function(){var e=[];a.state.upcoming.upcomingPastDueBucketDocumentAmount&&(e=a.state.upcoming.upcomingPastDueBucketDocumentAmount.slice(0,5));var t=a.props.user.bucketNames?a.props.user.bucketNames.slice(0,5):[];e.unshift(a.state.upcoming.upcomingOpenAmount),t.unshift("Current due"),a.setState({chartsData:e}),a.setState({xdata:t})},a.state={index:0,upcoming:a.props.customerDetails,chartsData:[],xdata:[]},a.setChartConfig(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({upcoming:e.customerDetails},function(){t.setChartConfig()})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n={color:a.palette.text.primary,fontSize:"0.7rem",opacity:.6,fontFamily:"Roboto"};return o.default.createElement(s.default,{customCard:t.cardStyle},o.default.createElement(i.default,{container:!0,className:t.containerGrid,alignItems:"flex-start",justify:"center"},o.default.createElement(i.default,{item:!0,container:!0,xs:12,md:12,alignItems:"center",justify:"flex-start",className:t.cardHeader},o.default.createElement(i.default,{item:!0,xs:12,align:"left"},o.default.createElement("span",{className:t.titleName},"Remaining Account Balance Summary"))),o.default.createElement(i.default,{container:!0,alignItems:"center",justify:"center"},this.state.chartsData.length>0&&o.default.createElement(i.default,{item:!0,xs:12},o.default.createElement(l.default,{formatter:m.callWorkboardHistogramFormatter,pointWidth:22,pointWidthUnit:.1,lineHeight:"1rem",spacingTop:90,data:this.state.chartsData,pageName:"Calling",dataLabelsCrop:!1,enableDataLabels:!0,dataLabelsOverflow:"none",marginBottom:"0em",chartHeight:"29vh",xdata:this.state.xdata,div:"upcoming-div",datalabelsColor:a.palette.text.primary,xAxisOverflow:"allow",xAxisRotation:"0",xAxisLabelStyles:n,dataLabelsX:5,chartColors:h}))),o.default.createElement(i.default,{item:!0,xs:3,container:!0,justify:"center",alignItems:"center",style:{height:"100%"}})))}}]),t}();g.propTypes=f,g.defaultProps={id:"upcoming-card",customerDetails:{},user:{}};t.default=(0,c.connect)(function(e){return{user:e.personalDetails,customers:e.customers}},function(e){return{resetCustomerNumber:function(t){return e((0,u.resetCustomerNumber)(t))}}})((0,r.withStyles)(function(e){return{cardStyle:{height:"38.925vh",backgroundColor:e.palette.background.default,borderRadius:"4px",boxShadow:"none"},containerGrid:{height:"100%"},cardHeader:{zIndex:"2",height:"5.2vh"},titleName:{paddingLeft:".6rem",color:e.palette.text.primary,opacity:.5,fontSize:"1.333rem"}}},{withTheme:!0})(g))},5883:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callWorkBookService=void 0;var n=i(a(38)),o=i(a(39)),r=a(82);function i(e){return e&&e.__esModule?e:{default:e}}t.callWorkBookService={getCallWorkBookResponse:function(e){return n.default.get(o.default.apiUrl+"/callworkbook",{params:e}).then(function(e){return(0,r.handleApiResponse)(e)}).catch(function(e){return(0,r.handleApiResponse)(e)})}}},5884:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=z(o),i=a(13),l=z(a(24)),s=z(a(21)),c=z(a(6)),u=z(a(5540)),d=a(104),m=a(47),p=a(5545),f=a(30),h=(z(a(5546)),a(56)),g=z(a(5538)),v=z(a(5889)),y=z(a(5909)),b=z(a(239)),C=z(a(96)),E=z(a(109)),S=z(a(155)),w=z(a(154)),x=z(a(135)),T=z(a(151)),N=a(5539),k=z(a(5537)),I=z(a(5910)),A=a(35),O=z(a(136)),P=z(a(5550)),R=z(a(28)),D=z(a(29)),_=a(148),M=z(a(5911)),L=z(a(74)),F=z(a(33)),B=z(a(41)),j=a(5536),U=z(a(38)),H=a(26);function z(e){return e&&e.__esModule?e:{default:e}}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a(5476);var G=void 0,V=function(){for(var e=[],t={product:"hello",region:"America",amount:"5",saleDate:"09/09/1996",customer:"Balraj"},a=0;a<1e3;a++)e.push(t);return e}();var Y=function(e){function t(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));q.call(n),n.unknownCheck=!1,n.myRef=r.default.createRef(),n.props.changeCallState({calling:!0,status:""});var o=void 0,i=void 0;null!=n.props.location.state.contactIndex?(o=n.props.location.state.contactIndex,i=n.props.location.state.customer.contacts[o].id,n.calledToNumber=n.props.location.state.calledToNumber,n.calledToFirstName=n.props.location.state.customer.contacts[o].firstName,n.calledToLastName=n.props.location.state.customer.contacts[o].lastName,n.emailOfCalled=n.props.location.state.customer.contacts[o].email):(i=n.props.location.state.contactId,n.calledToNumber=n.props.location.state.calledToNumber,n.calledToFirstName=n.props.location.state.calledToFirstName,n.calledToLastName=n.props.location.state.calledToLastName,n.emailOfCalled=n.props.location.state.emailOfCalled),n.calledToFullName=(n.calledToFirstName?n.calledToFirstName+" ":"")+(n.calledToLastName?n.calledToLastName:""),"Unknown "!==n.calledToFullName&&"Unnamed Unnamed"!==n.calledToFullName&&n.calledToFullName||(n.calledToFullName=n.calledToNumber,n.unknownCheck=!0);var l=n.props.location.state;if(n.account=n.props.customers.customers.filter(function(e){return e.id==l.accountId}),n.props.callLog({status:"",contact:{id:i},calledToNumber:n.calledToNumber,contactId:i,calledTo:n.props.location.state.calledTo,startDateTime:new Date}),(0,d.sipCall)(n.calledToNumber,n.props.user,l.customer),n.state=(W(a={loading:!1,voicemailPlayedMessage:"",redirect:!1,callPrepPage:!1,customer:n.props.location.state.customer,communication:n.props.location.state.communication,callDuration:0,callDurationInFormat:"",transcription:"",summary:"[]",contactPopoverState:!1,columns:[{name:"product",title:"Product"},{name:"region",title:"Region"},{name:"amount",title:"Sale Amount"},{name:"saleDate",title:"Sale Date"},{name:"customer",title:"Customer"}],currencyColumns:["amount"],pageSizes:[5,10,15],rows:V,isVoicemailOpen:!1},"transcription",""),W(a,"invoices",[]),W(a,"invoiceDataLoaded",!1),W(a,"openAddContactDialog",n.unknownCheck),W(a,"minimizeAddContactDialog",!1),W(a,"snackMessage",{}),W(a,"snackOpen",!1),W(a,"bucketIdx",n.props.location.state.customer.accountDetails.bucketNames.length),a),n.getInvoiceData(e),n.props.location.state.bucketNames){var s=n.props.location.state.bucketNames.reverse();s.unshift("Current Due"),n.props.location.state.bucketNames=s}return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.transcription.transcription,a=e.transcription.transcription;a!==t&&this.setState({transcription:a}),e.location.state.customer,this.props.location.state.customer}},{key:"componentWillUpdate",value:function(){}},{key:"componentDidUpdate",value:function(){"Connected to"===this.props.callState.status&&this.setDuration()}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.classes,i=n.theme;return r.default.createElement("div",null,!0===this.props.callState.calling&&r.default.createElement(b.default,{onSwipeLeft:this.switchToCallPrepPage,onSwipeRight:this.switchToCallInCallPage},r.default.createElement("div",{className:o.appFrame},r.default.createElement(x.default,{topItems:(0,N.getMenuItems)(o,i,this.openPopTimeline)}),r.default.createElement(O.default,null),r.default.createElement("div",{className:o.root},r.default.createElement("div",null,!0===this.props.callState.calling&&r.default.createElement("div",null,r.default.createElement(E.default,{"aria-label":"Add",className:(0,c.default)(o.prevFab,o.fabButtons),classes:{disabled:o.disabledFab},size:"small",disabled:this.state.callPrepPage,onClick:this.switchToCallPrepPage},r.default.createElement(w.default,{className:this.state.callPrepPage?o.disabledArrowicon:o.arrowIcon})),r.default.createElement(E.default,{"aria-label":"Add",classes:{disabled:o.disabledFab},className:(0,c.default)(o.nextFab,o.fabButtons),disabled:!this.state.callPrepPage,size:"small",onClick:this.switchToCallInCallPage},r.default.createElement(S.default,{className:this.state.callPrepPage?o.arrowIcon:o.disabledArrowicon}))),!0===this.props.callState.calling&&r.default.createElement(l.default,{container:!0,xs:12,justify:"space-between",alignItems:"flex-start",style:{marginTop:"1.12vh"}},r.default.createElement(l.default,{item:!0,xs:5,style:{paddingLeft:"0px",paddingRight:"0px"}},this.state.customer.customerName.length<20?r.default.createElement(s.default,{noWrap:!0,className:o.customerName}," ",this.state.customer.customerName):r.default.createElement(C.default,{title:this.state.customer.customerName},r.default.createElement(s.default,{noWrap:!0,className:o.customerName}," ",this.state.customer.customerName)),r.default.createElement("div",{className:o.customerNumber},this.state.customer.customerNumber)),r.default.createElement(l.default,{item:!0,container:!0,sm:6,lg:6,md:6,xl:5,alignItems:"center",justify:"flex-end"},r.default.createElement(l.default,{item:!0,container:!0,lg:8,md:10,xl:10,alignItems:"center",justify:"flex-end",style:{marginRight:"8.333vw"}},r.default.createElement(l.default,{item:!0,container:!0,sm:9,lg:9,md:9,xl:9,alignItems:"center",justify:"space-between",className:o.callGrid},r.default.createElement(u.default,{closeContactPopover:this.closeContactPopover,toggleContactPopover:this.toggleContactPopover,contactPopoverState:this.state.contactPopoverState,contacts:this.state.customer.contacts,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames,nextCustomerUrl:this.nextUrl,toCallCustomers:this.props.location.state.toCallCustomers}),r.default.createElement(l.default,{container:!0,item:!0,lg:7,md:7,xl:7,style:{cursor:"pointer"},onClick:this.toggleContactPopover,justify:"flex-start",alignItems:"center"},r.default.createElement(l.default,{item:!0,className:o.customerIconCircle},"Unnamed"===this.calledToFirstName&&"Unnamed"===this.calledToLastName&&r.default.createElement("span",null,"?"),"Unnamed"!==this.calledToFirstName&&"Unnamed"!==this.calledToLastName&&r.default.createElement("span",null,(0,A.getFirstCharFromName)(this.calledToFirstName,this.calledToLastName))),r.default.createElement(l.default,{item:!0,lg:7,md:7,xl:7,className:o.callText},r.default.createElement(s.default,{variant:"span",noWrap:!0,className:(0,c.default)(o.status)},this.props.callState.status),r.default.createElement("div",{className:o.calledToContactDiv},r.default.createElement(s.default,{noWrap:!0,className:o.calledContactName},this.calledToFullName))),r.default.createElement(l.default,{item:!0,className:o.dropDown,align:"right"},r.default.createElement(T.default,{className:o.dropDownIcon}))),r.default.createElement(l.default,{container:!0,item:!0,lg:5,md:5,xl:5,alignItems:"center",justify:"flex-end"},r.default.createElement(l.default,{className:o.duration},this.state.callDurationInFormat),r.default.createElement(l.default,{item:!0,className:(0,c.default)(o.micOffIcon,o.centerFlexBox)},this.state.isMuted&&r.default.createElement("img",{className:o.micOffIconImg,src:"/tovo/static/unmute.svg",onClick:this.toggleMute}),!this.state.isMuted&&r.default.createElement("img",{className:o.micOffIconImg,src:a(5915),onClick:this.toggleMute})),r.default.createElement(l.default,{item:!0,align:"right",className:o.hangUpButton},r.default.createElement("img",(W(e={className:o.hangUpButtonImg,onClick:this.hangUp},"className",o.hangUpIconIng),W(e,"src",a(5916)),e))))),r.default.createElement(l.default,{item:!0,className:o.dialpadIcon},r.default.createElement(k.default,{className:o.baseIconSize,customer:this.state.customer,extension:this.props.location.state.extension})),r.default.createElement(l.default,{item:!0,className:(0,c.default)(o.voiceMailIcon,o.baseIconSize)},r.default.createElement(I.default,{customer:this.state.customer,onVoicemailClick:function(){return t.handleVoicemailMessage()}}))))),!0===this.props.callState.calling&&!1===this.state.callPrepPage&&r.default.createElement("div",{style:{marginTop:"2.037vh"}},r.default.createElement(l.default,{container:!0,xs:12,alignItems:"flex-start",justify:"center",style:{marginLeft:"0px"}},r.default.createElement(l.default,{item:!0,xs:8,align:"left",style:{paddingTop:"0",paddingRight:"1.041vw"}},this.state.invoices&&r.default.createElement(y.default,{collector:this.props.user,emailOfCalled:this.emailOfCalled,customer:this.state.customer,invoices:this.state.invoices,bucketNames:this.props.location.state.bucketNames,expandAddContactDialog:this.expandAddContactDialog})),r.default.createElement(l.default,{item:!0,container:!0,xs:4,className:o.transcriptBoxParent},r.default.createElement(P.default,{className:o.transcriptBox,autoScroll:!0,transcriptTitleClassName:o.transcriptTitle,transcriptChatProps:{transcription:this.state.transcription,calledToNameInitials:(0,A.getInitialsFromName)(this.calledToFirstName+" "+this.calledToLastName),userInitials:"ME",transcriptGridID:"live-transcription-grid"}})))),!0===this.props.callState.calling&&!0===this.state.callPrepPage&&r.default.createElement("div",null,r.default.createElement(g.default,{customer:this.state.customer})))))),!1===this.props.callState.calling&&("Call Failed"===this.props.callState.status||"Wrong Number"==this.props.callState.status||"User Busy"==this.props.callState.status)&&r.default.createElement("div",null,r.default.createElement(h.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!0,toCallCustomers:this.props.location.state.toCallCustomers}}})),!1===this.props.callState.calling&&r.default.createElement(v.default,{voicemailMessage:this.state.voicemailPlayedMessage,callDuration:this.state.callDuration,toCallCustomers:this.props.location.state.toCallCustomers,nextCustomerUrl:this.props.location.state.nextCustomerUrl,onHangup:this.clearIntervalOnHangup,invoices:this.state.invoices,customer:this.state.customer,calledToName:this.calledToFirstName+" "+this.calledToLastName,bucketNames:this.props.location.state.bucketNames,collector:this.props.user,contactIndex:this.props.location.state.contactIndex,calledToNumber:this.props.location.state.calledToNumber,initialTranscription:this.state.transcription,expandAddContactDialog:this.expandAddContactDialog,closeAddContactDialog:this.closeAddContactDialog}),!1===this.props.callState.calling&&"Trying to connect"===this.props.callState.status&&r.default.createElement("div",null,r.default.createElement(h.Redirect,{to:{pathname:"/callprep/"+this.state.customer.id,state:{openContacts:!1,toCallCustomers:this.props.location.state.toCallCustomers}}})),r.default.createElement(M.default,{open:this.state.openAddContactDialog,customer:this.state.customer,minimizeAddContactDialog:this.state.minimizeAddContactDialog,onClose:this.closeAddContactDialog,calledToNumber:this.props.location.state.calledToNumber,openSnackbarOnAction:this.openSnackbar,dialogID:"Add-Contact-Dialog",toggleAddContactDialog:function(e){return t.toggleAddContactDialog(e)}}),r.default.createElement(L.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage.key,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:r.default.createElement("span",{id:this.state.snackMessage.key},this.state.snackMessage.message),action:[r.default.createElement(F.default,{key:"close","aria-label":"Close",color:"inherit",className:o.close,onClick:this.closeSnackbar},r.default.createElement(B.default,null))]}))}}]),t}(),q=function(){var e=this;this.toggleContactPopover=function(){e.setState(function(e){return{contactPopoverState:!e.contactPopoverState}})},this.closeContactPopover=function(){e.setState({contactPopoverState:!1})},this.getInvoiceData=function(t){var a=t.location.state,n=(t.customers.customers.filter(function(e){return e.id==a.accountId}),a.customer);if(null!==n.accountDetails){for(var o=[],r=[],i=n.accountDetails.bucketNames.length;i>=0;i--)r.push(j.customerService.fetchInvoices(i,n.id));var l=e;U.default.all(r).then(U.default.spread(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=t.length-1;n>=0;n--)o.push(t[n].data);l.setState({invoices:o},function(){})}))}},this.loadInvoiceData=function(){var t=e.props.location.state,a=(e.props.customers.customers.filter(function(e){return e.id==t.accountId}),t.customer);if(null!==a.accountDetails){var n=e;j.customerService.fetchInvoices(e.state.bucketIdx,a.id,{pageNumber:0,pageSize:1}).then(function(e){n.setState(function(t){return{invoices:t.invoices.concat(e.data),bucketIdx:t.bucketIdx-1}})})}},this.getFormattedDuration=function(){var t=e.state.callDuration++,a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),o=Math.floor(t-3600*a-60*n);return n<10&&(n="0"+n),o<10&&(o="0"+o),n+":"+o},this.openVoicemail=function(){e.setState({isVoicemailOpen:!e.state.isVoicemailOpen})},this.openPopTimeline=function(t){e.props.toggleModal({open:!0,type:t})},this.toggleMute=function(){e.setState({isMuted:!e.state.isMuted}),(0,d.sipToggleMute)()},this.setDuration=function(){0===e.state.callDuration&&(G=setInterval(function(){"Connected to"===e.props.callState.status&&e.setState({callDurationInFormat:e.getFormattedDuration()})},1e3))},this.clearIntervalOnHangup=function(){clearInterval(G)},this.hangUp=function(){(0,d.sipHangup)()},this.openVoicemail=function(){e.setState({isVoicemailOpen:!e.state.isVoicemailOpen})},this.openSnackbar=function(t){e.state.snackOpen||e.setState({snackMessage:{message:H.SNACK_MESSAGES[t],key:(new Date).getTime()},snackOpen:!0})},this.closeSnackbar=function(t,a){"clickaway"!==a&&e.setState({snackOpen:!1})},this.closeAddContactDialog=function(){e.setState({openAddContactDialog:!1})},this.toggleAddContactDialog=function(t){e.setState({minimizeAddContactDialog:t})},this.expandAddContactDialog=function(){return!!e.state.openAddContactDialog&&(e.state.minimizeAddContactDialog&&e.toggleAddContactDialog(!1),!0)},this.switchToCallPrepPage=function(){e.setState({callPrepPage:!0})},this.switchToCallInCallPage=function(){e.setState({callPrepPage:!1})},this.handleVoicemailMessage=function(){var t=e.calledToFirstName+" "+e.calledToLastName,a="Voicemail Played for "+(("Unknown "===t||"Unnamed Unnamed"===t?e.props.location.state.calledToNumber:t)||"")+"\n";e.setState({voicemailPlayedMessage:a})}},K=(0,R.default)(function(e){return{appFrame:{display:"flex",flexDirection:"row",maxHeight:"100vh"},root:{backgroundImage:e.palette.background.main,width:"93.75vw",marginRight:"auto",marginLeft:"auto",alignItems:"center",paddingBottom:"0",justifyContent:"center",fontFamily:e.typography.fontFamily},hangUpIconIng:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",cursor:"pointer"},callText:{marginLeft:".5rem",color:e.palette.text.primary,fontFamily:e.typography.fontFamily,fontSize:"1rem"},dialpadIcon:{height:"calc(1.6vh + 1.6vw)",paddingRight:"1rem"},voiceMailIcon:{cursor:"pointer",background:e.palette.primary.main,borderRadius:"50%",textAlign:"center",padding:"1px"},status:{fontSize:".7rem",color:"white",zIndex:"6"},duration:{marginRight:".6rem",color:e.palette.text.primary},customerName:{fontFamily:e.typography.fontFamily,fontSize:"1.78rem",color:e.palette.primary.main,lineHeight:"2.05rem"},customerNumber:{fontFamily:e.typography.fontFamily,fontSize:".8rem",color:e.palette.primary.main},transcriptBox:{height:"86.50vh",borderRadius:"4px",backgroundColor:e.palette.background.default,position:"relative"},transcriptTitle:{fontSize:"1.2rem",color:e.palette.text.primary,paddingLeft:"1rem",opacity:.65,paddingTop:".5rem",position:"absolute",fontFamily:"Roboto"},nextFab:{right:.25*e.spacing.unit},prevFab:{marginLeft:"-0.5rem"},hangUpButton:{height:"calc(1.53vh + 1.53vw)",width:"2.66666665rem"},hangUpButtonImg:{height:"2.666665rem",width:"2.66666665rem"},dropDownIcon:{color:e.palette.primary.main},dropDown:{color:e.palette.background.default},micOffIconImg:{cursor:"pointer",height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)"},micOffIcon:{height:"calc(1.53vh + 1.53vw)",width:"calc(1.53vh + 1.53vw)",color:"white"},calledContactName:{fontSize:".76rem",color:"white",lineHeight:"normal"},calledToContactDiv:{width:"80%"},transcriptBoxParent:{paddingBottom:"0px !important",borderRadius:"4px"},closeStyle:{position:"fixed",top:"1%",left:"50%",color:e.palette.common.white,fontSize:48,cursor:"pointer"},customerHistoryModal:{position:"absolute",width:"45%",height:"100%",bottom:"0",overflowWrap:"break-word",overflowY:"auto",boxShadow:e.shadows[5],paddingLeft:"1%",backgroundColor:e.palette.background.paper,color:e.palette.text.primary,left:"4.2%"},actionIcon:{fontSize:"2rem",color:e.palette.text.primary},actionButton:{height:"4.166vw",borderRadius:"0px",width:"4.166vw"}}},D.default);t.default=(0,f.connect)(function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,customers:e.customers}},function(e){return{changeCallState:function(t){return e((0,m.changeCallState)(t))},changeStatus:function(t){return e((0,m.changeStatus)(t))},changeTranscription:function(t){return e((0,m.changeTranscription)(t))},callLog:function(t){return e((0,p.addInitialCallLog)(t))},toggleModal:function(t){return e((0,_.toggleModal)(t))}}})((0,i.withStyles)(K,{withTheme:!0})(Y))},5885:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=f(o),i=a(27),l=f(a(21)),s=f(a(5886)),c=f(a(93)),u=a(48),d=f(a(28)),m=f(a(29)),p=f(a(6));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.props=e,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.events,o=r.default.createElement(i.StepConnector,{classes:{root:a.connectorLine,line:a.connectorLineColor}}),d=n?n.length:0;return r.default.createElement("div",{className:a.noMargin},r.default.createElement(l.default,{classes:{root:a.mainHeader}},this.props.mainHeader),(0,u.zeroCheck)(n)&&r.default.createElement("div",{className:(0,p.default)(a.noItem,a.centerFlexBox,a.noItemText)},r.default.createElement(c.default,{className:a.icon}),this.props.noEventMsg),r.default.createElement(i.Stepper,{orientation:"vertical",connector:o,classes:{root:a.setBackground}},n&&n.map(function(t,a){return r.default.createElement(s.default,{event:t,index:a,popType:e.props.popType,key:"IndividualCard"+a,last:a===d-1})})))}}]),t}();h.defaulProps={events:[],popType:""};var g=(0,d.default)(function(e){return{connectorLine:{marginBottom:"-2px",paddingBottom:"0 !important",marginLeft:".95vw !important"},connectorLineColor:{borderColor:e.palette.primary.main,borderWidth:"2px"},setBackground:{backgroundColor:e.palette.background.paper},noMargin:{margin:"0"},mainHeader:{fontSize:"1.0666rem",color:e.palette.common.white,opacity:.65,fontStyle:"regular",marginTop:"0.8125rem"},noItem:{height:"88vh"},icon:{width:"1em",height:"1em",marginRight:".4em",zIndex:"1",color:e.palette.primary.main}}},m.default);t.default=(0,i.withStyles)(g,{withTheme:!0})(h)},5886:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=u(o),i=a(27),l=u(a(5887)),s=u(a(5888)),c=a(243);function u(e){return e&&e.__esModule?e:{default:e}}var d={popType:u(a(3)).default.string},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showMore=function(){console.log("showing more"),a.setState({moreDisplayed:!0})},a.getIcon=function(){var e=a.props,t=e.event;return"PAYMENT_HISTORY"===e.popType?r.default.createElement(s.default,{icon:"dollar"}):r.default.createElement(s.default,{icon:t.commType})},a.getTitleString=function(){var e=a.props,t=e.event,n=e.popType;if("PAYMENT_HISTORY"===n||"COMM_HISTORY"===n){var o=t.date||t.paymentDate||t.communicationTime;o=(0,c.format)(o,"MMM dd,yyyy");var i=new Date(Date.parse(o)),l=new Date;l.setDate(i.getDate()+1);var s=new Date,u="Older";return i.getDate()===s.getDate()&&i.getMonth()===s.getMonth()&&i.getFullYear()===s.getFullYear()?u="Today":l.getDate()===s.getDate()&&l.getMonth()===s.getMonth()&&l.getFullYear()===s.getFullYear()&&(u="Yesterday"),r.default.createElement("div",{style:{fontSize:".89rem",color:"#CCCCCC"}},u," ",o)}return null},a.getHeader=function(){var e=a.props,t=e.classes,n=e.event,o=e.popType,i=n.commType;if(i&&(i=i.toUpperCase()),"COMM_HISTORY"===o){var l=void 0,s=void 0,u=void 0;switch(i){case"VOICEMAIL":return l=Math.floor(n.call.duration/60),s=Math.floor(n.call.duration%60),u=Math.floor(n.call.duration)>0?(l>0?l+" min ":"")+(s>0?s+" sec ":""):n.call.duration+" sec ",r.default.createElement("span",{className:t.grayText},"VM ",n.call.contact&&r.default.createElement("span",null,r.default.createElement("span",{className:t.standardFont},n.call.contact.firstName," ",n.call.contact.lastName)," (",n.call.contact.phoneNumber,") "),!n.call.contact&&r.default.createElement("span",null,n.call.callingNumber," "),"at ",r.default.createElement("span",null,(0,c.format)(n.call.startTime,"hh:mma").toLowerCase())," ( ",u,")");case"CALL":return l=Math.floor(n.call.duration/60),s=Math.floor(n.call.duration%60),u=Math.floor(n.call.duration)>0?(l>0?l+" min ":"")+(s>0?s+" sec ":""):n.call.duration+" sec ",r.default.createElement("span",{className:t.grayText},"Called ",n.call.contact&&r.default.createElement("span",null,r.default.createElement("span",{className:t.standardFont},n.call.contact.firstName," ",n.call.contact.lastName)," (",n.call.contact.phoneNumber,") "),!n.call.contact&&r.default.createElement("span",null,n.call.callingNumber," "),"at ",r.default.createElement("span",null,(0,c.format)(n.call.startTime,"hh:mma").toLowerCase())," ( ",u,")");case"MAIL":return r.default.createElement("span",{style:{fontSize:".89rem"}},r.default.createElement("span",{className:t.grayText},"From:"),r.default.createElement("span",{className:t.standardFont}," ",n.customerName)," ",n.correspondence.from,r.default.createElement("br",null),r.default.createElement("span",{className:t.grayText},"Sent To:")," ",n.correspondence.to," at ",r.default.createElement("span",{className:t.standardFont},(0,c.format)(n.communicationTime,"hh:mma").toLowerCase()));default:return}}else if("PAYMENT_HISTORY"===o)return null},a.getFormattedHeader=function(){return r.default.createElement("div",null,a.getHeader())},a.getContent=function(){var e=a.props,t=e.classes,n=e.event,o=e.popType;if("PAYMENT_HISTORY"===o)return r.default.createElement(l.default,{summary:n,index:a.props.index});if("COMM_HISTORY"===o){var i=n.commType;if(i&&(i=i.toUpperCase()),"CALL"===i)return r.default.createElement("div",{style:{marginTop:".75rem",fontSize:"1rem"}},n.call.note&&n.call.note.noteContent&&n.call.note.noteContent.trim()&&r.default.createElement("div",null,r.default.createElement("span",{className:t.standardFont}," Call Notes"),n.call&&n.call.note&&n.call.note.noteContent&&n.call.note.noteContent.length>50&&!a.state.moreDisplayed?r.default.createElement("p",{style:{margin:"0px",fontSize:".765rem",whiteSpace:"pre-line"}},n.call.note.noteContent.substring(0,50)+"..."," ",r.default.createElement("span",{onClick:a.showMore,className:t.more},"More...")):r.default.createElement("p",{style:{margin:"0px",fontSize:".765rem",whiteSpace:"pre-line"}},n.call.note.noteContent.replace(/\/n/g,"\n"))));if("VOICEMAIL"===i)return r.default.createElement("div",{style:{marginTop:".75rem",fontSize:"1rem"}},n.call.note&&n.call.note.noteContent&&n.call.note.noteContent.trim()&&r.default.createElement("div",null,r.default.createElement("span",{className:t.standardFont}," VM Notes"),n.call&&n.call.note&&n.call.note.noteContent&&n.call.note.noteContent.length>50&&!a.state.moreDisplayed?r.default.createElement("p",{style:{margin:"0px",fontSize:".765rem",whiteSpace:"pre-line"}},n.call.note.noteContent.substring(0,50)+"..."," ",r.default.createElement("span",{onClick:a.showMore,className:t.more},"More...")):r.default.createElement("p",{style:{margin:"0px",fontSize:".765rem",whiteSpace:"pre-line"}},n.call.note.noteContent.replace(/\/n/g,"\n"))));if("MAIL"===i)return r.default.createElement("div",{style:{fontSize:".765rem"}},r.default.createElement("span",{className:t.grayText},"Subject:"),n.correspondence.subject.length>50&&!a.state.moreDisplayed?r.default.createElement(r.default.Fragment,null,n.correspondence.subject.substring(0,50)+"...","  ",r.default.createElement("span",{onClick:a.showMore,className:t.more},"  More... ")):r.default.createElement(r.default.Fragment,null,n.correspondence.subject))}return null},a.state={moreDisplayed:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props.classes;return console.log(this.state.moreDisplayed,"displaying more"),r.default.createElement("div",{className:e.noMargin},r.default.createElement(i.Step,{classes:{root:e.setBackground}},r.default.createElement(i.StepLabel,{icon:this.getIcon(),classes:{iconContainer:e.iconContainer,labelContainer:e.labelContainer}},this.getTitleString()),r.default.createElement(i.StepContent,{classes:{root:this.props.last?e.lastConnectorLine:e.connectorLine},active:!0,icon:null},this.getFormattedHeader(),this.getContent())))}}]),t}();m.defaultProps={event:{},popType:""},m.propTypes=d,t.default=(0,i.withStyles)(function(e){return{connectorLine:{marginTop:"-2px",borderColor:e.palette.primary.main,borderWidth:"2px",marginLeft:".95vw !important",paddingLeft:"1.979vw"},lastConnectorLine:{marginTop:"-2px",borderWidth:"0px",marginLeft:".95vw !important",paddingLeft:"1.979vw"},setBackground:{backgroundColor:e.palette.background.paper},noMargin:{margin:"0px"},grayText:{color:"white",fontSize:".89rem",opacity:".75"},standardFont:{fontSize:".89rem",fontFamily:"Roboto, Regular"},iconContainer:{paddingRight:"0"},labelContainer:{marginLeft:"1.041vw"},more:{color:e.palette.primary.main,fontSize:"0.89rem",cursor:"pointer"}}},{withTheme:!0})(m)},5887:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=m(o),i=m(a(106)),l=m(a(24)),s=m(a(21)),c=a(27),u=a(48),d=m(a(3));function m(e){return e&&e.__esModule?e:{default:e}}var p={classes:d.default.object.isRequired,summary:d.default.object},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getCurrencySymbol=function(e){var t=e;switch(e=e?e.toUpperCase():"DOLLAR"){case"DOLLAR":return"$";case"EURO":return r.default.createElement("span",null,"€");case"POUND":return r.default.createElement("span",null,"£");case"RUPEE":return r.default.createElement("span",null,"₹");case"YEN":return r.default.createElement("span",null,"¥");default:return t}},a.getGridHeader=function(e){var t=a.props,n=t.classes,o=t.theme;return r.default.createElement(l.default,{item:!0,key:"SummaryCardHeader"+a.props.index},r.default.createElement(i.default,{style:{height:"100%",border:"1px solid",borderColor:o.palette.primary.main,borderRadius:"0px",backgroundColor:o.palette.primary.main}},r.default.createElement(c.CardContent,{classes:{root:n.cardContentOverwrite},className:n.header},r.default.createElement("span",{className:n.headerText},e))))},a.getGridItem=function(e,t,n){var o=a.props,u=o.classes,d=o.theme;return r.default.createElement(l.default,{item:!0,xs:!0,key:"SummaryCard-"+a.props.index+"-"+n},r.default.createElement(i.default,{style:{height:"100%",border:"1px solid",borderColor:d.palette.primary.main,borderRadius:"0px",backgroundColor:d.palette.background.paper}},r.default.createElement(c.CardContent,{classes:{root:u.cardContentOverwrite}},r.default.createElement("div",{className:u.cardContent},r.default.createElement("span",{className:u.insideHeader},e),r.default.createElement(s.default,{variant:"body2",className:u.insideInfo},t)))))},a.generateGrid=function(){var e=a.props.classes,t=r.default.createElement("b",null,"$ ");void 0!==a.payment&&void 0!==a.payment.paymentAmount&&(t=r.default.createElement("b",null,"$ ",(0,u.formatter)(a.payment.paymentAmount)));var n=r.default.createElement("b",null);void 0!==a.payment.documentNumber&&(n=r.default.createElement("b",null,a.payment.documentNumber));var o=[n,t],i=["Document Number","Amount"],l=r.default.createElement("div",{className:e.headerText},"PAYMENT",r.default.createElement("br",null),"INFO"),s=[];s.push(a.getGridHeader(l));for(var c=0;c<o.length;c++)s.push(a.getGridItem(o[c],i[c],c));return s},a.props=e,a.payment=a.props.summary,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.theme);return r.default.createElement("div",{style:{height:"100%",backgroundColor:t.palette.background.paper,color:"white",paddingTop:"2%"}},r.default.createElement(l.default,{container:!0},this.generateGrid()))}}]),t}();f.defaultProps={summary:{}},f.propTypes=p,t.default=(0,c.withStyles)(function(e){return{header:{flexGrow:1,display:"flex",flexWrap:"wrap",justifyContent:"center !important"},cardContentOverwrite:{padding:12,"&:last-child":{paddingBottom:9,paddingTop:9}},cardContent:{flexGrow:1,display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"space-between !important",textAlign:"center"},headerText:{color:e.palette.common.white,fontSize:"0.9rem"},insideHeader:{color:e.palette.common.white,fontWeight:"100",fontSize:"1rem",paddingLeft:"5%"},insideInfo:{paddingLeft:"5%"}}},{withTheme:!0})(f)},5888:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=(n=r)&&n.__esModule?n:{default:n},l=a(27);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getIconStyle=function(e){var t=a.props.classes;if(!e)return null;switch(e=e.toUpperCase()){case"VOICEMAIL":return i.default.createElement("img",{className:t.iconBorder,src:"/tovo/static/communication_voicemail.svg"});case"MAIL":return i.default.createElement("img",{className:t.iconBorder,src:"/tovo/static/communication_email.svg"});case"CALL":return i.default.createElement("img",{className:t.iconBorder,src:"/tovo/static/communication_call_icon.svg"});case"DOLLAR":default:return i.default.createElement("img",{className:t.iconBorder,src:"/tovo/static/dollar.svg"})}},a.props=e,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"render",value:function(){var e=this.props.icon;return this.getIconStyle(e)}}]),t}();s.defaultProps={icon:""},t.default=(0,l.withStyles)(function(e){return{iconBorder:{width:"1.6rem",height:"1.6rem"}}},{withTheme:!0})(s)},5889:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(71),r=D(a(3)),i=D(a(0)),l=a(13),s=(D(a(6)),a(56)),c=a(47),u=a(30),d=D(a(24)),m=D(a(5890)),p=a(27),f=D(a(32)),h=D(a(55)),g=(D(a(39)),D(a(38)),D(a(5902))),v=D(a(95)),y=D(a(109)),b=D(a(137)),C=D(a(74)),E=D(a(33)),S=D(a(41)),w=D(a(5903)),x=D(a(5550)),T=D(a(5908)),N=D(a(135)),k=D(a(136)),I=a(5475),A=a(35),O=a(26),P=a(87),R=a(242);function D(e){return e&&e.__esModule?e:{default:e}}function _(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var M={voicemailMessage:"",callDuration:0,toCallCustomers:null,nextCustomerUrl:null,onHangup:O.emptyFunction,invoices:[],initialTranscription:"",user:{},transcription:{},customer:{}},L=(r.default.string,r.default.number,r.default.func,r.default.array,r.default.string,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.snackMessageQueue=[],a._isMounted=!1,a.deleteAction=function(e){var t=a.state.summary.filter(function(t){return t.id!=e}),n=a.state.summaryCompletionMap;n.delete(e),console.log(n),a.setState({summary:t,summaryCompletionMap:n})},a.markSummaryAsDone=function(e){var t=a.state.summaryCompletionMap,n=a.state.summary;for(var o in n)if(n[o].id==e){n[o].save=!0;break}a.setState({summary:n}),t.set(e,!0),a.setState({summaryCompletionMap:t})},a.updateActionItemCheck=function(e){a.setState({notes:[].concat(_(a.state.notes),[e]),isAnyActionCompleted:!0})},a.savePostCallThings=function(){(0,P.checkSummaryCompleteMap)(a.state.summaryCompletionMap)?a.setState({doReviewDialogOpen:!0}):(a.props.closeAddContactDialog(),a.state.nonActionNotes&&a.state.nonActionNotes.trim()?a.setState({notes:[].concat(_(a.state.notes),[a.state.nonActionNotes.trim()]),nonActionIncluded:!0},function(){a.saveCallLog()}):a.saveCallLog())},a.saveNotesChanges=function(){a.setState({isEditingOn:!1,prevNonActionNotes:a.state.nonActionNotes},function(){a.blurNonActionNotesBox()})},a.discardNotesChanges=function(){a.setState({isEditingOn:!1,nonActionNotes:a.state.prevNonActionNotes},function(){a.blurNonActionNotesBox()})},a.openSnackbar=function(e){a.snackMessageQueue.push({message:O.SNACK_MESSAGES[e],key:(new Date).getTime()}),a.state.snackOpen?a.setState({snackOpen:!1}):a.processQueue()},a.processQueue=function(){a.snackMessageQueue.length>0&&a.setState({snackMessage:a.snackMessageQueue.shift(),snackOpen:!0})},a.handleNonactionNotesChange=function(e){a.setState({nonActionNotes:e.target.value})},a.updateNotes=function(e){a.setState({nonActionNotes:e})},a.closeSnackbar=function(e,t){"clickaway"!==t&&a.setState({snackOpen:!1})},a.handleSnackbarExit=function(){a.processQueue()},a.handleActionItemClick=function(e){var t=(0,A.createAction)(e);if(console.log("Action created",t),t){var n=a.state.summary.length;t.id=n>0?a.state.summary[n-1].id+1:1,t.save=!1,t.created=!0;var o=a.state.summaryCompletionMap;o.set(t.id,!1),a.setState({summary:[].concat(_(a.state.summary),[t]),summaryCompletionMap:o},function(){var e=document.getElementById("action-summary-grid-container");e&&(e.scrollTop=e.scrollHeight)})}a.closeActionCreatorDialog()},a.closeReviewWarningDialog=function(){a.setState({doReviewDialogOpen:!1})},a.handleActionCreation=function(){a.setState({doOpenNewActionDialog:!0})},a.closeActionCreatorDialog=function(){a.setState({doOpenNewActionDialog:!1})},a.updateSummaryFromChild=function(e,t){var n=a.state.summary;for(var o in n)if(n[o].id==t){n[o].summary=e;break}a.setState({summary:n})},a.updateInvoices=function(e,t){var n=Object.create(a.state.summary),o=[];for(var r in n)if(n[r].id==t){for(var i in e)o.push(e[i].documentNumber);n[r].entities.invoice=o;break}a.setState({summary:n})},a.editNonActionNotes=function(){a.setState({isEditingOn:!0},function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.focus()},500)})},a.blurNonActionNotesBox=function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.blur()},500)},a.initializeSummaryWithDefaults=function(e){if("[]"===e)a.setState({summary:[]});else{var t=(0,P.appendIdsToSummary)(e),n=(0,P.createSummaryCompletionMap)(e),o=(0,P.createInitialNonActionSummaryNotes)(e,a.props.voicemailMessage);a.setState({summary:t,summaryCompletionMap:n,nonActionNotes:o})}},a.saveCallLog=function(){var e=(0,P.generateNotesAsString)(a.state.notes),t=a.props.callLogState,n=a.props.customer,r={};null===t.contactId?r=null:r.id=t.contactId;var i={id:t.id,callSummary:a.props.transcription.transcription,duration:a.props.callDuration,contact:r,note:{customerId:n.id,noteContent:e}};I.callService.editCallLog(i).then(function(e){a.setState({openProgressBar:!1,isPostCallDone:!0}),o.store.dispatch((0,c.changeTranscription)({transcription:""}))}).catch(function(e){a.setState({openProgressBar:!1,isPostCallDone:!0})})},a.genSummaryActionCards=function(e){var t=e.intent;if((0,A.isActionIntent)(t))return i.default.createElement(v.default,{in:!0,key:e.id},i.default.createElement(m.default,{onDelete:function(e){return a.deleteAction(e)},onActionItemConfirm:a.updateActionItemCheck,summary:e,style:{width:"100%",marginBottom:"0.7rem"},intentType:t,allInvoiceList:a.props.invoices,customer:a.props.customer,calledToName:a.props.calledToName,calledToNumber:a.props.calledToNumber,completed:function(){return a.markSummaryAsDone(e.id)},bucketNames:a.props.bucketNames,contactLog:a.props.callLogState,callState:a.props.callState,followupTextList:a.state.followupTextList,reasonCodeList:a.state.reasonCodeList,expandAddContactDialog:a.props.expandAddContactDialog,openSnackbarOnAction:function(e){return a.openSnackbar(e)},updateInvoicesInParent:function(t){return a.updateInvoices(t,e.id)},updateSummaryInParent:function(t){a.updateSummaryFromChild(t,e.id)}}))},a.props.onHangup(),console.log(a.props.nextCustomerUrl,"next customer url"),a.nextCustomeText="GO TO NEXT CUSTOMER",a.nextCustomerUrl=a.props.nextCustomerUrl,a.nextCustomerUrl||(a.nextCustomerUrl="/",a.nextCustomeText="GO BACK TO HOME PAGE"),console.log(a.props.toCallCustomers,"to call customers"),a.state={date:new Date,isEditingOn:!1,summary:"",transcription:a.props.initialTranscription,openProgressBar:!1,doOpenNewActionDialog:!1,isAnyActionCompleted:!1,doReviewDialogOpen:!1,notes:[],isPostCallDone:!1,summaryCompletionMap:new Map,nonActionNotes:"",snackMessage:{},snackOpen:!1,followupTextList:[],reasonCodeList:[],nonActionIncluded:!1,openAddContactDialog:!0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),n(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,R.commonService.getDisputeCodes().then(function(t){e._isMounted&&e.setState({reasonCodeList:t||[]})}).catch(function(e){console.log("Failed to load dispute codes",e)}),R.commonService.getTaskTypes().then(function(t){e._isMounted&&e.setState({followupTextList:t||[]})}).catch(function(e){console.log("Failed to load Follow up text list",e)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.transcription.summary,a=e.transcription.transcription,n=this.props.transcription.transcription;console.log("Summary received in Post Call",JSON.stringify(t)),a&&a!==n&&(console.log("Updating transcription",a),this.setState({transcription:a})),JSON.stringify(t)!==JSON.stringify(this.state.summary)&&this.initializeSummaryWithDefaults(t)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.customer,o=t.user,r=t.calledToName,l=(0,A.getInitialsFromName)(r);(0,A.getInitialsFromName)(o.name);return i.default.createElement("div",{className:a.appFrame},i.default.createElement(N.default,null),i.default.createElement(k.default,null),i.default.createElement("div",{className:a.root},i.default.createElement(d.default,{container:!0},i.default.createElement(d.default,{item:!0,container:!0,alignItems:"flex-start"},i.default.createElement(d.default,{item:!0,xs:10},i.default.createElement("div",{style:{display:"flex",alignItems:"center"}},i.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"left"}},i.default.createElement(p.Typography,{variant:"h2",className:a.customerName},n.customerName),i.default.createElement(p.Typography,{variant:"subtitle2",color:"primary"},n.customerNumber)))),i.default.createElement(d.default,{item:!0,container:!0,xs:2,justify:"flex-end",style:{marginLeft:"-8.33vw"}},i.default.createElement("div",{style:{margin:"0px 0 0 0",display:"flex",alignItems:"center"}},i.default.createElement(d.default,{item:!0,align:"right"},!this.state.isPostCallDone&&i.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"right",height:"4.444vh"}},i.default.createElement(y.default,{variant:"extended",onClick:this.savePostCallThings,color:"primary","aria-label":"Add",size:"small",disabled:!this.state.summary,className:a.button},i.default.createElement(p.Typography,{variant:"body1"},"Done"))),this.state.isPostCallDone&&i.default.createElement(s.Link,{style:{textDecoration:"none"},onClick:O.emptyFunction,to:{pathname:this.nextCustomerUrl,state:{toCallCustomers:this.props.toCallCustomers}}},i.default.createElement(p.Typography,{variant:"body1",className:a.nextCustomerUrl},this.nextCustomeText)))))),!this.state.isPostCallDone&&i.default.createElement(d.default,{item:!0,container:!0,className:a.postCallCardGrid},i.default.createElement(d.default,{item:!0,xs:8,className:a.paddingRightOnCard},i.default.createElement("div",null,i.default.createElement(p.Typography,{variant:"h5"},"SUGGESTED ACTIONS")),i.default.createElement(d.default,{item:!0,xs:12,style:{height:"auto",maxHeight:"74.7vh",overflowY:"auto"},id:"action-summary-grid-container"},this.state.summary&&this.state.summary.map(function(t){return e.genSummaryActionCards(t)}),!this.state.summary&&i.default.createElement("div",{stlye:{height:"100%"}},i.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"70vh"}},i.default.createElement(h.default,null),i.default.createElement(p.Typography,{style:{color:"white",marginTop:"1.3rem"}},"Generating call summary")))),this.state.summary&&i.default.createElement(f.default,{style:{width:"100%"},color:"primary",className:a.actionButton,variant:"contained",onClick:function(){e.handleActionCreation()}},i.default.createElement(p.Typography,{variant:"h5",color:"text.primary"},"+ CREATE NEW ACTION"))),i.default.createElement(d.default,{item:!0,container:!0,xs:4,alignItems:"center",style:{height:"86.29vh"}},i.default.createElement(x.default,{className:a.transcriptBox,autoScroll:Boolean(!1),transcriptTitleClassName:a.transcriptTitle,transcriptChatProps:{transcription:this.state.transcription,calledToNameInitials:l,userInitials:"ME",transcriptGridID:"post-call-transcription-grid"}}),i.default.createElement(d.default,{item:!0,xs:12,className:a.summaryBox},i.default.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},this.state.summary&&i.default.createElement(T.default,{initialNotes:this.state.nonActionNotes,onNotesChange:function(t){return e.updateNotes(t)}}),!this.state.summary&&i.default.createElement("div",{stlye:{height:"100%"}},i.default.createElement("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"20vh"}},i.default.createElement(h.default,{style:{color:"#eeeeee"}}),i.default.createElement(p.Typography,{style:{color:"#eeeeee",marginTop:"1.3rem"}},"Waiting for summary"))))))),this.state.isPostCallDone&&i.default.createElement(d.default,{item:!0,container:!0,xs:12,className:a.postCallCardGrid},i.default.createElement(g.default,{invoiceList:(0,A.generateFinalInvoiceList)(this.state.summary,this.props.invoices),summaryNotes:this.state.notes,nonActionIncluded:this.state.nonActionIncluded,nextCustomerUrl:this.props.nextCustomerUrl,toCallCustomers:this.props.toCallCustomers,customer:this.props.customer,collector:this.props.collector,contactIndex:this.props.contactIndex})),i.default.createElement(w.default,{open:this.state.doOpenNewActionDialog,onClose:this.closeActionCreatorDialog,onActionItemClick:function(t){return e.handleActionItemClick(t)}}),i.default.createElement(b.default,{open:this.state.doReviewDialogOpen,onClose:this.closeReviewWarningDialog,title:O.REVIEW_WARNING,actions:[i.default.createElement(f.default,{onClick:this.closeReviewWarningDialog,color:"secondary"},"OK")]}),i.default.createElement(C.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage.key,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:i.default.createElement("span",{id:this.state.snackMessage.key},this.state.snackMessage.message),action:[i.default.createElement(E.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar,onExited:this.handleSnackbarExit},i.default.createElement(S.default,null))]}))))}}]),t}());L.defaultProps=M;t.default=(0,u.connect)(function(e){return{user:e.personalDetails,callState:e.callState,transcription:e.transcription,callLogState:e.callLogState}})((0,l.withStyles)(function(e){return{appFrame:{overflowX:"hidden",display:"flex",flexDirection:"row",maxHeight:"100vh",width:"100%"},root:{margin:"1.12vh 1.041vw 0em 1.041vw",backgroundColor:e.palette.background.main,width:"100%"},transcriptBox:{height:"58.98vh",borderRadius:"4px",backgroundColor:e.palette.background.default,marginBottom:"1.85vh"},summaryBox:{height:"25.50vh",padding:"0.8rem",borderRadius:"4px",display:"flex",backgroundColor:e.palette.background.default},transcriptTitle:{fontSize:"1.1rem",color:e.palette.text.primary,paddingLeft:".8rem",paddingTop:".8rem",opacity:.65,position:"absolute"},customerName:{lineHeight:"2.1rem"},button:{fontSize:"0.5rem",width:"7.2922vw",boxShadow:"none",minHeight:"4.4444vh",padding:0},heading:{color:e.palette.text.primary,fontSize:"1.067rem",opacity:.5,paddingBottom:"1.94vh"},nextCustomerUrl:{height:"4.4444vh",display:"flex",alignItems:"center"},actionButton:{boxShadow:"none",fontSize:"1.111rem","&:hover, &$focusVisible":{backgroundColor:e.palette.primary.light},height:"6.48vh"},postCallCardGrid:{marginTop:"2.037vh"},paddingRightOnCard:{paddingRight:"1.041vw"}}},{withTheme:!0})(L))},5890:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=b(r),l=b(a(3)),s=a(13),c=b(a(5891)),u=b(a(5897)),d=b(a(5898)),m=b(a(5899)),p=b(a(130)),f=b(a(131)),h=b(a(167)),g=b(a(153)),v=a(26),y=a(87);function b(e){return e&&e.__esModule?e:{default:e}}var C={onDelete:v.emptyFunction,onActionItemConfirm:v.emptyFunction,summary:{entities:[],summary:""},allInvoiceList:[],style:{},intentType:"",completed:v.emptyFunction,followupTextList:[],reasonCodeList:[],openSnackbarOnAction:v.emptyFunction,updateInvoicesInParent:v.emptyFunction,updateSummaryInParent:v.emptyFunction},E={classes:l.default.object.isRequired,onDelete:l.default.func,onActionItemConfirm:l.default.func,summary:l.default.object,style:l.default.object,intentType:l.default.string,completed:l.default.func,followupTextList:l.default.array,reasonCodeList:l.default.array,openSnackbarOnAction:l.default.func,updateInvoicesInParent:l.default.func,updateSummaryInParent:l.default.func},S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.call(a);var n=a.props.summary.entities.invoice,o=a.genInitialInvoiceData(n);a.extractedData=(0,y.extractDataFromSummary)(a.props.summary.summary,a.props.intentType);var r=o.correctInvoices,i=o.correctInvoicesMap,l=o.incorrectFlag,s=o.invoiceCount;return a.state={expanded:!1,amount:0,invoices:n,summary:a.props.summary,correctInvoices:r,correctInvoicesMap:i,incorrectFlag:l,invoiceCount:s},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.intentType,r=this.getCommonProps();return i.default.createElement(p.default,{classes:{root:a.expansionPanelRoot},expanded:this.state.expanded,className:a.panel},i.default.createElement(f.default,{className:this.state.expanded?a.expandedBackground:a.panelCommon,classes:{content:a.summaryContent},expandIcon:o!==v.INTENT_TYPES.FOLLOW_UP&&i.default.createElement(g.default,{onClick:this.toggleExpand,className:a.expandIcon})},o===v.INTENT_TYPES.P2P&&i.default.createElement(c.default,n({incorrectFlag:this.state.incorrectFlag,totalAmount:this.state.amount,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices},r)),o===v.INTENT_TYPES.DISPUTE&&i.default.createElement(u.default,n({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices,reasonCodes:this.props.reasonCodeList},r)),o===v.INTENT_TYPES.FOLLOW_UP&&i.default.createElement(d.default,n({incorrectFlag:this.state.incorrectFlag,summary:this.state.summary,followupTextList:this.props.followupTextList},r))),i.default.createElement(h.default,{className:a.panelCommon},i.default.createElement(m.default,{extractedData:this.extractedData,intentType:o,invoiceCount:this.state.invoiceCount,correctInvoices:this.state.correctInvoices,correctInvoicesMap:this.state.correctInvoicesMap,incorrectFlag:this.state.incorrectFlag,onUpdateInvoice:this.updateInvoices,done:this.state.completed,invoices:this.props.allInvoiceList,bucketNames:this.props.bucketNames,updateInvoices:function(t,a){e.updateCorrectInvoices(t,a)}})))}}]),t}(),w=function(){var e=this;this.toggleExpand=function(){e.setState({expanded:!e.state.expanded})},this.genInitialInvoiceData=function(t){var a,n=[],o={},r=!1,i=e.props.allInvoiceList;if(t)for(var l=0;l<t.length;l++){for(var s=!1,c=0;c<i.length&&!s;c++)for(var u=0;u<i[c].length;u++){var d=i[c][u];if(t[l]==d.documentNumber){n.push(d),o[d.id]=!0,s=!0;break}}if(!s){var m=Object.create({id:t[l]+"incorrect",documentNumber:t[l]});n.push(m),r=!0}}return a=n.length,Object.freeze({correctInvoices:n,correctInvoicesMap:o,incorrectFlag:r,invoiceCount:a})},this.getCommonProps=function(){return Object.assign({customer:e.props.customer,callToName:e.props.calledToName,calledToNumber:e.props.calledToNumber,contactLog:e.props.contactLog,onActionItemConfirm:e.props.onActionItemConfirm,deleteAction:e.props.onDelete,extractedData:e.extractedData,onCompletion:e.markThisComplete,toggleExpand:e.toggleExpand,openSnackbarOnAction:function(t){return e.props.openSnackbarOnAction(t)},updateSummaryInParent:function(t){e.props.updateSummaryInParent(t,e.state.correctInvoices)},expandAddContactDialog:e.props.expandAddContactDialog})},this.updateCorrectInvoices=function(t,a){e.setState({correctInvoices:t,correctInvoicesMap:a},function(){e.props.updateInvoicesInParent(t)})},this.updateInvoices=function(t,a){e.setState({incorrectFlag:t,invoiceCount:a})},this.markThisComplete=function(){e.setState({completed:!0,expanded:!1}),e.props.completed()}};S.propTypes=E,S.defaultProps=C,t.default=(0,s.withStyles)(function(e){return{panel:{width:"100%",backgroundColor:e.palette.background.paper},expandedBackground:{backgroundColor:e.palette.primary.dark,filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))",padding:"0 !important"},panelCommon:{padding:"0 !important",borderRadius:"5px",filter:"drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.2))"},expandIcon:{color:e.palette.primary.main},expansionPanelRoot:{boxShadow:"none !important",borderRadius:"4px !important",marginBottom:"0.83vh"},summaryContent:{minHeight:"6.48vh",margin:"0"}}},{withTheme:!0})(S)},5891:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=D(r),l=D(a(32)),s=D(a(3)),c=D(a(6)),u=a(13),d=a(63),m=D(a(5547)),p=a(5552),f=a(27),h=D(a(209)),g=D(a(21)),v=D(a(77)),y=D(a(128)),b=D(a(38)),C=D(a(39)),E=D(a(238)),S=D(a(24)),w=D(a(55)),x=D(a(137)),T=a(26),N=a(243),k=a(48),I=a(35),A=D(a(28)),O=D(a(29)),P=a(87),R=a(30);function D(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}var M=(0,f.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:h.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:h.default.A700},selected:{backgroundColor:h.default[400]},current:{color:h.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important",marginBottom:".8vh"}},MuiPickersModal:{dialogAction:{color:h.default[400]}}}}),L={incorrectFlag:!1,summary:Object.assign(T.BASE_SUMMARY_TEMPLATE),totalAmount:0,invoiceCount:0,correctInvoices:[],contactLog:{},customer:{id:""},onActionItemConfirm:T.emptyFunction,deleteAction:T.emptyFunction,extractedData:[],onCompletion:T.emptyFunction,toggleExpand:T.emptyFunction,openSnackbarOnAction:T.emptyFunction,updateSummaryInParent:T.emptyFunction},F={incorrectFlag:s.default.bool,summary:s.default.object,totalAmount:s.default.number,invoiceCount:s.default.number,correctInvoices:s.default.array,onActionItemConfirm:s.default.func,deleteAction:s.default.func,extractedData:s.default.array,onCompletion:s.default.func,toggleExpand:s.default.func,openSnackbarOnAction:s.default.func,updateSummaryInParent:s.default.func},B=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));j.call(a);var n=a.props.extractedData,o=n[0]?n[0].match(/[0-9]{1,}/):0,r={},i=new Date(n[1]);return"[object Date]"===Object.prototype.toString.call(i)&&"Invalid Date"!==i.toString()&&i.getDate()>=(new Date).getDate()&&(r={maxWidth:"5.35rem"}),a.state={readOnly:!!o,isEditing:!o,prevAmount:"",amount:o?o[0]:"",selectedDate:i,invoiceCount:a.props.invoiceCount,openActionSave:!1,snackBarOpen:!1,snackBarMessage:"",openWarningDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,N.format)(i,"MMM dd, yyyy"):"",actionSaveProgressBar:!1,incorrectFlag:a.props.incorrectFlag,invalidDataNotifierMessage:"",openInvalidDataNotifier:!1,summary:a.props.summary,isAmountInvalid:!o,maxWidthDate:r},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!==this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"componentWillUnmount",value:function(){this.updateSummary()}},{key:"render",value:function(){var e=this;console.log("P2P summary",this.props.summary);var t=this.props,a=t.classes,n=t.fullScreen,o=t.theme;return i.default.createElement(S.default,{container:!0,className:a.invoiceSample},i.default.createElement(S.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},i.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&i.default.createElement(w.default,{className:a.actionProgressBar}),this.state.isDone&&i.default.createElement(d.Done,{style:{color:o.status.safe,paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),i.default.createElement(S.default,{item:!0,xs:11,md:11,lg:11,container:!0,alignItems:"center",justify:"flex-start"},i.default.createElement(S.default,{item:!0},this.state.isDone&&i.default.createElement(g.default,{variant:"body1"},"Created  ")),i.default.createElement(S.default,{item:!0},!this.state.isDone&&i.default.createElement(g.default,{variant:"body1"},"Create  ")),i.default.createElement(S.default,{item:!0},i.default.createElement(g.default,{variant:"body1",style:{fontWeight:"bold"}},"P2P  ")),i.default.createElement(S.default,{item:!0},i.default.createElement(g.default,{variant:"body2"},"of  ")),(!this.state.readOnly||""==this.state.amount)&&i.default.createElement(S.default,{item:!0,style:{width:"7rem"}},i.default.createElement(v.default,{id:"invoice-amount-field-"+this.state.actionId,className:a.textField,value:this.state.amount,onChange:function(t){return e.handleInvoiceCurrencyChange(t)},margin:"normal",padding:"normal",InputProps:{className:this.state.isAmountInvalid?(0,c.default)(a.borderFirst,a.inputFieldText):(0,c.default)(a.borderSecond,a.inputFieldText),inputComponent:this.state.isEditing?U:this.FormattedCurrencyInput}})),this.state.readOnly&&""!=this.state.amount&&i.default.createElement(S.default,{item:!0,className:a.inputFieldText},(0,k.customCurrencyFormatter)(this.state.amount,"$")),i.default.createElement(S.default,{item:!0},!this.state.isEditing&&!this.state.isDone&&i.default.createElement(d.BorderColor,{className:a.cardIcon,style:{marginLeft:"6px"},onClick:this.toggleEditing}),this.state.isEditing&&!this.state.isDone&&i.default.createElement("div",null,i.default.createElement(d.HighlightOff,{style:{marginLeft:"0.4rem",color:o.status.warning,padding:"0 1.3rem 0 0.8rem"},className:this.state.prevAmount?"":a.disableDoneBtn,onClick:this.state.prevAmount?this.dismissAmountChanges:T.emptyFunction}),i.default.createElement(d.CheckCircleOutline,{style:{color:o.status.safe},className:this.state.isAmountInvalid?a.disableDoneBtn:"",onClick:this.state.isAmountInvalid?T.emptyFunction:this.saveInvoiceAmountChange}))),i.default.createElement(S.default,{item:!0},i.default.createElement(g.default,{variant:"body2"},"  with due date of  ")),i.default.createElement(S.default,{item:!0}," ",this.state.isDone&&i.default.createElement(g.default,{variant:"body1"},this.state.finalSelectedDate)),i.default.createElement(S.default,{item:!0,style:{display:"flex",maxWidth:"14em"}},!this.state.isDone&&i.default.createElement(p.MuiPickersUtilsProvider,{utils:m.default},i.default.createElement(f.MuiThemeProvider,{theme:M},i.default.createElement(p.DatePicker,{style:this.state.maxWidthDate,allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:T.MIN_DATE_MESSAGE,InputProps:{id:"date-input-field-"+this.state.actionId,className:(0,c.default)(a.inputFieldText,a.borderSecond),readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),i.default.createElement(d.DateRange,{className:a.cardIcon,onClick:this.openPicker})))),i.default.createElement(S.default,{item:!0,align:"left"},0!==this.state.invoiceCount&&i.default.createElement("div",{style:{alignItems:"center",display:"flex"}},i.default.createElement(g.default,{variant:"body2"},!this.state.isEditing&&i.default.createElement("span",null," "),"towards "),i.default.createElement(g.default,{variant:"body2",style:{fontWeight:"bold"},onClick:this.props.toggleExpand},(0,P.getFormattedInvoiceCount)(this.state.invoiceCount)),this.state.incorrectFlag&&i.default.createElement(y.default,{className:a.errorFlag}))))),i.default.createElement(x.default,{fullScreen:n,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:T.COMMON_ACTION_INFO_MESSAGES.DISCARD_MESSAGE,actions:[i.default.createElement(l.default,{onClick:this.closeActionDiscardDialog,color:"secondary"},"Disagree"),i.default.createElement(l.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),i.default.createElement(x.default,{fullScreen:n,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:T.COMMON_ACTION_INFO_MESSAGES.RESOLVE_MESSAGE,actions:[i.default.createElement(l.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),i.default.createElement(x.default,{fullScreen:n,open:this.state.openInvalidDataNotifier,onClose:this.closeInvalidDataNotifier,title:this.state.invalidDataNotifierMessage,actions:[i.default.createElement(l.default,{onClick:this.closeInvalidDataNotifier,color:"secondary",autoFocus:!0},"OK")]}),i.default.createElement(S.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&i.default.createElement("div",null,i.default.createElement(d.HighlightOff,{style:{color:o.status.warning,padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),i.default.createElement(d.CheckCircleOutline,{style:{color:o.status.safe},className:this.checkInvalidation()?"":a.disableDoneBtn,onClick:this.checkInvalidation()?this.saveP2P:T.emptyFunction}))))}}]),t}(),j=function(){var e=this;this.handleInvoiceCurrencyChange=function(t){e.setState({amount:t.target.value,amountFormatted:t.target.value,isAmountInvalid:!1},function(){e.state.amount||e.setState({isAmountInvalid:!0})})},this.openDataInvalidDialog=function(t){e.setState({openInvalidDataNotifier:!0,invalidDataNotifierMessage:t})},this.closeInvalidDataNotifier=function(){e.setState({openInvalidDataNotifier:!1})},this.closeSnackbar=function(){e.setState({snackBarOpen:!1})},this.validateP2PData=function(){var t=e.state.amount;return Number(t)<1?(e.openDataInvalidDialog("Please enter amount > 0."),!1):!!(0,I.isValidDate)(e.state.selectedDate)||(e.openDataInvalidDialog("Found invalid date. Please correct the date to proceed."),!1)},this.checkInvalidation=function(){return!e.state.isAmountInvalid&&!e.state.incorrectFlag&&(0,I.isValidDate)(e.state.selectedDate)},this.generateActionSummary=function(){var t=e.state.invoiceCount,a=e.state.selectedDate,n=(0,N.format)(a,"MM-dd-yyyy");return T.P2P_TEMPLATES.P2P_FINAL_GEN_Template.replace("<Amount>","$"+(0,I.formatCurrencyToUSFormat)(e.state.amount)).replace("<Date>",n).replace("<Invoices>",0===t?"":1===t?"for "+t+" invoice":"for "+t+" invoices")},this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.dismissAmountChanges=function(){var t=e.state;console.log(t),e.setState({amount:t.prevAmount,readOnly:!0,isEditing:!1});var a=document.getElementById("invoice-amount-field-"+e.state.actionId);a&&a.blur()},this.openPicker=function(t){e.picker.open(t)},this.updateSummary=function(){var t=e.state.invoiceCount,a=(0,I.formatDateWithTimezone)(new Date(e.state.selectedDate),"-06:00"),n=T.P2P_TEMPLATES.P2P_ORIG_TEMPLATE.replace("<Amount>",e.state.amount?e.state.amount:"<amount-of-money>").replace("<Date>",a).replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices");e.props.updateSummaryInParent(n)},this.saveInvoiceAmountChange=function(){e.setState({prevAmount:e.state.amount,readOnly:!0,isEditing:!1},function(){e.updateSummary()});var t=document.getElementById("invoice-amount-field-"+e.state.actionId);t&&t.blur()},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){var t=document.getElementById("invoice-amount-field-"+e.state.actionId);t&&(console.log("Focus is running"),t.focus())})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary(),"[object Date]"===Object.prototype.toString.call(e.state.selectedDate)&&"Invalid Date"!==e.state.selectedDate.toString()&&e.state.selectedDate.getDate()>=(new Date).getDate()&&e.setState({maxWidthDate:{maxWidth:"5.35rem"}})})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.FormattedCurrencyInput=function(t){var a=t.inputRef,o=t.onChange,r=_(t,["inputRef","onChange"]);return i.default.createElement(E.default,n({},r,{getInputRef:a,onValueChange:function(e){o({target:{value:e.value}})},format:function(t){return(0,k.customCurrencyFormatter)(e.state.amount,"$")},decimalScale:8,allowNegative:!1}))},this.saveP2P=function(){if(e.props.expandAddContactDialog())console.log("trying to toggle");else if(e.validateP2PData())if(e.state.incorrectFlag)e.setState({openWarningDialog:!0});else{var t=e.props.contactLog.contact&&e.props.contactLog.contact.id?e.props.contactLog.contact.id:e.props.addContactStatus.id?e.props.addContactStatus.id:null,a=e.props.contactLog.callingNumber,n=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t});e.setState({actionSaveProgressBar:!0,isEditing:!1,readOnly:!0});var o={committedAmount:e.state.amount,committedBy:{id:t,phoneNumber:a},committedDate:new Date(e.state.selectedDate),committedOn:new Date,currency:"$",customerId:e.props.customer.id,pcItems:n};b.default.post(C.default.apiUrl+"/customer/"+e.props.customer.id+"/p2p",o).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR",t),e.setState({actionSaveProgressBar:!1,isDone:!1})})}}};function U(e){var t=e.inputRef,a=e.onChange,o=_(e,["inputRef","onChange"]);return i.default.createElement(E.default,n({},o,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$",allowNegative:!1,decimalScale:8}))}U.propTypes={inputRef:s.default.func.isRequired,onChange:s.default.func.isRequired},B.propTypes=F,B.defaultProps=L;var H=(0,A.default)(function(e){return{textField:{fontSize:"0.875rem",fontWeight:"bold",color:e.palette.text.primary,margin:0}}},O.default);t.default=(0,R.connect)(function(e){return{addContactStatus:e.contactReducer}})((0,u.withStyles)(H,{withTheme:!0})(B))},5897:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=w(r),l=w(a(32)),s=w(a(3)),c=a(13),u=a(63),d=w(a(21)),m=w(a(128)),p=w(a(24)),f=w(a(73)),h=w(a(86)),g=(w(a(77)),w(a(55))),v=w(a(137)),y=a(26),b=w(a(28)),C=w(a(29)),E=a(87),S=a(242);function w(e){return e&&e.__esModule?e:{default:e}}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var T=(x(n={incorrectFlag:!1,summary:Object.assign(y.BASE_SUMMARY_TEMPLATE),invoiceCount:0,correctInvoices:[],onActionItemConfirm:y.emptyFunction,deleteAction:y.emptyFunction,extractedData:[],reasonCodes:[],onCompletion:y.emptyFunction,toggleExpand:y.emptyFunction,openSnackbarOnAction:y.emptyFunction,updateSummaryInParent:y.emptyFunction,customer:{}},"extractedData",[]),x(n,"incorrectFlag",!1),n),N={incorrectFlag:s.default.bool,summary:s.default.object,reasonCodes:s.default.array,invoiceCount:s.default.number,correctInvoices:s.default.array,onActionItemConfirm:s.default.func,deleteAction:s.default.func,extractedData:s.default.array,onCompletion:s.default.func,toggleExpand:s.default.func,openSnackbarOnAction:s.default.func,updateSummaryInParent:s.default.func},k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));I.call(a);var n=a.props.extractedData,o=n[1]?n[1].substring(11):"";return a.props.reasonCodes.indexOf(o)<0&&(o=""),a.state={reasonCode:o,invoiceCount:a.props.invoiceCount,openActionSave:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:"",change:!1,doOpenInfoMessageDialog:!1,infoMessage:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({incorrectFlag:e.incorrectFlag}),e.invoiceCount>=0&&e.invoiceCount!=this.state.invoiceCount&&this.setState({invoiceCount:e.invoiceCount},function(){t.updateSummary()})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=e.fullScreen,o=e.reasonCodes.map(function(e,t){return i.default.createElement(h.default,{key:t,value:e},i.default.createElement(d.default,{variant:"body1",noWrap:!0},e))});return i.default.createElement(p.default,{container:!0,className:t.invoiceSample},i.default.createElement(p.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},i.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&i.default.createElement(g.default,{className:t.actionProgressBar}),this.state.isDone&&i.default.createElement(u.Done,{style:{color:a.status.safe,paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),i.default.createElement(p.default,{item:!0},this.state.isDone&&i.default.createElement(d.default,{variant:"body1"},"Created  ")),i.default.createElement(p.default,{item:!0},!this.state.isDone&&i.default.createElement(d.default,{variant:"body1"},"Create  ")),i.default.createElement(p.default,{item:!0},i.default.createElement(d.default,{variant:"body1",style:{fontWeight:"bold"}},"DISPUTE  ")),i.default.createElement(p.default,{item:!0},0!==this.state.invoiceCount&&i.default.createElement("div",{style:{alignItems:"center",display:"flex"}},i.default.createElement(d.default,{variant:"body2",style:{margin:"0 8px 0 6px"}},"for"),i.default.createElement(d.default,{style:{fontWeight:"bold"},variant:"body2",onClick:this.props.toggleExpand},(0,E.getFormattedInvoiceCount)(this.state.invoiceCount)),this.props.incorrectFlag&&i.default.createElement(m.default,{className:t.errorFlag}))),i.default.createElement(p.default,{item:!0},i.default.createElement(d.default,{variant:"body2"},"  with reason code of  ")),i.default.createElement(p.default,{item:!0,hidden:this.state.isDone},i.default.createElement(f.default,{id:"reason-code-field",value:this.getReasonCode(),onChange:this.handleReasonCodeChange,style:{maxWidth:"15em",overflow:"hidden"},className:this.state.reasonCode?t.test:t.testInitial,classes:{icon:t.selectIcon},MenuProps:{classes:{paper:t.menuPaper}}},i.default.createElement(h.default,{value:"Select",disabled:!0},i.default.createElement(d.default,{variant:"body2",noWrap:!0},"Select")),o)),i.default.createElement(p.default,{item:!0,hidden:!this.state.isDone,style:{maxWidth:"20em",overflow:"hidden"}},i.default.createElement(d.default,{variant:"body2",noWrap:!0},this.state.reasonCode))),i.default.createElement(v.default,{fullScreen:n,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:y.COMMON_ACTION_INFO_MESSAGES.DISCARD_MESSAGE,actions:[i.default.createElement(l.default,{key:"CustomDialog0",onClick:this.closeActionDiscardDialog,color:"primary"},"Disagree"),i.default.createElement(l.default,{key:"CustomDialog0",onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),i.default.createElement(v.default,{fullScreen:n,open:this.state.doOpenInfoMessageDialog,onClose:this.closeInfoMessageDialog,title:this.state.infoMessage,actions:[i.default.createElement(l.default,{key:"CustomDialog0",onClick:this.closeInfoMessageDialog,color:"primary",autoFocus:!0},"OK")]}),i.default.createElement(p.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&i.default.createElement("div",null,i.default.createElement(u.HighlightOff,{style:{color:a.status.warning,padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),i.default.createElement(u.CheckCircleOutline,{style:{color:a.status.safe},className:this.state.reasonCode?"":t.disableDoneBtn,onClick:this.state.reasonCode?this.saveDispute:y.emptyFunction}))))}}]),t}(),I=function(){var e=this;this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.openInfoMessageDialog=function(t){console.log(t,"info message"),e.setState({doOpenInfoMessageDialog:!0,infoMessage:t})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeInfoMessageDialog=function(){e.setState({doOpenInfoMessageDialog:!1,infoMessage:""})},this.handleReasonCodeChange=function(t){e.setState({change:!0,reasonCode:t.target.value},function(){e.updateSummary()})},this.getReasonCode=function(){var t=e.props.reasonCodes;return e.state.reasonCode&&t.indexOf(e.state.reasonCode)>=0?e.state.reasonCode:"Select"},this.validateFields=function(){var t={valid:!0,infoMessage:""};return e.props.incorrectFlag?(t.valid=!1,t.infoMessage=y.COMMON_ACTION_INFO_MESSAGES.RESOLVE_MESSAGE):e.state.reasonCode?0===e.state.invoiceCount&&(t.valid=!1,t.infoMessage=y.NO_INVOICE_SELECTED):(t.valid=!1,t.infoMessage=(0,E.getReasonMessage)("dispute")),console.log(t,"validating"),t},this.saveDispute=function(){if(e.props.expandAddContactDialog())console.log("trying to toggle");else{var t=e.props.correctInvoices.map(function(e){var t={};return t.cmsDocHeaderId=e.id,t}),a=e.validateFields(),n=a.valid,o=a.infoMessage;if(n){e.setState({actionSaveProgressBar:!0});var r={reasonCode:e.state.reasonCode,customerId:e.props.customer.id,disputeItems:t};S.commonService.saveDispute(e.props.customer.id,r).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})}else e.openInfoMessageDialog(o)}},this.generateActionSummary=function(){var t=e.state.invoiceCount;return y.DISPUTE_TEMPLATES.DISPUTE_FINAL_GEN_Template.replace("<DISPUTE-REASON>",e.state.reasonCode).replace("<Invoices>",1==t?t+" invoice":t+" invoices")},this.updateSummary=function(){var t=e.state.invoiceCount,a=y.DISPUTE_TEMPLATES.DISPUTE_ORIG_TEMPLATE.replace("<Invoices>",0===t?"<X invoices>":1===t?t+" invoice":t+" invoices").replace("<ReasonCode>",e.state.reasonCode);e.props.updateSummaryInParent(a)}};k.propTypes=N,k.defaultProps=T;var A=(0,b.default)(function(e){return{menuPaper:{backgroundColor:e.palette.background.paper,height:"20rem !important",overflowY:"auto",border:"2px solid white"},test:{width:"auto",padding:"0px",fontSize:"1.042rem",color:e.palette.text.primary,opacity:.65},actionProgressBar:{color:e.palette.text.primary,alignItems:"center",width:"1.5rem !important",paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem !important"},textField:{margin:"0px",fontSize:"0.875rem",color:e.palette.text.primary},testInitial:{width:"auto",padding:"0px",fontWeight:"bold",fontSize:"0.875rem",color:e.palette.text.primary,opacity:.6,"&:before":{borderBottom:"2px solid #ff4543"},"&:after":{borderBottom:"2px solid #ff4543"}},actionIcon:{color:e.palette.primary.main},errorFlag:{color:e.palette.error.main,marginLeft:".5rem"},selectIcon:{color:e.palette.primary.main},disableDoneBtn:{opacity:.4,cursor:"default"}}},C.default);t.default=(0,c.withStyles)(A,{withTheme:!0})(k)},5898:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=O(r),l=O(a(32)),s=O(a(3)),c=a(13),u=a(63),d=O(a(5547)),m=a(5552),p=a(27),f=O(a(209)),h=O(a(21)),g=O(a(238)),v=O(a(24)),y=O(a(73)),b=O(a(86)),C=O(a(55)),E=O(a(137)),S=a(243),w=a(26),x=a(35),T=O(a(28)),N=O(a(29)),k=O(a(6)),I=a(87),A=a(242);function O(e){return e&&e.__esModule?e:{default:e}}var P={incorrectFlag:!1,summary:Object.assign(w.BASE_SUMMARY_TEMPLATE),invoiceCount:0,customer:{},followupTextList:[],onActionItemConfirm:w.emptyFunction,deleteAction:w.emptyFunction,extractedData:[],onCompletion:w.emptyFunction,toggleExpand:w.emptyFunction,openSnackbarOnAction:w.emptyFunction,updateSummaryInParent:w.emptyFunction},R={incorrectFlag:s.default.bool,summary:s.default.object,followupTextList:s.default.array,invoiceCount:s.default.number,correctInvoices:s.default.array,onActionItemConfirm:s.default.func,deleteAction:s.default.func,extractedData:s.default.array,onCompletion:s.default.func,toggleExpand:s.default.func,openSnackbarOnAction:s.default.func,updateSummaryInParent:s.default.func},D=(0,p.createMuiTheme)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:f.default.A200,height:"13vh"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:f.default.A700},selected:{backgroundColor:f.default[400]},current:{color:f.default[900]}},MuiFormHelperText:{error:{color:"#FF8888 !important",marginBottom:".8vh"}},MuiPickersModal:{dialogAction:{color:f.default[400]}}}}),_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));M.call(a);var n=a.props.extractedData,o="",r="";n&&n.length>0&&(o=new Date(n[0]),r=n[1]?n[1].substring(8):null),a.props.followupTextList.indexOf(r)<0&&(r="");var i={};return"[object Date]"===Object.prototype.toString.call(o)&&"Invalid Date"!==o.toString()&&o.getDate()>=(new Date).getDate()&&(i={maxWidth:"5.35rem"}),a.state={readOnly:!0,isEditing:!1,followupText:r,selectedDate:new Date(o),openActionSave:!1,openWarningDialog:!1,openInvalidDateDialog:!1,openProgressBar:!0,actionId:a.props.summary.id,isDone:a.props.summary.save,finalSelectedDate:a.props.summary.save?(0,S.format)(new Date(n[0]),"MMM dd, yyyy"):"",actionSaveProgressBar:!1,incorrectFlag:null,maxWidthDate:i},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({incorrectFlag:e.incorrectFlag})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.fullScreen,o=t.theme,r=this.props.followupTextList.map(function(e,t){return i.default.createElement(b.default,{key:"followupText"+t,value:e,classes:{root:a.menuItemRoot}},i.default.createElement(h.default,{variant:"body1",noWrap:!0},e))});return i.default.createElement(v.default,{container:!0,className:a.invoiceSample},i.default.createElement(v.default,{item:!0,xs:10,md:10,lg:10,container:!0,alignItems:"center",justify:"flex-start"},i.default.createElement("div",{style:{width:"3rem"}},this.state.actionSaveProgressBar&&i.default.createElement(C.default,{className:a.actionProgressBar}),this.state.isDone&&i.default.createElement(u.Done,{style:{color:o.status.safe,paddingLeft:"0.5rem",paddingRight:"0.5rem",height:"1.5rem",width:"1.5rem"}})),i.default.createElement(v.default,{item:!0},this.state.isDone&&i.default.createElement(h.default,{variant:"body1"},"Created  ")),i.default.createElement(v.default,{item:!0},!this.state.isDone&&i.default.createElement(h.default,{variant:"body1"},"Create  ")),i.default.createElement(v.default,{item:!0},i.default.createElement(h.default,{variant:"body1"},"FOLLOW-UP  ")),i.default.createElement(v.default,{item:!0},i.default.createElement(h.default,{variant:"body2"},"event for  ")),i.default.createElement(v.default,{item:!0}," ",this.state.isDone&&i.default.createElement(h.default,{style:{fontWeight:"bold",color:o.palette.text.primary}},this.state.finalSelectedDate)),i.default.createElement(v.default,{item:!0},!this.state.isDone&&i.default.createElement(m.MuiPickersUtilsProvider,{utils:d.default},i.default.createElement(p.MuiThemeProvider,{theme:D},i.default.createElement(m.DatePicker,{style:this.state.maxWidthDate,allowKeyboardControl:Boolean(!1),format:"MMM dd, yyyy",minDateMessage:"Previous date not acceptable",InputProps:{id:"date-input-field-"+this.state.actionId,className:(0,k.default)(a.borderSecond,a.inputFieldText),readOnly:Boolean(!0),disableUnderline:Boolean(!0)},ref:function(t){e.picker=t},value:this.state.selectedDate,onChange:this.handleDateChange,animateYearScrolling:!1,minDate:new Date}),i.default.createElement(u.DateRange,{className:a.cardIcon,onClick:this.openPicker})))),i.default.createElement(v.default,{item:!0,hidden:this.state.isDone&&!this.state.followupText},i.default.createElement(h.default,{variant:"body2"},"  for  ")),i.default.createElement(v.default,{item:!0,hidden:this.state.isDone},i.default.createElement(y.default,{id:"followup-text-field",value:this.getFollowupText(),style:{maxWidth:"15em",overflow:"hidden"},onChange:this.handleFollowupTextChange,classes:{icon:a.selectIcon},className:this.state.followupText?(0,k.default)(a.borderSecond,a.inputFieldText):(0,k.default)(a.borderFirst,a.inputFieldText),MenuProps:{classes:{paper:a.menuPaper}}},i.default.createElement(b.default,{classes:{root:a.menuItemRoot},value:"Select",disabled:!0},i.default.createElement(h.default,{variant:"body2",noWrap:!0},"Select")),r)),i.default.createElement(v.default,{item:!0,hidden:!this.state.isDone,style:{maxWidth:"20em",overflow:"hidden"}},i.default.createElement(h.default,{variant:"body2",noWrap:!0},this.state.followupText))),i.default.createElement(E.default,{fullScreen:n,open:this.state.openNoTextDialog,onClose:this.closeNoTextDialog,title:(0,I.getReasonMessage)("followup"),actions:[i.default.createElement(l.default,{onClick:this.closeNoTextDialog,color:"secondary",autoFocus:!0},"OK")]}),i.default.createElement(E.default,{fullScreen:n,open:this.state.openActionSave,onClose:this.closeActionSaveDialog,title:w.COMMON_ACTION_INFO_MESSAGES.DISCARD_MESSAGE,actions:[i.default.createElement(l.default,{onClick:this.closeActionDiscardDialog,color:"primary"},"Disagree"),i.default.createElement(l.default,{onClick:this.closeAndDiscardDialog,color:"primary",autoFocus:!0},"Agree")]}),i.default.createElement(E.default,{fullScreen:n,open:this.state.openWarningDialog,onClose:this.closeWarningDialog,title:w.COMMON_ACTION_INFO_MESSAGES.RESOLVE_MESSAGE,actions:[i.default.createElement(l.default,{onClick:this.closeWarningDialog,color:"secondary",autoFocus:!0},"OK")]}),i.default.createElement(E.default,{fullScreen:n,open:this.state.openInvalidDateDialog,onClose:this.closeInvalidDateDialog,title:w.INVALID_DATE_MESSAGE,actions:[i.default.createElement(l.default,{onClick:this.closeInvalidDateDialog,color:"secondary",autoFocus:!0},"OK")]}),i.default.createElement(v.default,{item:!0,xs:2,md:2,lg:2},!this.state.isDone&&i.default.createElement("div",null,i.default.createElement(u.HighlightOff,{style:{color:o.status.warning,padding:"0 1.3rem 0 0.8rem"},onClick:this.openActionDiscardDialog}),i.default.createElement(u.CheckCircleOutline,{style:{color:o.status.safe},className:this.state.followupText?"":a.disableDoneBtn,onClick:this.state.followupText?this.saveFollowup:w.emptyFunction}))))}}]),t}(),M=function(){var e=this;this.openSnackBarWithMessage=function(t){e.props.openSnackbarOnAction(t)},this.openActionDiscardDialog=function(){e.setState({openActionSave:!0})},this.closeActionDiscardDialog=function(){e.setState({openActionSave:!1})},this.closeAndDiscardDialog=function(){e.setState({openActionSave:!1},function(){e.props.deleteAction(e.state.actionId)})},this.closeWarningDialog=function(){e.setState({openWarningDialog:!1})},this.closeNoTextDialog=function(){e.setState({openNoTextDialog:!1})},this.closeInvalidDateDialog=function(){e.setState({openInvalidDateDialog:!1})},this.toggleEditing=function(t){e.setState({readOnly:!1,isEditing:!0},function(){document.getElementById("invoice-amount-field-"+e.state.actionId).focus()})},this.handleDateChange=function(t){e.setState({selectedDate:t},function(){e.updateSummary(),"[object Date]"===Object.prototype.toString.call(e.state.selectedDate)&&"Invalid Date"!==e.state.selectedDate.toString()&&e.state.selectedDate.getDate()>=(new Date).getDate()&&e.setState({maxWidthDate:{maxWidth:"5.35rem"}})})},this.getDateFieldValue=function(){var t="date-input-field-"+e.state.actionId;return document.getElementById(t).value},this.handleFollowupTextChange=function(t){e.setState({change:!0,followupText:t.target.value},function(){e.updateSummary()})},this.openPicker=function(t){e.picker.open(t)},this.getFollowupText=function(){var t=e.props.followupTextList;return e.state.followupText&&t.indexOf(e.state.followupText)>=0?e.state.followupText:"Select"},this.validateFollowupData=function(){return e.state.incorrectFlag?(e.setState({openWarningDialog:!0}),!1):!!(0,x.isValidDate)(e.state.selectedDate)||(e.setState({openInvalidDateDialog:!0}),!1)},this.updateSummary=function(){var t=(0,S.format)(new Date(e.state.selectedDate),"yyyy-MM-dd"),a=w.FOLLOW_UP_TEMPLATES.FOLLOW_UP_ORIG_TEMPLATE.replace("<Followup Date>",t).replace("<Followup Text>",e.state.followupText?e.state.followupText:"");e.props.updateSummaryInParent(a)},this.saveFollowup=function(){if(e.props.expandAddContactDialog())console.log("trying to toggle");else if(e.validateFollowupData())if(e.state.followupText){e.setState({actionSaveProgressBar:!0});var t=new Date(e.state.selectedDate),a=(0,S.format)(t,"yyyy-MM-dd"),n={dueDate:a,reminderDate:a,subject:e.state.followupText};A.commonService.saveTask(e.props.customer.id,n).then(function(t){e.openSnackBarWithMessage("SUCCESS"),e.setState({finalSelectedDate:e.getDateFieldValue()},function(){e.setState({actionSaveProgressBar:!1},function(){e.setState({isDone:!0})})});var a=e.generateActionSummary();e.props.onCompletion(),e.props.onActionItemConfirm(a),e.updateSummary()}).catch(function(t){e.openSnackBarWithMessage("ERROR"),e.setState({actionSaveProgressBar:!1})})}else e.setState({openNoTextDialog:!0})},this.generateActionSummary=function(){e.state.invoiceCount;var t=e.props.calledToNumber,a="Unknown "!=e.props.callToName&&"Unnamed Unnamed"!=e.props.callToName||!t?e.props.callToName:t;return w.FOLLOW_UP_TEMPLATES.FOLLOW_UP_FINAL_GEN_Template.replace("<Contact Name>",a).replace("<Followup Date>",e.state.selectedDate?"on "+(0,S.format)(e.state.selectedDate,"MM-dd-yyyy"):"").replace("<Followup Text>",e.state.followupText?"for "+e.state.followupText:"")}};(function(e){var t=e.inputRef,a=e.onChange,o=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["inputRef","onChange"]);return i.default.createElement(g.default,n({},o,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:"$"}))}).propTypes={inputRef:s.default.func.isRequired,onChange:s.default.func.isRequired},_.propTypes=R,_.defaultProps=P;var L=(0,T.default)(function(e){return{selectIcon:{color:e.palette.primary.main}}},N.default);t.default=(0,c.withStyles)(L,{withTheme:!0})(_)},5899:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=x(o),i=x(a(3)),l=a(13),s=x(a(112)),c=x(a(113)),u=x(a(107)),d=x(a(41)),m=x(a(32)),p=x(a(21)),f=x(a(128)),h=x(a(88)),g=x(a(97)),v=x(a(108)),y=x(a(5900)),b=a(48),C=a(35),E=a(87),S=x(a(6)),w=(x(a(5901)),a(26));function x(e){return e&&e.__esModule?e:{default:e}}function T(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var N={extractedData:[],intentType:"",invoiceCount:0,correctInvoices:[],correctInvoicesMap:{},incorrectFlag:!1,onUpdateInvoice:w.emptyFunction,done:!1,updateInvoices:w.emptyFunction},k={classes:i.default.object.isRequired,extractedData:i.default.array,intentType:i.default.string,invoiceCount:i.default.number,correctInvoices:i.default.array,correctInvoicesMap:i.default.object,onUpdateInvoice:i.default.func,done:i.default.bool,updateInvoices:i.default.func},I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));A.call(a);var n=a.props.intentType,o=a.props.extractedData,r=0;n===w.ACTION_TYPES.P2P&&((r=o[0]?o.match(/[0-9]{1,}/):0)||(r=0));var i=a.props.correctInvoices,l=(0,E.initializeCheckboxMap)(i);return a.state={allInvoicesSelected:!1,invoicesCheckboxMap:l,totalAmount:r,invoiceCount:a.props.invoiceCount,correctInvoices:a.props.correctInvoices,correctInvoicesMap:a.props.correctInvoicesMap,incorrectFlag:a.props.incorrectFlag,isMessageDialogOpen:!1,openInvoiceSelector:!1,invoices:a.props.invoices,executeAppendInvoice:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.invoices,o=t.theme;return r.default.createElement("div",{style:{width:"100%"}},!this.props.done&&r.default.createElement("div",null,r.default.createElement(y.default,{allInvoices:n,correctInvoicesMap:this.state.correctInvoicesMap,invoices:this.state.invoices,open:this.state.openInvoiceSelector,onClose:this.closeInvoiceSelector,onInvoiceSelection:function(t){return e.handleInvoiceSelection(t)},postCall:!0,bucketNames:this.props.bucketNames}),r.default.createElement("div",{className:a.invoiceHeader},r.default.createElement("div",{style:{display:"flex",alignItems:"center",paddingTop:"0.5rem",paddingBottom:"0.5rem"}},this.state.invoiceCount>0&&r.default.createElement("div",{style:{display:"flex",alignItems:"center",color:o.palette.primary.main,paddingRight:"1.56vw"}},r.default.createElement(u.default,{style:{padding:"0px"},icon:r.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:r.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),checked:this.state.allInvoicesSelected,onClick:this.handleAllSelection}),r.default.createElement(p.default,{variant:"body1"}," Select all")),r.default.createElement("div",{style:{display:"flex",alignItems:"center"}},r.default.createElement(m.default,{variant:"outlined",color:"primary",size:"small",style:{height:"4.44vh",paddingLeft:"0.666rem",paddingRight:"0.666rem"},onClick:this.openInvoiceSelectorModal},r.default.createElement(p.default,{variant:"button",style:{marginLeft:"4px",marginRight:"4px"}},"Select Invoices"))),r.default.createElement("div",{style:{display:"flex",alignItems:"center"}},r.default.createElement(m.default,{variant:"outlined",color:"primary",size:"small",style:{height:"4.44vh",marginLeft:"1rem",padding:"0 0.666rem"},onClick:this.deleteAllSelection},r.default.createElement(d.default,{className:a.addIcon}),r.default.createElement(p.default,{variant:"button",style:{marginLeft:"4px"}},"Remove")))))),r.default.createElement("div",{className:a.invoiceList},r.default.createElement("div",{className:a.correction},r.default.createElement(p.default,{variant:"body1"},this.state.invoiceCount+" "+(this.state.invoiceCount>1?"Invoices":"Invoice")),(this.props.intentType===w.INTENT_TYPES.P2P||this.props.intentType===w.INTENT_TYPES.DISPUTE)&&r.default.createElement(p.default,{variant:"subtitle1"}," (",this.getFormattedCurrency(),")"),this.state.incorrectFlag&&r.default.createElement("div",{style:{display:"flex",marginLeft:".5rem",alignItems:"center"}},r.default.createElement(f.default,{className:a.errorFlag}),r.default.createElement(p.default,{variant:"body1",className:a.correctionAlert},"Correction Required(",this.state.correctInvoices.length-Object.keys(this.state.correctInvoicesMap).length,")"))),r.default.createElement(s.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return r.default.createElement(c.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},r.default.createElement("div",{className:t.id in e.state.correctInvoicesMap?e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected?(0,S.default)(a.selectedGridListDiv,a.gridListDiv):a.gridListDiv:a.incorrectDiv},!e.props.done&&r.default.createElement(u.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:r.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:r.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),r.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},r.default.createElement(p.default,{variant:"body1",style:{padding:"0",opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),r.default.createElement(p.default,{variant:"h4",color:"primary",style:{padding:"0",lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,b.formatter)(t.currentOpenAmount):"----")),!e.props.done&&r.default.createElement(d.default,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id.toString())}})))}))),r.default.createElement(h.default,{open:this.state.isMessageDialogOpen,onClose:this.handleMessageDialog,"aria-labelledby":"responsive-dialog-title"},r.default.createElement(v.default,{id:"responsive-dialog-title"},w.EMPTY_INVOICE_SELECT_MESSAGE),r.default.createElement(g.default,null,r.default.createElement(m.default,{onClick:this.handleMessageDialog,color:"default"},"OK"))))}}]),t}(),A=function(){var e=this;this.formatSelectedInvoices=function(){var t=(0,C.countSelectedInvoices)(e.state.selectedInvoices);return t?"":"("+t+")"},this.handlerInvoiceFilter=function(t){var a=filterInvoices(t,e.props.invoices);e.setState({invoices:a})},this.toggleCheckbox=function(t){var a=e.state.invoicesCheckboxMap.get(t),n=e.state.invoicesCheckboxMap;n.set(t,!a);var o=!0;e.setState({invoicesCheckboxMap:n},function(){var t=!0,a=!1,r=void 0;try{for(var i,l=n.keys()[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var s=i.value;if(!n.get(s)){o=!1;break}}}catch(e){a=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw r}}e.setState({allInvoicesSelected:o})})},this.handleAllSelection=function(){var t=e.state.invoicesCheckboxMap;e.setState(function(e){return{allInvoicesSelected:!e.allInvoicesSelected}},function(){var a=!0,n=!1,o=void 0;try{for(var r,i=t.keys()[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var l=r.value;t.set(l,e.state.allInvoicesSelected)}}catch(e){n=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}e.setState({invoiceChecksMap:t})})},this.deleteInvoice=function(t){var a=Object.assign(e.state.correctInvoicesMap);delete a[t];var n=e.state.invoicesCheckboxMap;n.delete(t),e.setState({invoicesCheckboxMap:n,correctInvoices:e.state.correctInvoices.filter(function(e){return e.id!=t}),correctInvoicesMap:a},function(){e.updateInvoicesThings(),e.props.updateInvoices(e.state.correctInvoices,a)})},this.deleteAllSelection=function(){var t=e.state.correctInvoices.filter(function(t){return!0===e.state.invoicesCheckboxMap.get(t.id.toString())});if(0!=t.length){for(var a=e.state.correctInvoices.filter(function(t){return!1===e.state.invoicesCheckboxMap.get(t.id.toString())}),n=e.state.invoicesCheckboxMap,o=e.state.correctInvoicesMap,r=(a.length,0),i=t.length;r<i;++r){var l=t[r].id.toString();n.delete(l),delete o[l]}e.setState({correctInvoices:a,invoicesCheckboxMap:n,correctInvoicesMap:o,allInvoicesSelected:!1},function(){e.updateInvoicesThings(),e.props.updateInvoices(e.state.correctInvoices,e.state.correctInvoicesMap)})}else e.setState({isMessageDialogOpen:!0})},this.handleMessageDialog=function(){e.setState(function(e){return{isMessageDialogOpen:!e.isMessageDialogOpen}})},this.handleInvoiceSelection=function(t){console.log("selected invoices",t),e.appendInvoices(t)},this.openInvoiceSelectorModal=function(){e.setState({openInvoiceSelector:!0})},this.closeInvoiceSelector=function(){e.setState({openInvoiceSelector:!1})},this.setSelectedInvoices=function(t){e.setState({selectedInvoices:t})},this.getFormattedCurrency=function(){var t=e.state.correctInvoices.reduce(E.calculateTotalAmount,0);return(0,C.formatCurrencyToUSFormat)(t)},this.appendInvoices=function(t){var a=e.state.correctInvoices,n=e.state.correctInvoicesMap,o=(0,E.computeIncorrectInvoices)(a,n),r=(0,E.computeCorrectInvoices)(t,e.props.invoices),i=(0,E.buildCorrectInvoiceMap)(r),l=[].concat(T(o),T(r)),s=(0,E.buildInvoiceCheckboxMap)(l);e.setState({correctInvoices:l,correctInvoicesMap:i,invoiceCount:l.length,invoicesCheckboxMap:s},function(){e.props.updateInvoices(l,i)}),e.props.onUpdateInvoice(e.state.incorrectFlag,l.length),e.setState({openInvoiceSelector:!1})},this.updateInvoicesThings=function(){var t=e.state.correctInvoices.length,a=Object.keys(e.state.correctInvoicesMap).length,n=t!==a;e.setState({incorrectFlag:n,invoiceCount:t},function(){e.props.onUpdateInvoice(n,t)})}};I.propTypes=k,I.defaultProps=N,t.default=(0,l.withStyles)(function(e){return{invoiceHeader:{height:"6.48148148148vh",display:"flex",alignItems:"center",backgroundColor:e.palette.background.paper,borderBottom:e.palette.primary.light+"solid 1px",paddingLeft:"3rem"},checkedIcon:{color:e.palette.primary.main,zIndex:"3",height:"calc(1.2vh + 1.2vw)",width:"calc(1.2vh + 1.2vw)"},invoiceList:{width:"auto",height:"auto",marginTop:"1rem",marginBottom:"1.9rem",justifyContent:"space-around",overflow:"hidden",paddingLeft:"3rem"},correction:{display:"flex"},correctionAlert:{color:e.status.warning,marginLeft:".5rem"},errorFlag:{color:e.palette.error.main,marginLeft:".5rem"},gridList:{width:"100%",height:"100%",margin:"10px 0px -2px -.4rem !important"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",alignItems:"center",border:e.palette.primary.main+" solid 1px",borderRadius:"4px"},selectedGridListDiv:{backgroundColor:e.palette.primary.dark},incorrectDiv:{display:"flex",border:e.status.warning+" dashed 1px",width:"15.41vw",height:"7.40vh",alignItems:"center"},addIcon:{width:"calc(1.1vh + 1.1vw)",height:"calc(1.1vh + 1.1vw)",color:e.palette.primary.main}}},{withTheme:!0})(I)},5900:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=h(a(0)),r=h(a(3)),i=a(13),l=h(a(85)),s=h(a(5548)),c=h(a(24)),u=h(a(32)),d=h(a(152)),m=a(35),p=a(87),f=a(26);function h(e){return e&&e.__esModule?e:{default:e}}var g={correctInvoicesMap:{},invoices:[],onClose:f.emptyFunction,onInvoiceSelection:f.emptyFunction,open:!1,postCall:!1},v={correctInvoicesMap:r.default.object,invoices:r.default.array,onClose:r.default.func,onInvoiceSelection:r.default.func,open:r.default.bool,postCall:r.default.bool},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.closeModal=function(){a.setState({open:!1},function(){a.props.onClose()})},a.handleInvoiceFilter=function(e){var t=(0,p.filterInvoices)(e,a.props.allInvoices);a.setState({invoices:t})},a.handleInvoiceSelection=function(e){a.setState({selectedInvoices:e})},a.formatSelectedInvoices=function(){var e=(0,m.countSelectedInvoices)(a.state.selectedInvoices);return e?"("+e+")":""},a.getModalStyle=function(e){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"73vw",border:e.palette.text.primary+" 2px solid"}},a.state={open:a.props.open,invoices:a.props.invoices,correctInvoicesMap:a.props.correctInvoicesMap,selectedInvoices:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){e.open!==this.state.open&&this.setState({open:e.open}),this.setState({invoices:e.invoices,correctInvoicesMap:e.correctInvoicesMap})}},{key:"render",value:function(){var e=this,t=this.props,a=t.bucketNames,n=t.classes,r=t.onInvoiceSelection,i=t.postCall,m=t.theme;return o.default.createElement(l.default,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.closeModal},o.default.createElement("div",{style:this.getModalStyle(m),className:n.paper},o.default.createElement("div",{style:{width:"100%",display:"flex",alignItem:"center",borderBottom:m.palette.primary.light+" 1px solid",padding:".2rem 0 .6rem 0"}},o.default.createElement("span",{style:{marginLeft:"1rem",fontSize:"1.3rem",color:m.palette.text.primary,opacity:.65}},"Select and Add Invoices"),o.default.createElement(d.default,{onClick:this.closeModal,style:{position:"fixed",right:"5%",opacity:.65,cursor:"pointer",color:m.palette.text.primary}})),o.default.createElement(s.default,{setSelectedInvoices:this.handleInvoiceSelection,postCall:i,filterInvoices:this.handleInvoiceFilter,bucketNames:a,invoices:this.state.invoices,correctInvoicesMap:this.state.correctInvoicesMap}),o.default.createElement(c.default,{item:!0,xs:12,align:"right",style:{borderTop:m.palette.primary.light+" 1px solid",paddingTop:".6rem"}},o.default.createElement(u.default,{variant:"contained",color:"primary",className:n.button,onClick:function(){return r(e.state.selectedInvoices)}},"Save ",this.formatSelectedInvoices()))))}}]),t}();y.prototypes=v,y.defaultProps=g,t.default=(0,i.withStyles)(function(e){return{paper:{position:"absolute",width:100*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:1*e.spacing.unit,paddingLeft:0,paddingRight:0},button:{color:e.palette.text.primary,marginRight:"2em",fontSize:"0.888rem"}}},{withTheme:!0})(y)},5901:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=d(a(0)),r=a(13),i=(d(a(6)),a(48)),l=d(a(21)),s=d(a(107)),c=d(a(112)),u=d(a(113));function d(e){return e&&e.__esModule?e:{default:e}}var m={invoicesCheckboxMap:new Map,correctInvoicesMap:{},selectedInvoices:[],invoices:[],done:!0,inInvoiceTable:!1},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.addInvoice=function(e){a.props.addInvoice(e)},a.getClassOfGridListTile=function(e,t,n,o){return invoice.id in a.state.correctInvoicesMap?t.get(invoice.id.toString())||a.state.selectedInvoices[invoice.id]?classes.selectedGridListDiv:classes.gridListDiv:classes.incorrectDiv},a.state={invoices:a.props.invoices,selectedInvoices:a.props.selectedInvoices,correctInvoicesMap:a.props.correctInvoicesMap,invoicesCheckboxMap:a.props.invoicesCheckboxMap},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({invoices:e.invoices,selectedInvoices:e.selectedInvoices,correctInvoicesMap:e.correctInvoicesMap,invoicesCheckboxMap:e.invoicesCheckboxMap})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return o.default.createElement(c.default,{cellHeight:"auto",className:a.gridList},this.state.correctInvoices.map(function(t){return o.default.createElement(u.default,{cols:1,key:t.id,style:{height:"auto",width:"16vw",margin:"0.4rem"}},o.default.createElement("div",{className:e.getClassOfGridListTile(e.state.correctInvoicesMap,e.state.invoicesCheckboxMap,t.id,e.state.selectedInvoices)},!e.props.done&&o.default.createElement(s.default,{style:{padding:"2px",left:"3%",alignItems:"center"},icon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/unchecked_icon.svg"}),checkedIcon:o.default.createElement("img",{className:a.checkedIcon,src:"/tovo/static/checked_icon.svg"}),disabled:!(t.id in e.state.correctInvoicesMap),checked:e.state.invoicesCheckboxMap.get(t.id.toString())||e.state.allInvoicesSelected,onClick:function(){return e.toggleCheckbox(t.id.toString())}}),o.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1vw"}},o.default.createElement(l.default,{style:{padding:"0",fontSize:".89rem",color:n.palette.text.primary,opacity:.5,lineHeight:"1.7rem"}},t.documentNumber),o.default.createElement(l.default,{style:{padding:"0",fontSize:"1.156rem",color:n.palette.text.primary,lineHeight:"1.7rem"}},"$",t.id in e.state.correctInvoicesMap?(0,i.formatter)(t.currentOpenAmount):"----")),!(e.props.inInvoiceTable||e.props.done)&&o.default.createElement(Close,{style:{position:"absolute",right:"10%",top:"27%",width:"calc(.8vh + .8vw)",height:"calc(.8vh + .8vw)"},className:a.addIcon,onClick:function(){e.deleteInvoice(t.id)}})))}))}}]),t}();p.defaultProps=m,t.default=(0,r.withStyles)(function(e){return{gridList:{width:"100%",height:"100%",margin:"0 -2px -2px -2px !important",overflow:"hidden"},gridListDiv:{display:"flex",width:"15.41vw",height:"7.40vh",border:e.palette.primary.main+" solid 1px",borderRadius:"4px",alignItems:"center"},selectedGridListDiv:{backgroundColor:"#39586F"},gridListTile:{height:"auto !important"}}},{withTheme:!0})(p)},5902:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=b(o),i=b(a(74)),l=b(a(33)),s=b(a(41)),c=b(a(3)),u=a(13),d=b(a(24)),m=a(27),p=b(a(93)),f=b(a(5543)),h=b(a(28)),g=b(a(29)),v=b(a(6)),y=a(26);function b(e){return e&&e.__esModule?e:{default:e}}var C={contactIndex:c.default.number,customer:c.default.object,invoiceList:c.default.array,summaryNotes:c.default.string,nextCustomerUrl:c.default.string,toCallCustomers:c.default.number,collector:c.default.object,classes:c.default.object.isRequired,nonActionIncluded:c.default.bool},E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.openSnackBarWithMessage=function(e){a.setState({snackBarMessage:e}),a.setState({snackBarOpen:!0})},a.closeSnackbar=function(){a.setState({snackBarOpen:!1})},a.setDefaultEmailIdChips=function(){var e=a.props.contactIndex,t=[];if(null!=e&&"Unnamed"!==a.props.customer.contacts[e].firstName&&"Unnamed"!==a.props.customer.contacts[e].lastName){var n=a.props.customer.contacts[e].firstName+" "+a.props.customer.contacts[e].lastName;t.push({key:0,label:n,emailId:a.props.customer.contacts[e].email,isValidEmail:!0,isEditing:!1})}a.setState({emailIdChips:t})},a.state={emailIdChips:[],snackBarOpen:!1,snackBarMessage:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this.setDefaultEmailIdChips()}},{key:"render",value:function(){var e=this.props,t=(e.customer,e.classes),a=e.summaryNotes,n=e.theme;return r.default.createElement("div",{style:{width:"100%"}},r.default.createElement(i.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},classes:{root:t.snackbarRoot},open:this.state.snackBarOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:r.default.createElement("span",{id:"message-id"},this.state.snackBarMessage),action:[r.default.createElement(l.default,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.closeSnackbar},r.default.createElement(s.default,null))]}),r.default.createElement(d.default,{item:!0,xs:12,style:{display:"flex"}},r.default.createElement(d.default,{item:!0,xs:5},r.default.createElement(d.default,{item:!0,xs:12,className:t.summaryNotesBox},r.default.createElement(d.default,{item:!0},r.default.createElement(m.Typography,{variant:"h5",className:t.summaryNotesHeader},"SUMMARY NOTES")),r.default.createElement(d.default,{items:!0,id:"summaryNoteitems",className:a&&0!=a.length?t.summaryNoteitems:(0,v.default)(t.emptySummaryGrid,t.centerFlexBox)},(!a||0==a.length)&&r.default.createElement("div",{className:t.warningLine},r.default.createElement(p.default,{className:t.icon}),r.default.createElement("span",{className:t.emptySummaryText},"There is no summary notes"," ")),a&&0==!a.length&&r.default.createElement("ul",{className:t.notesList},a.map(function(e){return r.default.createElement("li",null,r.default.createElement(m.Typography,{style:{color:n.palette.text.primary,opacity:1,fontSize:"0.88888888888rem",marginBottom:"0.888rem"}},e))}))))),r.default.createElement(d.default,{item:!0,xs:7,style:{paddingLeft:"1.041vw"}},r.default.createElement(f.default,{openSnackBarWithMessage:this.openSnackBarWithMessage,emailSubject:y.defaultEmailSubject,summaryNotes:a,collector:this.props.collector,nonActionIncluded:this.props.nonActionIncluded,emailIdChips:this.state.emailIdChips,customer:this.props.customer,emailAttachements:this.props.invoiceList}))))}}]),t}();E.propTypes=C,E.defaultProps={contactIndex:null,customer:{},invoiceList:[],summaryNotes:"",nextCustomerUrl:null,toCallCustomers:null,collector:{},nonActionIncluded:!1};var S=(0,h.default)(function(e){return{summaryNotesBox:{maxHeight:"90vh",borderRadius:"4px",backgroundColor:e.palette.background.default},summaryNoteitems:{whiteSpace:"pre-line",marginTop:"1em",wordBreak:"break-word",overflowY:"auto",maxHeight:"78.9vh"},summaryNotesHeader:{paddingTop:"2.22vh",paddingLeft:"1.026vw"},notesList:{color:e.palette.text.primary,paddingLeft:"0",marginLeft:"1.7rem"},emptySummaryText:{color:e.palette.text.primary},emptySummaryGrid:{height:"15vh",whiteSpace:"pre-line",wordBreak:"break-word"},warningLine:{display:"flex",alignItems:"center",fontWeight:500,color:e.palette.text.primary,fontSize:".8em",opacity:"0.65"},icon:{marginRight:".5vw"},hideOverflow:{overflow:"hidden"}}},g.default);t.default=(0,u.withStyles)(S,{withTheme:!0})(E)},5903:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=h(o),i=a(13),l=h(a(3)),s=h(a(132)),c=h(a(133)),u=h(a(170)),d=h(a(108)),m=h(a(88)),p=h(a(21)),f=a(26);function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v={open:l.default.bool,onClose:l.default.func,onActionItemClick:l.default.func},y={open:!1,onClose:f.emptyFunction,onActionItemClick:f.emptyFunction},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"shouldComponentUpdate",value:function(e){return e.open!==this.props.open}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.classes,o=t.onClose;return r.default.createElement(m.default,{onClose:o,"aria-labelledby":"new-action-dialog-title",open:a,classes:{paperScrollPaper:n.dialogPaper}},r.default.createElement(d.default,{id:"new-action-dialog-title",className:n.dialog},r.default.createElement(p.default,{variant:"h3",color:"text.primary"},"Create New Action")),r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,{className:n.createNewActionDialogOptions},Object.keys(f.ACTION_TYPES).map(function(t){return r.default.createElement(c.default,{style:{cursor:"pointer"},onClick:function(){return e.props.onActionItemClick(f.ACTION_TYPES[t])},key:t},r.default.createElement(u.default,null,r.default.createElement(p.default,{variant:"h6",color:"text.primary"},"Create "+f.ACTION_TYPES[t])))}))))}}]),t}();b.propTypes=v,b.defaultProps=y,t.default=(0,i.withStyles)(function(e){var t;return{dialogPaper:(t={border:e.palette.common.white+" 1px solid"},g(t,"border","1px solid white"),g(t,"width","19.53vw"),t),dialog:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary},createNewActionDialogHeader:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary+" !important"},createNewActionDialogOptions:{backgroundColor:e.palette.background.paper,pointer:"cursor"}}},{withTheme:!0})(b)},5904:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=d(o),i=d(a(3)),l=a(13),s=d(a(5905)),c=a(35),u=a(26);function d(e){return e&&e.__esModule?e:{default:e}}var m={autoScroll:i.default.bool,calledToNameInitials:i.default.string,transcription:i.default.string,transcriptGridID:i.default.string,userInitials:i.default.string},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.scrollToBottom=function(){var e=a.props.transcriptGridID,t=document.getElementById(e);t&&(t.scrollTop=t.scrollHeight)},a.generateChatBoxes=function(e,t){return e.includes(u.TRANSCRIPT_DELIMETERS.COLLECTOR)?r.default.createElement(s.default,{key:t,isCollector:!0,initials:a.props.userInitials?a.props.userInitials:"ME",message:e.replace(u.TRANSCRIPT_DELIMETERS.COLLECTOR,"")}):e.includes(u.TRANSCRIPT_DELIMETERS.CUSTOMER)?r.default.createElement(s.default,{key:t,isCollector:!1,initials:a.props.calledToNameInitials,message:e.replace(u.TRANSCRIPT_DELIMETERS.CUSTOMER,"")}):e.includes(u.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS)?r.default.createElement(s.default,{key:t,isDetecting:!0,initials:"",message:e.replace(u.TRANSCRIPT_DELIMETERS.DETECTING_SPEAKERS,"")}):void 0},a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidUpdate",value:function(e,t,a){this.props.autoScroll&&this.scrollToBottom()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.transcription,n=e.transcriptGridID,o=(0,c.splitTranscript)(a);return r.default.createElement("div",{id:n,className:t.transcriptTextParent},r.default.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},o.map(this.generateChatBoxes)))}}]),t}();p.prototypes=m,p.defaultProps={autoScroll:!1,calledToNameInitials:"UU",transcription:"",transcriptGridID:"transcription-grid",userInitials:"ME"},t.default=(0,l.withStyles)(function(e){return{transcriptTextParent:{whiteSpace:"pre-line",marginTop:"2.5rem",height:"85%",overflowY:"auto",padding:"0.5rem 0.5rem 0.5rem 0px",fontFamily:"Roboto",marginLeft:"1rem",width:"100%",wordWrap:"break-word"}}},{withTheme:!0})(p)},5905:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=p(o),i=p(a(3)),l=a(13),s=p(a(95)),c=a(27),u=p(a(5906)),d=a(26),m=(p(a(197)),p(a(5907)));function p(e){return e&&e.__esModule?e:{default:e}}var f={classes:i.default.object.isRequired,isCollector:i.default.bool,message:i.default.string,isDetecting:i.default.bool},h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.isCollector,a=e.message,n=e.classes,o=e.isDetecting;return r.default.createElement(s.default,{in:!0},r.default.createElement("div",{className:n.chatBubble+" "+(t?n.rightBubble:"")},!o&&r.default.createElement(c.Typography,{variant:"subtitle2",color:"text.primary",className:n.circledText+" "+(o?n.detector:"")},this.props.initials),o&&r.default.createElement("img",{style:{height:"2.5rem",width:"2.5rem"},src:m.default,alt:"Detecting Speakers Animation"}),r.default.createElement(u.default,{className:t?n.highlighterForRight:n.highlighterForLeft,unhighlightClassName:n.message,highlightClassName:n.highlightMessage+" "+n.message,searchWords:d.HIGHLIGHTER_REGEX,textToHighlight:a})))}}]),t}();h.propTypes=f,h.defaultProps={isCollector:!1,message:"",isDetecting:!1},t.default=(0,l.withStyles)(function(e){return{chatBubble:{display:"flex",alignItems:"flex-start",padding:"4px",borderRadius:"4px",minWidth:"calc(100% - 2rem)",width:"calc(100% - 2rem)",minHeight:"1rem",marginBottom:"4px"},rightBubble:{opacity:"0.65 !important",alignSelf:"flex-end",flexDirection:"row-reverse"},message:{fontSize:"1rem",color:e.palette.common.white},highlightMessage:{color:e.palette.common.white,backgroundColor:"rgba(93, 170, 224, 0.3)"},circledText:{minWidth:"2rem",minHeight:"2rem",maxHeight:"2rem",maxWidth:"2rem",borderRadius:"50%",lineHeight:"2rem",textAlign:"center",background:e.palette.primary.main},gifAnimator:{},detector:{background:"transparent",border:e.palette.primary.main+"1px solid"},highlighterForLeft:{alignSelf:"center",marginLeft:"10px"},highlighterForRight:{textAlign:"right",alignSelf:"center",marginRight:"10px"}}},{withTheme:!0})(h)},5907:function(e,t,a){e.exports=a.p+"317df0b71944b200cb0a2329e7aebc0b.gif"},5908:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=u(o),i=(u(a(3)),a(13)),l=a(63),s=u(a(77)),c=a(35);function u(e){return e&&e.__esModule?e:{default:e}}var d={onNotesChange:a(26).emptyFunction},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleNotesTextFieldChange=function(e){a.setState({nonActionNotes:e.target.value})},a.editNonActionNotes=function(){a.setState({isEditingOn:!0},function(){(0,c.setCaretPosition)("non-action-notes-edit-field",a.state.nonActionNotes.length)})},a.discardNotesChanges=function(){a.setState({isEditingOn:!1,nonActionNotes:a.state.prevNonActionNotes},function(){})},a.saveNotesChanges=function(){a.setState({isEditingOn:!1,prevNonActionNotes:a.state.nonActionNotes},function(){a.props.onNotesChange(a.state.nonActionNotes)})},a.blurNonActionNotesBox=function(){setTimeout(function(){var e=document.getElementById("non-action-notes-edit-field");e&&e.blur()},500)},a.state={isEditingOn:!1,nonActionNotes:a.props.initialNotes,prevNonActionNotes:a.props.initialNotes},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.initialNotes!==this.state.nonActionNotes||t.isEditingOn!==this.state.isEditingOn}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return r.default.createElement("div",null,r.default.createElement("div",null,r.default.createElement("span",{className:a.nonActionNotesTitle},"NON ACTION NOTES"),!this.state.isEditingOn&&r.default.createElement(l.BorderColor,{style:{color:n.palette.primary.main,float:"right",cursor:"pointer"},onClick:this.editNonActionNotes}),this.state.isEditingOn&&r.default.createElement("div",{style:{float:"right"}},r.default.createElement(l.HighlightOff,{style:{marginLeft:"0.4rem",color:n.status.warning,padding:"0 1.3rem 0 0.8rem",cursor:"pointer"},onClick:this.discardNotesChanges}),r.default.createElement(l.CheckCircleOutline,{style:{color:n.status.safe,cursor:"pointer"},onClick:this.saveNotesChanges}))),r.default.createElement(s.default,{multiline:!0,defaultValue:this.state.nonActionNotes,onChange:function(t){return e.handleNotesTextFieldChange(t)},className:a.notesEditor+" "+(this.state.isEditingOn?a.nonActionNotesEditing:a.nonActionNotesNotEditing),margin:"normal",InputProps:{id:"non-action-notes-edit-field",className:a.test,classes:{input:a.overflowHidden},readOnly:Boolean(!this.state.isEditingOn),disableUnderline:Boolean(!0)}}))}}]),t}();m.defaultProps=d,t.default=(0,i.withStyles)(function(e){return{nonActionNotesEditing:{padding:"0.8rem",border:e.palette.common.white+"2px solid"},test:{width:"auto",height:"10vh",overflowY:"auto",padding:"0px",display:"block !important",color:e.palette.text.primary,whiteSpace:"pre-line"},nonActionNotesTitle:{fontSize:"1rem",lineHeight:"1.5rem",position:"relative",color:e.palette.text.primary,opacity:.65},notesEditor:{width:"-webkit-fill-available"},nonActionNotesNotEditing:{},overflowHidden:{overflow:"hidden"}}},{withTheme:!0})(m)},5909:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=h(a(0)),r=h(a(3)),i=a(13),l=h(a(140)),s=h(a(115)),c=h(a(21)),u=h(a(5548)),d=a(27),m=h(a(55)),p=(h(a(5549)),a(48)),f=a(87);function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return o.default.createElement(c.default,{component:"div",style:{paddingTop:"1.85vh"}},o.default.createElement(d.Paper,{elevation:1,style:{overflowY:"auto",height:"78.5vh",borderRadius:"4px",boxShadow:"none",background:e.theme.palette.background.default}},e.children))}g.propTypes={children:r.default.node.isRequired};var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handleInvoiceFilter=function(e){var t=(0,f.filterInvoices)(e,a.state.allInvoices);a.setState({invoices:t})},a.handleChange=function(e,t){a.setState({value:t})};var n=a.props.bucketNames;return a.state={value:0,loading:!1,invoices:e.invoices,allInvoices:e.invoices,days:n},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){e.invoices!==this.state.allInvoices&&this.setState({invoices:e.invoices,allInvoices:e.invoices})}},{key:"render",value:function(){for(var e=this.props,t=e.classes,a=e.theme,n=this.state.value,r=[],i=[],c=0,f=0,h=0;h<this.state.days.length;h++)i.push(0);for(h=0;h<this.state.invoices.length;h++){r.push(this.state.invoices[h].length);for(var v=0,y=0;y<this.state.invoices[h].length;y++)v+=this.state.invoices[h][y].currentOpenAmount,c+=1,f+=this.state.invoices[h][y].currentOpenAmount;i[h]=v}return o.default.createElement("div",{className:t.root},!1===this.state.loading&&o.default.createElement("div",null,o.default.createElement(l.default,{value:n,onChange:this.handleChange,indicatorColor:"primary",scrollable:!0,scrollButtons:"auto",classes:{scrollButtons:t.scrollButtons,flexContainer:t.tabsFlexContainer,root:t.tabsRoot,scroller:t.tabsScroller},TabIndicatorProps:{className:t.indicator}},o.default.createElement(s.default,{classes:{selected:t.tabSelected,root:t.tabRoot,wrapper:t.tabWrapper},icon:o.default.createElement("div",null,o.default.createElement("span",{className:t.invoiceCountText},c," ($",(0,p.formatter)(f),")"),o.default.createElement("span",{style:{fontSize:".8rem"}},"All Invoices"))}),this.state.days.map(function(e,a){return o.default.createElement(s.default,{classes:{selected:t.tabSelected,root:t.tabRoot},icon:o.default.createElement("div",null,o.default.createElement("span",{className:t.invoiceCountText},r[a]," ($",(0,p.formatter)(i[a]),")"),o.default.createElement("span",{style:{fontSize:".8rem"}},e))})})),o.default.createElement(g,{theme:a},o.default.createElement(u.default,{emailOfCalled:this.props.emailOfCalled,collector:this.props.collector,customer:this.props.customer,filterInvoices:this.handleInvoiceFilter,bucketNames:this.state.days,invoices:this.state.invoices,expandAddContactDialog:this.props.expandAddContactDialog})),"// }"),this.state.loading&&o.default.createElement("div",null,o.default.createElement(l.default,{value:n,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{scrollButtons:t.scrollButtons}},o.default.createElement(s.default,{style:{color:"white"},label:"All Invoice"}),this.state.days.map(function(e){return o.default.createElement(s.default,{style:{color:"white"},label:e+"days past due"})})),o.default.createElement(d.Paper,{style:{height:"24rem",marginTop:"2rem"}},o.default.createElement(m.default,{className:t.progress,size:100}))))}}]),t}();v.propTypes={classes:r.default.object.isRequired},v.defaultProps={bucketNames:[],invoices:[]},t.default=(0,i.withStyles)(function(e){return{root:{},progress:{margin:"7rem 0 0 20rem"},container:{overflow:"auto"},scrollButtons:{color:"white",flex:"0 !important"},indicator:{height:"2px",top:"5.7vh !important"},tabSelected:{color:e.palette.text.primary+" !important"},tabRoot:{color:e.palette.primary.main,width:"calc(5.666vh + 5.666vw)",minHeight:"6.3vh",maxHeight:"6.3vh"},tabWrapper:{marginBottom:".4vw",width:"calc(5.666vh + 5.666vw)"},tabsFlexContainer:{height:"6.3vh"},tabsRoot:{minHeight:"6.3vh",maxHeight:"6.3vh"},tabsScroller:{marginBottom:"-10vh !important"},invoiceCountText:{color:e.palette.text.primary,fontSize:".8rem",display:"block"}}},{withTheme:!0})(v)},5910:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=b(o),i=b(a(76)),l=a(27),s=b(a(55)),c=a(47),u=a(30),d=a(63),m=a(104),p=a(26),f=b(a(74)),h=b(a(41)),g=b(a(38)),v=b(a(39)),y=b(a(6));function b(e){return e&&e.__esModule?e:{default:e}}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var E=function(e){var t;return{App:{textAlign:"center"},popOver:{color:e.palette.cardBackground.color,width:"calc(15.86vh + 15.86vw)"},head:{color:e.palette.cardBackground.color,fontSize:"1em",opacity:.65},icon:C({height:"calc(1.6vh + 1.6vw)",minWidth:"calc(1.6vh + 1.6vw)",cursor:"pointer",textAlign:"center",borderRadius:"50%"},"textAlign","center"),voiceMailIcon:{background:e.palette.primary.main,padding:"1px"},voicemailSentIcon:{border:e.palette.primary.main+"2px solid"},voicemailProgressParent:{cursor:"pointer",textAlign:"center"},voicemailBox:(t={wordBreak:"break-word",borderBottom:"0.5px solid rgb(93,170,224)"},C(t,"borderBottom","0.5px solid rgba(93,170,224,0.65)"),C(t,"padding","0.937vw 12px 20px 12px"),C(t,"display","flex"),C(t,"marginBottom","20px"),C(t,"flexDirection","row"),t),disabledVoicemailBox:{cursor:"default !important",opacity:"0.65"},voicemailText:{display:"flex",flexDirection:"column",marginLeft:"1.2rem",cursor:"pointer"},voicemailProgress:{width:"inherit !important",height:"inherit !important",fill:e.palette.primary.main},closeIcon:{fill:"lightblue",position:"absolute",right:"3%",fontSize:"2rem",cursor:"pointer"},voicemailBtn:{color:e.palette.common.white,fontSize:"1.7rem",padding:"10%"},voicemailSentBtn:{fontSize:"1.5rem !important"},disableBtn:{opacity:.4,cursor:"default"},voiceMailFontStyle:{opacity:.65,fontSize:"0.89rem"}}},S={onVoicemailClick:p.emptyFunction,callState:{status:""}},w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.initializeVoicemailData=function(e){for(var t=new Map,n=new Map,o=0;o<e.length;o++)t.set(e[o].id,!1),n.set(e[o].id,!1);a.setState({voicemailTemplates:e,voicemailClickMap:t,voicemailSentMap:n})},a.handleOpen=function(){a.setState({open:!0})},a.handleChange=function(e){a.setState({phoneNumber:e.target.value})},a.handleClose=function(){a.setState({open:!1,disableVoicemailClick:!a.state.isVoicemailEnabled})},a.handleVoicemailClick=function(e){if(!a.state.disableVoicemailClick){var t=e.id,n=a.state.voicemailClickMap;n.set(t,!0),a.setState({voicemailClickMap:n,disableVoicemailClick:!0},function(){console.log(e.templateName,a.state.id),a.setState(C({},t,!0)),"OK"===(0,m.sipToggleMute)()?a.setState({snackOpen:!0,snackMessage:"Mic auto muted"}):a.setState({snackOpen:!0,snackMessage:"Failed to auto mute mic!"}),0===t?((0,m.sipSendDTMF)("#"),(0,m.sipSendDTMF)("4"),console.log("1st Template")):1===t?((0,m.sipSendDTMF)("#"),(0,m.sipSendDTMF)("5"),console.log("2nd Template")):((0,m.sipSendDTMF)("#"),(0,m.sipSendDTMF)("6"),console.log("Last template")),a.props.onVoicemailClick()}),setTimeout(function(){var e=a.state.voicemailSentMap;e.set(t,!0),a.setState({voicemailSentMap:e,isVoicemailEnabled:!1})},2e3),setTimeout(function(){return a.handleClose()},p.VOICEMAIL_AUTO_CLOSE_TIMEMOUT)}},a.closeSnackbar=function(){a.setState({snackOpen:!1})},a.isVoicemailAvailable=function(){return"Connected to"===a.props.callState.status&&a.state.voicemailTemplates&&a.state.voicemailTemplates.length>0&&a.state.isVoicemailEnabled},a.state={open:!1,phoneNumber:"",displayNumber:"",dialled:!1,focus:!0,isVoicemailEnabled:!0,isVoicemailClicked:!1,voicemailClickMap:new Map,voicemailSentMap:new Map,voicemailTemplates:[],snackOpen:!1,disableVoicemailClick:!1},g.default.get(v.default.apiUrl+"/voicetemplate").then(function(e){console.log("Voicemail Fetched",e.data),a.initializeVoicemailData(e.data)}).catch(function(e){console.log("Failed to fetch voicemails",e)}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;return r.default.createElement("div",{className:a.App},r.default.createElement(d.Voicemail,{className:this.isVoicemailAvailable()?a.voicemailBtn:a.voicemailBtn+" "+a.disableBtn,onClick:this.handleOpen}),r.default.createElement(i.default,{id:"simple-popper",open:this.state.open,onClose:this.handleClose,anchorReference:"anchorPosition",anchorPosition:{top:80},PaperProps:{style:{height:"100%",marginTop:"3em",right:"0",background:n.palette.background.paper,borderLeft:n.palette.common.white+"2px solid",borderRadius:0}},anchorOrigin:{vertical:20,horizontal:20},transformOrigin:{vertical:20,horizontal:20}},r.default.createElement("div",{className:a.popOver},r.default.createElement("div",{style:{display:"flex",paddingLeft:"0.937vw",marginTop:"5%",alignItems:"center"}},r.default.createElement(l.Typography,{className:a.head},"VOICE MAIL"),r.default.createElement(d.Close,{onClick:this.handleClose,className:a.closeIcon})),r.default.createElement("br",null),r.default.createElement("div",null,this.state.voicemailTemplates.map(function(t){return r.default.createElement("div",{className:e.state.disableVoicemailClick?(0,y.default)(a.disabledVoicemailBox,a.voicemailBox):a.voicemailBox,key:t.id},!e.state.voicemailClickMap.get(t.id)&&r.default.createElement("div",{className:(0,y.default)(a.voiceMailIcon,a.icon)},r.default.createElement(d.Voicemail,{className:a.voicemailBtn})),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&r.default.createElement("div",{className:(0,y.default)(a.voicemailProgressParent,a.baseIconSize)},r.default.createElement(s.default,{className:a.voicemailProgress})),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&r.default.createElement("div",{className:(0,y.default)(a.voicemailSentIcon,a.icon)},r.default.createElement(d.Done,{className:(0,y.default)(a.voicemailSentBtn,a.voicemailBtn)})),r.default.createElement("div",{className:a.voicemailText,onClick:function(){return e.handleVoicemailClick(t)}},!e.state.voicemailClickMap.get(t.id)&&r.default.createElement(l.Typography,{style:{color:n.palette.cardBackground.color,fontSize:".89rem"},className:a.voiceMailFontStyle},"Send"),e.state.voicemailClickMap.get(t.id)&&!e.state.voicemailSentMap.get(t.id)&&r.default.createElement(l.Typography,{style:{color:n.palette.cardBackground.color},className:a.voiceMailFontStyle},"Sending"),e.state.voicemailClickMap.get(t.id)&&e.state.voicemailSentMap.get(t.id)&&r.default.createElement(l.Typography,{style:{color:n.palette.primary.main},className:a.voiceMailFontStyle},"Sent"),r.default.createElement(l.Typography,{style:{color:n.palette.cardBackground.color}},t.templateName)),r.default.createElement(d.MoreVert,{style:{right:"3%",position:"fixed"}}))})))),r.default.createElement(f.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:this.state.snackMessage,open:this.state.snackOpen,autoHideDuration:2e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:r.default.createElement("span",{id:this.state.snackMessage},this.state.snackMessage),action:[r.default.createElement(l.IconButton,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.closeSnackbar},r.default.createElement(h.default,null))]}))}}]),t}();w.defaultProps=S;var x=(0,l.withStyles)(E)(w);t.default=(0,u.connect)(function(e){return{callState:e.callState}},function(e){return{changeCaller:function(t){return e((0,c.changeCaller)(t))}}})((0,l.withStyles)(E,{withTheme:!0})(x))},5911:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=w(a(0)),i=a(13),l=w(a(5912)),s=w(a(88)),c=w(a(97)),u=w(a(138)),d=w(a(32)),m=w(a(108)),p=a(26),f=a(27),h=w(a(5913)),g=w(a(28)),v=w(a(29)),y=w(a(5914)),b=a(47),C=a(30),E=(a(63),w(a(24)),w(a(6))),S=a(5545);function w(e){return e&&e.__esModule?e:{default:e}}var x={openSnackbarOnAction:p.emptyFunction},T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleMinimize=function(){a.props.toggleAddContactDialog(!0)},a.handleExpand=function(){a.props.toggleAddContactDialog(!1)},a.handleTextFieldChange=function(e){return function(t,n){var o={value:t.target.value,invalid:!n},r=Object.assign({},a.state.fields);r[e]=o;var i=a.validateAllFields(r);a.setState({fields:r,allFieldsValid:i})}},a.handleSave=function(){var e=void 0;console.log("in handlesave");try{e=a.props.customer.id,console.log("in handlesave try")}catch(t){e=-1,console.log("in handlesave catch")}var t={customerId:e,firstName:a.getFieldValue("first-name"),lastName:a.getFieldValue("last-name"),email:a.getFieldValue("email-field")};"Mobile"==a.state.contactType?t.mobileNumber=a.props.calledToNumber:t.phoneNumber=a.props.calledToNumber,a.props.saveContact(t),console.log("in handlesave called savecontact"),a.props.onClose()},a.handleContactTypeChange=function(e){a.setState({contactType:e.target.value})},a.getFieldValue=function(e){return a.state.fields[e]?a.state.fields[e].value:""},a.validateAllFields=function(e){for(var t in e)if(a.isFieldInvalid(t,e))return!1;return!0},a.isFieldInvalid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.state.fields;return!t[e]||t[e].invalid},a.state={fields:{"first-name":!1,"last-name":!1,"email-field":!1},open:a.props.open,contactType:"Mobile",allFieldsValid:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentDidUpdate",value:function(e){if(this.props.open!==e.open&&this.setState({open:this.props.open}),this.props.addContactStatus!==e.addContactStatus&&!1===this.props.addContactStatus.loading){this.props.openSnackbarOnAction(this.props.addContactStatus.success?"CONTACT_SAVE_SUCCESS":"ERROR");var t={id:this.props.addContactStatus.id};this.props.changeCallLog(t)}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.calledToNumber,n=(e.onClose,e.dialogID),o=e.theme;return r.default.createElement(r.default.Fragment,null,!this.props.minimizeAddContactDialog&&r.default.createElement(s.default,{open:this.state.open,classes:{paperScrollPaper:t.dialogPaper},"aria-labelledby":"form-dialog-title"},r.default.createElement(m.default,{id:n,className:t.dialog},r.default.createElement("div",{style:{display:"flex",flexDirection:"column"},className:t.title},r.default.createElement("div",{className:t.title},r.default.createElement(f.Typography,{variant:"h6",style:{color:o.palette.common.main,opacity:"0.65"}},p.ADD_CONTACT_DIALOG_TEXTS.TITLE),r.default.createElement("img",{className:t.minimizeButton,src:"/tovo/static/resize.svg",onClick:this.handleMinimize})),r.default.createElement(f.Typography,{style:{color:o.palette.common.main,opacity:"0.4"}},p.ADD_CONTACT_DIALOG_TEXTS.SUB_TITLE))),r.default.createElement(u.default,{className:t.dialog},r.default.createElement(h.default,{autoFocus:!0,error:this.isFieldInvalid("first-name"),id:"first-name",placeholder:"Enter first name",defaultValue:this.getFieldValue("first-name"),maxLength:100,onChange:this.handleTextFieldChange("first-name")}),r.default.createElement(h.default,{error:this.isFieldInvalid("last-name"),id:"last-name",placeholder:"Enter last name",defaultValue:this.getFieldValue("last-name"),maxLength:100,onChange:this.handleTextFieldChange("last-name")}),r.default.createElement(y.default,{optionList:["Mobile","Phone"],contactType:this.state.contactType,calledToNumber:a,onChange:this.handleContactTypeChange}),r.default.createElement(l.default,{error:this.isFieldInvalid("email-field"),id:"email-field",placeholder:"Enter email",defaultValue:this.getFieldValue("email-field"),maxLength:255,onChange:this.handleTextFieldChange("email-field")})),r.default.createElement(c.default,{className:t.dialog,style:{margin:"0px"}},r.default.createElement(d.default,{onClick:this.handleSave,disabled:!this.state.allFieldsValid,style:{background:o.palette.primary.main,margin:"0 12px 12px 0",height:"2.5rem",width:"6.6rem"}},"Save"))),this.props.minimizeAddContactDialog&&r.default.createElement(f.Snackbar,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.open,style:{width:"25.8rem"}},r.default.createElement(f.SnackbarContent,{className:this.state.allFieldsValid?(0,E.default)(t.borderValid,t.minimizedModal):(0,E.default)(t.borderInvalid,t.minimizedModal),"aria-describedby":"client-snackbar",classes:{message:t.titleFlex},message:r.default.createElement("div",{className:t.title},r.default.createElement(f.Typography,{variant:"h6",style:{color:o.palette.common.main,opacity:"0.65"}},p.ADD_CONTACT_DIALOG_TEXTS.TITLE),r.default.createElement("img",{className:t.minimizeButton,src:"/tovo/static/resize.svg",onClick:this.handleExpand}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.addContactStatus,o=e.open,r=e.minimizeAddContactDialog;return a&&!1===a.success?n({open:!0},t):(console.log("WILL RECIEVE PROPS 2",o,r),n({},t))}}]),t}(),N=(0,g.default)(function(e){return{dialog:{backgroundColor:e.palette.solidBackground.main,color:e.palette.common.white},dialogPaper:{border:e.palette.common.white+" 2px solid",width:"25.8rem"},titleFlex:{flexGrow:1},title:{display:"flex",flexGrow:1,flexDirection:"row",justifyContent:"space-between"},borderInvalid:{border:e.palette.error.main+" 2px solid"},borderValid:{border:e.palette.common.white+" 2px solid"},minimizeButton:{color:e.palette.common.white,cursor:"pointer",opacity:.65,width:"2.1rem",height:"2.1rem",alignItems:"flex-end",justify:"flex-start"},minimizedModal:{backgroundColor:e.palette.solidBackground.main,width:"25.8rem",boxShadow:"none"}}},v.default);T.defaultProps=x;t.default=(0,C.connect)(function(e){return{addContactStatus:e.contactReducer,customerState:e.customers,callLogState:e.callLogState}},function(e){return{saveContact:function(t){return e((0,b.saveContact)(t))},changeCallLog:function(t){return e((0,S.changeCallLog)(t))}}})((0,i.withStyles)(N,{withTheme:!0})(T))},5912:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=l(a(0)),r=l(a(5551)),i=a(5544);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.onChange,a=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["onChange"]);return o.default.createElement(r.default,n({onChange:function(e){return function(e,t){t(e,(0,i.validateEmail)(e.target.value))}(e,t)},type:"email"},a))}},5913:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=i(a(0)),r=i(a(5551));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.onChange,a=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["onChange"]);return o.default.createElement(r.default,n({onChange:function(e){return function(e,t){t(e,e.target.value&&!0)}(e,t)}},a))}},5914:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(0)),o=a(13),r=u(a(73)),i=u(a(86)),l=u(a(21)),s=u(a(28)),c=u(a(29));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t,a){return n.default.createElement(i.default,{key:t,value:e,classes:{root:a.menuItemRoot}},e)},m=(0,s.default)(function(e){return{selectInput:{color:e.palette.common.white},selectArrow:{fill:e.palette.primary.main},selectInputContainer:{display:"flex",alignItems:"center",borderBottom:"1px solid "+e.palette.primary.main,margin:"0 0 10px 0"},selectMenu:{fontSize:".9rem !important",color:e.palette.common.main}}},c.default);t.default=(0,o.withStyles)(m,{withTheme:!0})(function(e){var t=e.classes,a=e.contactType,o=e.onChange,i=e.calledToNumber,s=e.optionList;return n.default.createElement("div",{className:t.selectInputContainer},n.default.createElement(r.default,{disableUnderline:!0,value:a,onChange:o,classes:{icon:t.selectArrow,selectMenu:t.selectMenu},inputProps:{name:"phone-number-type",id:"phone-number-type-select"},className:t.selectInput,MenuProps:{classes:{paper:t.menuPaper}}},s.map(d,t)),n.default.createElement(l.default,{style:{color:"#FFF",fontSize:"14px"}},i))})},5915:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAABHNCSVQICAgIfAhkiAAABl5JREFUaIHFml9sU9cdxz+/6xu7OI7yF5rQ0tjAJp7W0CGxf2KG7n0gDZBaWL1NmsQT2R6mSaUSE3TdHqbCw6Q9TCIt2cPSh6Taw55G3H/qWlSRdBIb0lrHLCMeBIhJ4sT29f3twX+I7es/1w7wfbo+9/zu+Zzf/Z1zfvccC20qMhnrsS3Pd210BNWwKEGEYFklZU6FOUSiBjJjmLn3xo6EltppV1o1fPnP8VcEPSzC4VbsVZlSZOpPx4ffasXeFXhkMtZjWcZpsTVS5dVWpcypIWOmaV908xaaBj/xTiwstlzaNOBKKXNq6I/Gj4aizVRvCB6ZjPXkssaboJH26ZqQyoXLx4d/1qhaXfDIZKzHysq0wMjmkTWWwozZoQfrhY5R68ZLE7GRJwENIDBiZWX6pYlYzbYdPf6kPF2pep43KwvahR7u8XJybx9fGfAhwHwyy1/+leTjm6uun1X0PLC38l5VqOSyxptO0P1+DwP+qn6WaXe/j1cPDvLVAjTAs90dnNo/wA9f6HMNXoQ/MRG7UBf8xDuxsNPs0e/3cObgEGcODdK7xePYgGnAz7+zjadM5/H+vV1dfOu5zhbh5XSezQE8MhnrEVsuORme2r+Vfr+Hvi0eXjs05Ai/d7ufgLfmWAcgvLOrJXAAseVSZDLWUwVuZRittbj84ZNF7q3lABjwO8Pv6PY2bPzZ7o4WsQEhaGUYLf4sgYvI6Vo2iymL81cSdeHfj62QXM/Vbds0Wk6N8ozIK8VrA+DkRCwC9NS0oDH8Ysri3HSiIXxbEoIF1pLHm8rwGsHfXnkM8AVWyecict+N5YDf5MyhQfpK3s5x7soC9wsd2hYwee3gIN1PlY+DdUv56eTNtsk9HdprWBnCjauW60l73soQNmhxhWwW/kHa3jTgDRoxRNx7vKha8MUQub1i8fojgBchbKAy3M5DnODPbIjvheXspsMr0m1sxhfNYsrig7mV0u+nA6Yz/CbFvMBI/azJQT/e189goIPkeo7f//1OqTyb07J6RfjzhUG6sJzlt+//r6zON3Z0cmhXPg14+9pd5pPZpjnqJxcOGvCb7NnqY98z/rLy/z6obrTS83dWrbL7O/u87NnqY89Wn1sM9+BFQI+Rz72LunYrxUqmOo4r4TdqZ18eOKdwy6Hj9WQoGndjcO1WqnR9IBQoXdsKv/vgNuuWVtk4wRsCQ135pOsfiTXsarOaUtVZQ2DODfj12+slr7+4q4tg70Ovf3Evza/+tsCVL5axNd+Z4luohLcVfvNeglRWiX65Ut1QHYmw5PnaD0aDIuJqLn+QzrF/Ryci8PyQnw/nVsgUBudy2mZmYY2p60mmrif5dD7FN58L4DOFgNfg68/4+XQ+RdpSHqRtZhZS3FhMuwJX5S0DmHFlBVydT/FRPP8N2bfFw9kXhxjscp6g7qxa/Ho671l46PkuX354uZlJNmjG88LLowm15ZduLT9PrLG7z8e2gEmn1yAc6qLTa5Bcz5HK2mUx2+EROn0eQoWwCngN9m7388l/Vktvyo1ML6cE4OREbArk+24fIAI/2dfPgWCgrNxWWFy1WM3aDPjNkncrdauwMC27WlX13cvHQoeLT5xyCw2gCn+8epexz+6xln3oOUPyqW2o11sGnc4pH8Yfenl7VwevbgibJjUFGzaETkzE5oTW85YOj/Dt4U5CvT529/vYUfi+XMsqH8VX+OeddT5PrJG2lN39Pn5x4OnSjkCznlc0Pn4sFISNC5Ay1io05Jf86JcrXPrsLn+9kSyVLyxnefvaPa4WZhKAf99N80Y0UZrzm/W8CKX9lVJN08sFt4tRO4rdz/BGNFEKsUbwisYvHw1Vg48dCS0hPJ6t5IJi9zO83ix8BVtZjfGjoaiqtnS00apuLuXhVwsrrCBoxQyp6MXKDf+qrpleRlV19hGyVunmUobz0wluLKY5d2WhLFlT1dnxY6HRSpva28wZoiLy/CPkbShVnTW9hJ22mR1HwtiR0JItRB635zdKVWdtIVLrVKLxUcoT8Hw9TxfV1OGVleWsUHtvcTOl6EWnmK6Uq+NClLF2Vtd6UjSOENm048KNKoTOKEJkszqgaBxlbPx46Kwbu5b3fQu7podbySrz0neBqcvHQi2lGu1tWFN6C2FgRISwQrDybajqrAhLqkSBGdNLtN0/Ifwf0hsDJr8ym9cAAAAASUVORK5CYII="},5916:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAABHNCSVQICAgIfAhkiAAABK1JREFUaIHNmW2IVFUYx3/PndlVS5CdOde3QFQSLWwxBUPMzTQQUwPxZemjlhD0JfRDUGZvRPjJiMgPFSrRF5WCkLKoVJKFtAxpUzFcX6C23Xtnd1a3nM2Z+/Th7uq6O3fumdmdHf9wuTPnPM95fnPm3HPOPY8wClLXnUMQLMVxFqL6CPAAMBWRelS7gC6gE/iRIDhKV9dPAsFIYkrFsMbMBZ4H1iEytzxn7QaOEASf0tX1fSU/omxwNWYtsB2RJ8v1jdDfBMHHZDLvCORsnazBtaGhkUTifUSeqIwvLoD+gUizeN6vNuZObHuQUNfdSSLxS9WgAUTmoHpK0+mX1aJDSxqo604EvgYeHy0+K6kewfebBf6NMokEV7gPY35A5LHq0MVI9Qz5/ErJZrPFqosOFYV6XPfbmkEDiCwkmfxGYXyx6mHgCg7GHAKWVh0uTiKLcd3Pi4354T2eTr+JyDNjAman1Rjz+tDCu35J/6LSikhyzLBspKrACvH94wNFd/e4yL57DhpARBD5SCExUHQbXF13C7CkJmB2epB0+oWBLwKgILjuJWBWzbBspHoN358poGGPG/M09zo0gMgMUqlVcGeovFRDnPLkOFsARGE8xvyDSOy+JVKzZ8O8eTB5MkyZEt6nToVcDtra7lznzsGNGyMDV+3B99NJjFlSEbQxsGkTbNgAjY32fh0dcPo0HDgAJ06UHRaRSRizTNR1dwJvWzs2NsK2bbB+PdTXlx94sC5ehL174eBBuHWrHM9XRY35EpF1saZ1dbBnD2zeXDFnpNrawnavXbP1OOQA06xMt26tDjSEz8iuXeV4PJQEXCvT5uboutZW2L8fTp6EK1cgGPIKaQzMnw+LFsGOHZAssjivXh2W5/M2NJNFXbcXuL+k2bhxcPUqOEWe4Vwu7DG7gHD4MDQ1Fa9raoILF+LbUA0cIH5vkk4Xhwbo7LSHBmhvj65raLBuxgGKvmHcpVJgdXXWwQCYMCG6Tqzf3TscVDOxZpkMqBavM6acgOECFaWbN21baU8icg54uKRZoRCO8ZkzIZuFS5fCq60tvCeT9vPwxo0wfTpMmxbeB3+2nw7bRY15DZG3Yk1nzQqhu7ttG6+mdidRbbH6qy9frj6OrQqFY6KQwHV7iJsS7xWp5vH9iY5AAfiq1jxlqEWgL5ycC4VPagxjL5EPYfCrmzFXEJlRW6oYqf6J788QCBwAAUXkjVpzWei9gbP0oecqZxB5tDZMMVI9j+8vEPgPhp+rPIfqiFIcVZFqQD7/7AA0DAHvP1SPX4zGWqrvSjZ7dnDRsJWn/9DzOCLLxo6spI7ieWuG5omG7VX7Ddag+vuYoUVJ9Wc8b32x5FbRTbb4/g1yuRVAa9XhovUbhcJTUQmtyGMJ6e3tBJagWotV9Sx9fculu7snyqDkeYp4Xi++vxbVHUDfqOMV1wd43mK5fr2rJJttazpp0mzq6vZX7aFVPQ+8KL5/zMa8/ARtKrURx3ll1BaqML+5G8/bV06GeSQp8eXAdmAVIuUdaan2IPIFQfCZZDLfVRK/YvDbDGFacSWwBlgApBBJoZoi7MEO4C/gInAGkVN4Xkv/drpi/Q+0X39cXIV6DwAAAABJRU5ErkJggg=="},5917:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(t){if("serviceWorker"in navigator){var o=new URL(e.env.PUBLIC_URL,window.location);if(o.origin!==window.location.origin)return;window.addEventListener("load",function(){var o=e.env.PUBLIC_URL+"/service-worker.js";a?(!function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):n(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(o,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):n(o,t)})}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})};var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}}).call(this,a(196))},71:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.persistor=t.store=void 0,a(5616);var n=a(58),o=c(a(5620)),r=(c(a(5636)),c(a(5920))),i=c(a(5637)),l=a(5919),s=c(a(5671));function c(e){return e&&e.__esModule?e:{default:e}}var u={key:"root",storage:c(a(5672)).default,blacklist:["callState","sipReducer","transcription","freedaRootReducer","contactReducer"]},d=(0,l.persistReducer)(u,o.default),m=(0,r.default)(),p=t.store=(0,n.createStore)(d,window.__REDUX_DEVTOOLS_EXTENSION__?(0,n.compose)((0,n.applyMiddleware)(m,s.default),window.__REDUX_DEVTOOLS_EXTENSION__()):(0,n.applyMiddleware)(m,s.default));m.run(i.default);t.persistor=(0,l.persistStore)(p)},82:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleApiResponse=function(e){n.store.getState().personalDetails;var t=e.data;if(console.log(e,"api respons ehere"),"200"!=e.status){console.log(e.status,"status "),"401"==e.status&&console.log("session timed out");var a=t&&t.message||e.statusText;return console.error(a),Promise.reject(a)}return t};var n=a(71)},87:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedInvoiceCount=t.getReasonMessage=t.buildInvoiceCheckboxMap=t.buildCorrectInvoiceMap=t.computeCorrectInvoices=t.computeIncorrectInvoices=t.calculateTotalAmount=t.filterInvoices=t.initializeCheckboxMap=t.extractDataFromSummary=t.checkSummaryCompleteMap=t.createInitialNonActionSummaryNotes=t.appendIdsToSummary=t.createSummaryCompletionMap=t.generateNotesAsString=void 0;var n=a(35),o=a(26),r=(t.generateNotesAsString=function(e){for(var t="",a=0;a<e.length;a++)t+=a===e.length-1?e[a].trim():e[a].trim()+"/n";return t},t.createSummaryCompletionMap=function(e){var t=new Map;return e&&e.map(function(e){return(0,n.isActionIntent)(e.intent)&&t.set(e.id,!1)}),t},t.appendIdsToSummary=function(e){if(e)for(var t in e)e[t].id=t+1,e[t].save=!1;return e},t.createInitialNonActionSummaryNotes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";for(var o in t&&(a+=t),e)(0,n.isActionIntent)(e[o].intent)||(a+=e[o].summary);return a},t.checkSummaryCompleteMap=function(e){var t=!0,a=!1,n=void 0;try{for(var o,r=e.values()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){if(!1===o.value)return!0}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}return!1},function(e,t){var a=e.match(t);return a||[]}),i=(t.extractDataFromSummary=function(e,t){switch(t){case o.INTENT_TYPES.P2P:return r(e,o.INTENT_REGEX.P2P_REGEX);case o.INTENT_TYPES.DISPUTE:return r(e,o.INTENT_REGEX.DISPUTE_REGEX);case o.INTENT_TYPES.FOLLOW_UP:return r(e,o.INTENT_REGEX.FOLLOW_UP_REGEX);default:return[]}},t.initializeCheckboxMap=function(e){var t=new Map;if(e)for(var a=0;a<e.length;a++){var n=e[a];t.set(n.id.toString(),!1)}return t},function(e,t){return e===o.INVOICE_BUCKETS.DISPUTE&&t.disputeStatus||e===o.INVOICE_BUCKETS.PREDICTED_DELINQUENT&&t.p2pDelinquent||e===o.INVOICE_BUCKETS.UPCOMING_P2P&&t.p2pUpcoming||e===o.INVOICE_BUCKETS.BROKEN_P2P&&t.p2pBroken}),l=(t.filterInvoices=function(e,t){if(e===o.INVOICE_BUCKETS.ALL)return t;for(var a=[],n=0;n<t.length;n++){for(var r=[],l=0;l<t[n].length;l++){var s=t[n][l];i(e,s)&&r.push(s)}a.push(r)}return a},t.calculateTotalAmount=function(e,t){return e+(t.hasOwnProperty("currentOpenAmount")?t.currentOpenAmount:0)},t.computeIncorrectInvoices=function(e,t){return e&&t&&e.constructor===Array?e.filter(function(e){return!t[e.id]}):[]},t.computeCorrectInvoices=function(e,t){var a=[];if(!e||!t)return a;for(var n in e)if(e[n]){var o=!1;for(var r in t){if(o)break;var i=t[r];for(var l in i)if(i[l].id.toString()===n){a.push(i[l]),o=!0;break}}}return a},t.buildCorrectInvoiceMap=function(e){var t={};return l(e)?(e.map(function(e){return t[e.id]=!0}),t):invoiceCheckboxMap},t.buildInvoiceCheckboxMap=function(e){var t=new Map;return l(e)?(e.map(function(e){return t.set(e.id.toString(),!1)}),t):t},function(e){return e&&e.constructor===Array});t.getReasonMessage=function(e){return o.SELECT_REASON_MESSAGE.replace("<intent>",e)},t.getFormattedInvoiceCount=function(e){return e>1?e+" Invoices":e+" Invoice"}}},[[5558,1,2]]]);
//# sourceMappingURL=0.bundle.js.map